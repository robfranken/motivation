<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Latent Profile Transition Analysis</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/navigation-1.1/codefolding.js"></script>
<script src="site_libs/navigation-1.1/sourceembed.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet" />

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
#rmd-source-code {
  display: none;
}
</style>





<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #ffffff;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  background: white;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->
<style type="text/css">
.code-folding-btn { margin-bottom: 4px; }
</style>



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Motivation</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="lpa1.html">Exploring LPA</a>
</li>
<li>
  <a href="lpta.html">LPTA</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">

<div class="btn-group pull-right">
<button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span>Code</span> <span class="caret"></span></button>
<ul class="dropdown-menu" style="min-width: 50px;">
<li><a id="rmd-show-all-code" href="#">Show All Code</a></li>
<li><a id="rmd-hide-all-code" href="#">Hide All Code</a></li>
<li role="separator" class="divider"></li>
<li><a id="rmd-download-source" href="#">Download Rmd</a></li>
</ul>
</div>



<h1 class="title toc-ignore">Latent Profile Transition Analysis</h1>

</div>


<p><br></p>
<p><em>Last edited: January 25, 2021</em></p>
<p><br></p>
<p>In the following, we will explore motivational profiles in the context of longitudinal data, using SDT as a theoretical framework. We will explore movement between motivational profiles over time.</p>
<p><br></p>
<div id="approach" class="section level2">
<h2>Approach</h2>
<p>EDIT! First, we obtain weighted factor-scores for each SMS-subscale with CFA using MLE, as input for our subsequent LPA. Then, we use a three-step approach (see <a href="https://www.tandfonline.com/doi/pdf/10.1080/10705511.2014.915181">this article</a>; or the paper by <a href="https://www.sciencedirect.com/science/article/pii/S1469029219303851">Emm-Collison and colleagues</a> who used the same procedure).</p>
<hr />
</div>
<div id="preliminary-steps" class="section level1">
<h1>Preliminary steps</h1>
<div id="data" class="section level2">
<h2>1. Data</h2>
<p>Let’s get our ‘cleaned’ SMS-data, for each wave. We identify “string responding”, and cap it to a maximum of 10 and we exclude multivariate outliers with Mahalanobis Distance, using alpha .001 as a cutoff. Next, we make a long file of the SMS data.</p>
<pre class="r fold-hide"><code>library(sjlabelled)
library(dplyr)
library(tidyverse)
library(careless)
library(psych)

load(&quot;data_abs_public_v2.RData&quot;) # load data
data_abs_public &lt;- unlabel(data_abs_public, verbose=F) # unlabel

data_abs_public$id &lt;- 1:nrow(data_abs_public) # add identifier for subsequent LPTA

# subset sms data in each wave
sms_w1 &lt;- data_abs_public %&gt;% select(W1_M1_1, W1_M1_2, W1_M1_3, W1_M1_4, W1_M1_5, W1_M1_6, W1_M1_7, W1_M1_8, W1_M2_1, W1_M2_2, W1_M2_3, W1_M2_4, W1_M2_5, W1_M2_6, W1_M2_7, W1_M2_8, W1_M3_1, W1_M3_2, W1_M3_3, W1_M3_4, W1_M3_5, W1_M3_6, W1_M3_7, W1_M3_8, id)

sms_w2 &lt;- data_abs_public %&gt;% select(W2_M1_1, W2_M1_2, W2_M1_3, W2_M1_4, W2_M1_5, W2_M1_6, W2_M1_7, W2_M1_8, W2_M2_1, W2_M2_2, W2_M2_3, W2_M2_4, W2_M2_5, W2_M2_6, W2_M2_7, W2_M2_8, W2_M3_1, W2_M3_2, W2_M3_3, W2_M3_4, W2_M3_5, W2_M3_6, W2_M3_7, W2_M3_8, id) 

sms_w3 &lt;- data_abs_public %&gt;% select(W3_M1_1, W3_M1_2, W3_M1_3, W3_M1_4, W3_M1_5, W3_M1_6, W3_M1_7, W3_M1_8, W3_M2_1, W3_M2_2, W3_M2_3, W3_M2_4, W3_M2_5, W3_M2_6, W3_M2_7, W3_M2_8, W3_M3_1, W3_M3_2, W3_M3_3, W3_M3_4, W3_M3_5, W3_M3_6, W3_M3_7, W3_M3_8, id)

# make a &#39;string&#39; variable 
sms_w1 &lt;- sms_w1 %&gt;%
  mutate(string_w1 = longstring(.)) %&gt;%
  mutate(md_w1 = outlier(., plot = FALSE))

sms_w2 &lt;- sms_w2 %&gt;%
  mutate(string_w2 = longstring(.)) %&gt;%
  mutate(md_w2 = outlier(., plot = FALSE)) 

sms_w3 &lt;- sms_w3 %&gt;%
  mutate(string_w3 = longstring(.)) %&gt;%
  mutate(md_w3 = outlier(., plot = FALSE)) 

# cap string responding and use MD
cutoff_w1 &lt;- (qchisq(p = 1 - .001, df = (ncol(sms_w1) - 1)))
sms_w1 &lt;- sms_w1 %&gt;%
  filter(string_w1 &lt;= 10,
         md_w1 &lt; cutoff_w1) %&gt;%
  select(-string_w1, -md_w1)

  cutoff_w2 &lt;- (qchisq(p = 1 - .001, df = (ncol(sms_w2) - 1)))
sms_w2 &lt;- sms_w2 %&gt;%
  filter(string_w2 &lt;= 10,
         md_w2 &lt; cutoff_w2) %&gt;%
  select(-string_w2, -md_w2)

cutoff_w3 &lt;- (qchisq(p = 1 - .001, df = (ncol(sms_w3) - 1)))
sms_w3 &lt;- sms_w3 %&gt;%
  filter(string_w3 &lt;= 10,
         md_w3 &lt; cutoff_w3) %&gt;%
  select(-string_w3, -md_w3)

# first, make a wide format
sms_wide &lt;- merge(sms_w1, sms_w2, by = &quot;id&quot;) # first wave 1 and 2
sms_wide &lt;- merge(sms_wide, sms_w3, by = &quot;id&quot;) # add wave 3

# then transform into long shape
library(reshape2)
sms_long &lt;- reshape(sms_wide,
                    direction = &quot;long&quot;,
                    varying = c(list(names(sms_wide)[c(2, 26, 50)]), list(names(sms_wide)[c(3, 27, 51)]), list(names(sms_wide)[c(4, 28, 52)]), list(names(sms_wide)[c(5, 29, 53)]), list(names(sms_wide)[c(6, 30, 54)]), list(names(sms_wide)[c(7, 31, 55)]), list(names(sms_wide)[c(8, 32, 56)]), list(names(sms_wide)[c(9, 33, 57)]), list(names(sms_wide)[c(10, 34, 58)]),list(names(sms_wide)[c(11, 35, 59)]), list(names(sms_wide)[c(12, 36, 60)]), list(names(sms_wide)[c(13, 37, 61)]), list(names(sms_wide)[c(14, 38, 62)]),list(names(sms_wide)[c(15, 39, 63)]), list(names(sms_wide)[c(16, 40, 64)]), list(names(sms_wide)[c(17, 41, 65)]), list(names(sms_wide)[c(18, 42, 66)]), list(names(sms_wide)[c(19, 43, 67)]), list(names(sms_wide)[c(20, 44, 68)]),  list(names(sms_wide)[c(21, 45, 69)]),  list(names(sms_wide)[c(22, 46, 70)]), list(names(sms_wide)[c(23, 47, 71)]), list(names(sms_wide)[c(24, 48, 72)]), list(names(sms_wide)[c(25, 49, 73)])),
                    v.names = c(&quot;M1_1&quot;, &quot;M1_2&quot;, &quot;M1_3&quot;,&quot;M1_4&quot;, &quot;M1_5&quot;, &quot;M1_6&quot;, &quot;M1_7&quot;, &quot;M1_8&quot;, &quot;M2_1&quot;, &quot;M2_2&quot;, &quot;M2_3&quot;,&quot;M2_4&quot;, &quot;M2_5&quot;, &quot;M2_6&quot;, &quot;M2_7&quot;, &quot;M2_8&quot;, &quot;M3_1&quot;, &quot;M3_2&quot;, &quot;M3_3&quot;,&quot;M3_4&quot;, &quot;M3_5&quot;, &quot;M3_6&quot;, &quot;M3_7&quot;, &quot;M3_8&quot;),
                    idvar = &quot;id&quot;,
                    timevar = &quot;Timepoint&quot;,
                    times = 1:3)
# Reorder
sms_long  &lt;- sms_long [(order(sms_long$id)), ]
# fix(sms_long) to check data structure

sms_long_nm &lt;- sms_long %&gt;%
  na.omit() # listwise deletion</code></pre>
<p><br></p>
<hr />
</div>
<div id="cfa" class="section level2">
<h2>2. CFA</h2>
<p>First, confirmatory factor analysis using maximum likelihood estimation was conducted to obtain weighted factor scores for each SMS subscale. We first conduct CFA on the stacked data (hence assuming observations to be independent of each other). We will assess model fit using multiple indices. Afterwards, we will assess longitudinal invariance of the measurement model via a series of increasingly constrained models, indicating invariance by a change of CFI of ≤0.01.</p>
<div id="lavaan" class="section level3">
<h3>Lavaan</h3>
<p>Tell Lavaan the confirmatory structure.</p>
<pre class="r"><code>library(lavaan)

motivation_model &lt;- &quot;
amotivation =~ M1_5 + M2_4 + M3_1 + M3_6
external    =~ M1_4 + M2_3 + M3_3 + M3_8
introjected =~ M1_7 + M2_2 + M2_8 + M3_7
identified  =~ M1_3 + M1_8 + M2_7 + M3_4
integrated  =~ M1_2 + M2_1 + M2_5 + M3_5
intrinsic   =~ M1_1 + M1_6 + M2_6 + M3_2
&quot;</code></pre>
<p>Now let’s inspect the model. We will get the fit of the model, the (standardized) factor loadings, item averages (intercepts), error variances, and R-square scores. We will also make a table of the various fit indices.</p>
<pre class="r"><code># examine overall fit
overall.fit &lt;- cfa(model = motivation_model, data = sms_long_nm,
           meanstructure = TRUE,  # gives us the means
           std.lv = TRUE) 

#summary(overall.fit, standardized = TRUE, rsquare = TRUE, fit.measure = TRUE) #for inspection

# make table of fit indices
table_fit &lt;- matrix(NA, nrow = 8, ncol = 6)
colnames(table_fit) &lt;- c(&quot;Model&quot;, &quot;X2&quot;, &quot;df&quot;, &quot;CFI&quot;, &quot;RMSEA&quot;, &quot;SRMR&quot;)
table_fit[1, ] &lt;- c(&quot;Overall Model&quot;, round(fitmeasures(overall.fit, c(&quot;chisq&quot;, &quot;df&quot;, &quot;cfi&quot;, &quot;rmsea&quot;, &quot;srmr&quot;)),3))</code></pre>
<p><br></p>
<p>To check the confirmatory structure of our model, we will also create a picture of the standardized solution (quick and dirty; it can be edited…). The triangles depict the (standardized) intercepts, the arrows depic the variance (i.e. the loops) and (standardized) factor loadings.</p>
<pre class="r"><code>library(semPlot)
semPaths(overall.fit, whatLabels = &quot;std&quot;, layout = &quot;tree&quot;)</code></pre>
<p><img src="lpta_files/figure-html/unnamed-chunk-4-1.png" width="672" /></p>
</div>
<div id="longitudinal-invariance" class="section level3 tabset tabset-fade">
<h3>Longitudinal invariance</h3>
<p>Since we are dealing with panel data, and we want to explore movement over time in motivations, we should investigate to what extent our CFA solution is invariant over time (because we don’t want to compare apples with oranges). We will compare the SMS data of W1-W3 and compare them in CFA for configural, metric, scalar, and strict residual invariance (see e.g., <a href="https://www.tandfonline.com/doi/pdf/10.1207/S15328007SEM0902_5?casa_token=scyVPZRkncQAAAAA:PDDawXxC0BMvLu-kjcvtaFcHseZnO3rkwX4nJGtd8OrK-nuTq4B1Mk571ajpjaq3JQhasVHnyXtofdg">Cheung &amp; Rensvold 2002</a>).</p>
<p><br></p>
<div id="configural-invariance" class="section level4">
<h4>Configural invariance</h4>
<p>Starting with a test for configural invariance - is the ‘picture’/structure of the model the same for all waves. We make a multi-group model by using the group-argument.</p>
<pre class="r"><code>con.fit &lt;- cfa(model = motivation_model, data = sms_long_nm, meanstructure = TRUE,
               group = &quot;Timepoint&quot;)
table_fit[2, ] &lt;- c(&quot;Configural Model&quot;, round(fitmeasures(con.fit, c(&quot;chisq&quot;, &quot;df&quot;, &quot;cfi&quot;, &quot;rmsea&quot;, &quot;srmr&quot;)),3)) #add results to the table

library(knitr)
library(kableExtra)
library(dplyr)
library(tidyr)

input &lt;- table_fit[1:2, ] 
knitr::kable(input, digits=2, &quot;html&quot;, caption=&quot;&quot;) %&gt;% 
  kableExtra::kable_styling(bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;))</code></pre>
<table class="table table-striped table-hover" style="margin-left: auto; margin-right: auto;">
<caption>
</caption>
<thead>
<tr>
<th style="text-align:left;">
Model
</th>
<th style="text-align:left;">
X2
</th>
<th style="text-align:left;">
df
</th>
<th style="text-align:left;">
CFI
</th>
<th style="text-align:left;">
RMSEA
</th>
<th style="text-align:left;">
SRMR
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Overall Model
</td>
<td style="text-align:left;">
2288.748
</td>
<td style="text-align:left;">
237
</td>
<td style="text-align:left;">
0.869
</td>
<td style="text-align:left;">
0.073
</td>
<td style="text-align:left;">
0.052
</td>
</tr>
<tr>
<td style="text-align:left;">
Configural Model
</td>
<td style="text-align:left;">
2786.122
</td>
<td style="text-align:left;">
711
</td>
<td style="text-align:left;">
0.867
</td>
<td style="text-align:left;">
0.074
</td>
<td style="text-align:left;">
0.057
</td>
</tr>
</tbody>
</table>
<p>This is the model against which we will test the next model. So, we will conduct a sequential testing analysis.</p>
<p><br></p>
</div>
<div id="metric-invariance" class="section level4">
<h4>Metric invariance</h4>
<p>Next, we will assess metric invariance, by constraining the factor loadings to be equal across the waves. In the configural model, factor loadings were “freely” estimated in both waves; now, only 1 loading gets estimated for both groups. Let’s see what happens to the model.</p>
<pre class="r"><code>met.fit &lt;- cfa(model = motivation_model, data = sms_long_nm, meanstructure = TRUE,
               group = &quot;Timepoint&quot;, group.equal = c(&quot;loadings&quot;))
table_fit[3, ] &lt;- c(&quot;Metric Model&quot;, round(fitmeasures(met.fit, c(&quot;chisq&quot;, &quot;df&quot;, &quot;cfi&quot;, &quot;rmsea&quot;, &quot;srmr&quot;)),3))

input &lt;- table_fit[1:3, ] 
knitr::kable(input, digits=2, &quot;html&quot;, caption=&quot;&quot;) %&gt;% 
  kableExtra::kable_styling(bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;))</code></pre>
<table class="table table-striped table-hover" style="margin-left: auto; margin-right: auto;">
<caption>
</caption>
<thead>
<tr>
<th style="text-align:left;">
Model
</th>
<th style="text-align:left;">
X2
</th>
<th style="text-align:left;">
df
</th>
<th style="text-align:left;">
CFI
</th>
<th style="text-align:left;">
RMSEA
</th>
<th style="text-align:left;">
SRMR
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Overall Model
</td>
<td style="text-align:left;">
2288.748
</td>
<td style="text-align:left;">
237
</td>
<td style="text-align:left;">
0.869
</td>
<td style="text-align:left;">
0.073
</td>
<td style="text-align:left;">
0.052
</td>
</tr>
<tr>
<td style="text-align:left;">
Configural Model
</td>
<td style="text-align:left;">
2786.122
</td>
<td style="text-align:left;">
711
</td>
<td style="text-align:left;">
0.867
</td>
<td style="text-align:left;">
0.074
</td>
<td style="text-align:left;">
0.057
</td>
</tr>
<tr>
<td style="text-align:left;">
Metric Model
</td>
<td style="text-align:left;">
2917.742
</td>
<td style="text-align:left;">
747
</td>
<td style="text-align:left;">
0.861
</td>
<td style="text-align:left;">
0.074
</td>
<td style="text-align:left;">
0.06
</td>
</tr>
</tbody>
</table>
<p>The metric model seems to be invariant in comparison to the configural model: the CFI difference is smaller than .01, hence assuming invariance (same holds for RMSEA/SRMR). Conclusion: the metric model holds: the loadings are equal (or close enough).</p>
<p><br></p>
</div>
<div id="scalar-invariance" class="section level4">
<h4>Scalar invariance</h4>
<p>We have constrained our model to contain the same structure, the same loadings; now let’s test for scalar invariance, to see if the intercepts are the same across waves.</p>
<pre class="r"><code>sca.fit &lt;- cfa(model = motivation_model, data = sms_long_nm, meanstructure = TRUE,
               group = &quot;Timepoint&quot;, group.equal = c(&quot;loadings&quot;, &quot;intercepts&quot;))
table_fit[4, ] &lt;- c(&quot;Scalar Model&quot;, round(fitmeasures(sca.fit, c(&quot;chisq&quot;, &quot;df&quot;, &quot;cfi&quot;, &quot;rmsea&quot;, &quot;srmr&quot;)),3))

input &lt;- table_fit[1:4, ] 
knitr::kable(input, digits=2, &quot;html&quot;, caption=&quot;&quot;) %&gt;% 
  kableExtra::kable_styling(bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;))</code></pre>
<table class="table table-striped table-hover" style="margin-left: auto; margin-right: auto;">
<caption>
</caption>
<thead>
<tr>
<th style="text-align:left;">
Model
</th>
<th style="text-align:left;">
X2
</th>
<th style="text-align:left;">
df
</th>
<th style="text-align:left;">
CFI
</th>
<th style="text-align:left;">
RMSEA
</th>
<th style="text-align:left;">
SRMR
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Overall Model
</td>
<td style="text-align:left;">
2288.748
</td>
<td style="text-align:left;">
237
</td>
<td style="text-align:left;">
0.869
</td>
<td style="text-align:left;">
0.073
</td>
<td style="text-align:left;">
0.052
</td>
</tr>
<tr>
<td style="text-align:left;">
Configural Model
</td>
<td style="text-align:left;">
2786.122
</td>
<td style="text-align:left;">
711
</td>
<td style="text-align:left;">
0.867
</td>
<td style="text-align:left;">
0.074
</td>
<td style="text-align:left;">
0.057
</td>
</tr>
<tr>
<td style="text-align:left;">
Metric Model
</td>
<td style="text-align:left;">
2917.742
</td>
<td style="text-align:left;">
747
</td>
<td style="text-align:left;">
0.861
</td>
<td style="text-align:left;">
0.074
</td>
<td style="text-align:left;">
0.06
</td>
</tr>
<tr>
<td style="text-align:left;">
Scalar Model
</td>
<td style="text-align:left;">
3020.438
</td>
<td style="text-align:left;">
783
</td>
<td style="text-align:left;">
0.857
</td>
<td style="text-align:left;">
0.073
</td>
<td style="text-align:left;">
0.061
</td>
</tr>
</tbody>
</table>
<p>The intercepts are equal on the scale between the waves.</p>
<p><br></p>
</div>
<div id="strict-residual-invariance" class="section level4">
<h4>Strict (residual) invariance</h4>
<p>Last, we constrain the model to the strict model, to check for strict residual invariance. It will inform whether the variance around items is the same across time.</p>
<pre class="r"><code>str.fit &lt;- cfa(model = motivation_model, data = sms_long_nm, meanstructure = TRUE,
               group = &quot;Timepoint&quot;, group.equal = c(&quot;loadings&quot;, &quot;intercepts&quot;, &quot;residuals&quot;))
table_fit[5, ] &lt;- c(&quot;Strict Model&quot;, round(fitmeasures(str.fit, c(&quot;chisq&quot;, &quot;df&quot;, &quot;cfi&quot;, &quot;rmsea&quot;, &quot;srmr&quot;)),3))


input &lt;- table_fit[1:5, ] 
knitr::kable(input, digits=2, &quot;html&quot;, caption=&quot;&quot;) %&gt;% 
  kableExtra::kable_styling(bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;))</code></pre>
<table class="table table-striped table-hover" style="margin-left: auto; margin-right: auto;">
<caption>
</caption>
<thead>
<tr>
<th style="text-align:left;">
Model
</th>
<th style="text-align:left;">
X2
</th>
<th style="text-align:left;">
df
</th>
<th style="text-align:left;">
CFI
</th>
<th style="text-align:left;">
RMSEA
</th>
<th style="text-align:left;">
SRMR
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Overall Model
</td>
<td style="text-align:left;">
2288.748
</td>
<td style="text-align:left;">
237
</td>
<td style="text-align:left;">
0.869
</td>
<td style="text-align:left;">
0.073
</td>
<td style="text-align:left;">
0.052
</td>
</tr>
<tr>
<td style="text-align:left;">
Configural Model
</td>
<td style="text-align:left;">
2786.122
</td>
<td style="text-align:left;">
711
</td>
<td style="text-align:left;">
0.867
</td>
<td style="text-align:left;">
0.074
</td>
<td style="text-align:left;">
0.057
</td>
</tr>
<tr>
<td style="text-align:left;">
Metric Model
</td>
<td style="text-align:left;">
2917.742
</td>
<td style="text-align:left;">
747
</td>
<td style="text-align:left;">
0.861
</td>
<td style="text-align:left;">
0.074
</td>
<td style="text-align:left;">
0.06
</td>
</tr>
<tr>
<td style="text-align:left;">
Scalar Model
</td>
<td style="text-align:left;">
3020.438
</td>
<td style="text-align:left;">
783
</td>
<td style="text-align:left;">
0.857
</td>
<td style="text-align:left;">
0.073
</td>
<td style="text-align:left;">
0.061
</td>
</tr>
<tr>
<td style="text-align:left;">
Strict Model
</td>
<td style="text-align:left;">
3360.192
</td>
<td style="text-align:left;">
831
</td>
<td style="text-align:left;">
0.838
</td>
<td style="text-align:left;">
0.075
</td>
<td style="text-align:left;">
0.064
</td>
</tr>
</tbody>
</table>
<p>From here it goes downwards… CFI dropped more than 0.01, suggesting that the residuals vary between the waves.</p>
<p><br></p>
</div>
<div id="partial-invariance" class="section level4">
<h4>Partial invariance</h4>
<p>We could estimate partial invariance, to investigate where the problem is and subsequently update the model to fix it. We are going to do so by freeing the variances of item residuals, one at a time, to figure out which equality constaint(s) is/are causing the problem. We will use the following loop for this.</p>
<pre class="r"><code># write out partial codes
partial_syntax &lt;- paste(colnames(sms_long_nm)[3:26], #all sms columns
                        &quot;~~&quot;, #residuals
                        colnames(sms_long_nm)[3:26]) #all columns again

CFI_list &lt;- 1:length(partial_syntax)
names(CFI_list) &lt;- partial_syntax 

for (i in 1:length(partial_syntax)){
  
  temp &lt;- cfa(model = motivation_model,
              data = sms_long_nm,
              meanstructure = TRUE,
              group = &quot;Timepoint&quot;,
              group.equal = c(&quot;loadings&quot;, &quot;intercepts&quot;, &quot;residuals&quot;),
              group.partial = partial_syntax[i])
  
  CFI_list[i] &lt;- fitmeasures(temp, &quot;cfi&quot;)
}


# now figure out which parameters to &quot;free&quot;
options(scipen = 999)
sort(CFI_list - fitmeasures(str.fit, &quot;cfi&quot;), decreasing = TRUE)</code></pre>
<pre><code>##   M1_5 ~~ M1_5   M1_7 ~~ M1_7   M1_6 ~~ M1_6   M3_5 ~~ M3_5   M2_4 ~~ M2_4 
##  0.00335333572  0.00286285010  0.00227724483  0.00192212952  0.00125666372 
##   M2_1 ~~ M2_1   M1_8 ~~ M1_8   M2_8 ~~ M2_8   M1_2 ~~ M1_2   M3_1 ~~ M3_1 
##  0.00111389577  0.00082903852  0.00078705534  0.00076979445  0.00067184456 
##   M1_1 ~~ M1_1   M3_7 ~~ M3_7   M3_4 ~~ M3_4   M2_6 ~~ M2_6   M3_8 ~~ M3_8 
##  0.00054403285  0.00050934376  0.00050661463  0.00048206031  0.00041072029 
##   M3_2 ~~ M3_2   M3_6 ~~ M3_6   M3_3 ~~ M3_3   M1_3 ~~ M1_3   M2_3 ~~ M2_3 
##  0.00033769117  0.00017074717  0.00016690930  0.00015376509  0.00009265141 
##   M2_2 ~~ M2_2   M2_7 ~~ M2_7   M1_4 ~~ M1_4   M2_5 ~~ M2_5 
##  0.00007309850  0.00006553126 -0.00001060543 -0.00006125562</code></pre>
<p>Let’s free up those parameters, starting with the one that increases CFI to the greatest extent.</p>
<pre class="r"><code>par.fit &lt;- cfa(model = motivation_model, data = sms_long_nm, meanstructure = TRUE,
               group = &quot;Timepoint&quot;, group.equal = c(&quot;loadings&quot;, &quot;intercepts&quot;, &quot;residuals&quot;),
               group.partial = &quot;M1_5~~M1_5&quot;)
table_fit[6, ] &lt;- c(&quot;Strict Model + M1_5&quot;, round(fitmeasures(par.fit, c(&quot;chisq&quot;, &quot;df&quot;, &quot;cfi&quot;, &quot;rmsea&quot;, &quot;srmr&quot;)),3))

input &lt;- table_fit[1:6, ] 
knitr::kable(input, digits=2, &quot;html&quot;, caption=&quot;&quot;) %&gt;% 
  kableExtra::kable_styling(bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;))</code></pre>
<table class="table table-striped table-hover" style="margin-left: auto; margin-right: auto;">
<caption>
</caption>
<thead>
<tr>
<th style="text-align:left;">
Model
</th>
<th style="text-align:left;">
X2
</th>
<th style="text-align:left;">
df
</th>
<th style="text-align:left;">
CFI
</th>
<th style="text-align:left;">
RMSEA
</th>
<th style="text-align:left;">
SRMR
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Overall Model
</td>
<td style="text-align:left;">
2288.748
</td>
<td style="text-align:left;">
237
</td>
<td style="text-align:left;">
0.869
</td>
<td style="text-align:left;">
0.073
</td>
<td style="text-align:left;">
0.052
</td>
</tr>
<tr>
<td style="text-align:left;">
Configural Model
</td>
<td style="text-align:left;">
2786.122
</td>
<td style="text-align:left;">
711
</td>
<td style="text-align:left;">
0.867
</td>
<td style="text-align:left;">
0.074
</td>
<td style="text-align:left;">
0.057
</td>
</tr>
<tr>
<td style="text-align:left;">
Metric Model
</td>
<td style="text-align:left;">
2917.742
</td>
<td style="text-align:left;">
747
</td>
<td style="text-align:left;">
0.861
</td>
<td style="text-align:left;">
0.074
</td>
<td style="text-align:left;">
0.06
</td>
</tr>
<tr>
<td style="text-align:left;">
Scalar Model
</td>
<td style="text-align:left;">
3020.438
</td>
<td style="text-align:left;">
783
</td>
<td style="text-align:left;">
0.857
</td>
<td style="text-align:left;">
0.073
</td>
<td style="text-align:left;">
0.061
</td>
</tr>
<tr>
<td style="text-align:left;">
Strict Model
</td>
<td style="text-align:left;">
3360.192
</td>
<td style="text-align:left;">
831
</td>
<td style="text-align:left;">
0.838
</td>
<td style="text-align:left;">
0.075
</td>
<td style="text-align:left;">
0.064
</td>
</tr>
<tr>
<td style="text-align:left;">
Strict Model + M1_5
</td>
<td style="text-align:left;">
3305.736
</td>
<td style="text-align:left;">
829
</td>
<td style="text-align:left;">
0.842
</td>
<td style="text-align:left;">
0.075
</td>
<td style="text-align:left;">
0.063
</td>
</tr>
</tbody>
</table>
<p>CFI improved, but the difference in CFI with the baseline scalar model is still greater than .01. Thus, we still need to free (at least) one more, to achieve “partial” invariance.</p>
<pre class="r"><code>par.fit2 &lt;- cfa(model = motivation_model, data = sms_long_nm, meanstructure = TRUE,
                group = &quot;Timepoint&quot;, group.partial = c(&quot;M1_5~~M1_5&quot;, &quot;M1_7~~M1_7&quot;),
                group.equal = c(&quot;loadings&quot;, &quot;intercepts&quot;, &quot;residuals&quot;))
table_fit[7, ] &lt;- c(&quot;Strict Model + M1_5 + M1_7&quot;, round(fitmeasures(par.fit2, c(&quot;chisq&quot;, &quot;df&quot;, &quot;cfi&quot;, &quot;rmsea&quot;, &quot;srmr&quot;)),3))

input &lt;- table_fit[1:7, ] 
knitr::kable(input, digits=2, &quot;html&quot;, caption=&quot;&quot;) %&gt;% 
  kableExtra::kable_styling(bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;))</code></pre>
<table class="table table-striped table-hover" style="margin-left: auto; margin-right: auto;">
<caption>
</caption>
<thead>
<tr>
<th style="text-align:left;">
Model
</th>
<th style="text-align:left;">
X2
</th>
<th style="text-align:left;">
df
</th>
<th style="text-align:left;">
CFI
</th>
<th style="text-align:left;">
RMSEA
</th>
<th style="text-align:left;">
SRMR
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Overall Model
</td>
<td style="text-align:left;">
2288.748
</td>
<td style="text-align:left;">
237
</td>
<td style="text-align:left;">
0.869
</td>
<td style="text-align:left;">
0.073
</td>
<td style="text-align:left;">
0.052
</td>
</tr>
<tr>
<td style="text-align:left;">
Configural Model
</td>
<td style="text-align:left;">
2786.122
</td>
<td style="text-align:left;">
711
</td>
<td style="text-align:left;">
0.867
</td>
<td style="text-align:left;">
0.074
</td>
<td style="text-align:left;">
0.057
</td>
</tr>
<tr>
<td style="text-align:left;">
Metric Model
</td>
<td style="text-align:left;">
2917.742
</td>
<td style="text-align:left;">
747
</td>
<td style="text-align:left;">
0.861
</td>
<td style="text-align:left;">
0.074
</td>
<td style="text-align:left;">
0.06
</td>
</tr>
<tr>
<td style="text-align:left;">
Scalar Model
</td>
<td style="text-align:left;">
3020.438
</td>
<td style="text-align:left;">
783
</td>
<td style="text-align:left;">
0.857
</td>
<td style="text-align:left;">
0.073
</td>
<td style="text-align:left;">
0.061
</td>
</tr>
<tr>
<td style="text-align:left;">
Strict Model
</td>
<td style="text-align:left;">
3360.192
</td>
<td style="text-align:left;">
831
</td>
<td style="text-align:left;">
0.838
</td>
<td style="text-align:left;">
0.075
</td>
<td style="text-align:left;">
0.064
</td>
</tr>
<tr>
<td style="text-align:left;">
Strict Model + M1_5
</td>
<td style="text-align:left;">
3305.736
</td>
<td style="text-align:left;">
829
</td>
<td style="text-align:left;">
0.842
</td>
<td style="text-align:left;">
0.075
</td>
<td style="text-align:left;">
0.063
</td>
</tr>
<tr>
<td style="text-align:left;">
Strict Model + M1_5 + M1_7
</td>
<td style="text-align:left;">
3258.948
</td>
<td style="text-align:left;">
827
</td>
<td style="text-align:left;">
0.845
</td>
<td style="text-align:left;">
0.074
</td>
<td style="text-align:left;">
0.063
</td>
</tr>
</tbody>
</table>
<p>Ditto…</p>
<pre class="r"><code>par.fit3 &lt;- cfa(model = motivation_model, data = sms_long_nm, meanstructure = TRUE,
                group = &quot;Timepoint&quot;, group.partial = c(&quot;M1_5~~M1_5&quot;, &quot;M1_7~~M1_7&quot;, &quot;M1_6~~M1_6&quot;),
                group.equal = c(&quot;loadings&quot;, &quot;intercepts&quot;, &quot;residuals&quot;))
table_fit[8, ] &lt;- c(&quot;Strict Model + M1_5 + M1_7 + M1_6&quot;, round(fitmeasures(par.fit3, c(&quot;chisq&quot;, &quot;df&quot;, &quot;cfi&quot;, &quot;rmsea&quot;, &quot;srmr&quot;)),3))

input &lt;- table_fit[1:8, ] 
knitr::kable(input, digits=2, &quot;html&quot;, caption=&quot;&quot;) %&gt;% 
  kableExtra::kable_styling(bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;))</code></pre>
<table class="table table-striped table-hover" style="margin-left: auto; margin-right: auto;">
<caption>
</caption>
<thead>
<tr>
<th style="text-align:left;">
Model
</th>
<th style="text-align:left;">
X2
</th>
<th style="text-align:left;">
df
</th>
<th style="text-align:left;">
CFI
</th>
<th style="text-align:left;">
RMSEA
</th>
<th style="text-align:left;">
SRMR
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Overall Model
</td>
<td style="text-align:left;">
2288.748
</td>
<td style="text-align:left;">
237
</td>
<td style="text-align:left;">
0.869
</td>
<td style="text-align:left;">
0.073
</td>
<td style="text-align:left;">
0.052
</td>
</tr>
<tr>
<td style="text-align:left;">
Configural Model
</td>
<td style="text-align:left;">
2786.122
</td>
<td style="text-align:left;">
711
</td>
<td style="text-align:left;">
0.867
</td>
<td style="text-align:left;">
0.074
</td>
<td style="text-align:left;">
0.057
</td>
</tr>
<tr>
<td style="text-align:left;">
Metric Model
</td>
<td style="text-align:left;">
2917.742
</td>
<td style="text-align:left;">
747
</td>
<td style="text-align:left;">
0.861
</td>
<td style="text-align:left;">
0.074
</td>
<td style="text-align:left;">
0.06
</td>
</tr>
<tr>
<td style="text-align:left;">
Scalar Model
</td>
<td style="text-align:left;">
3020.438
</td>
<td style="text-align:left;">
783
</td>
<td style="text-align:left;">
0.857
</td>
<td style="text-align:left;">
0.073
</td>
<td style="text-align:left;">
0.061
</td>
</tr>
<tr>
<td style="text-align:left;">
Strict Model
</td>
<td style="text-align:left;">
3360.192
</td>
<td style="text-align:left;">
831
</td>
<td style="text-align:left;">
0.838
</td>
<td style="text-align:left;">
0.075
</td>
<td style="text-align:left;">
0.064
</td>
</tr>
<tr>
<td style="text-align:left;">
Strict Model + M1_5
</td>
<td style="text-align:left;">
3305.736
</td>
<td style="text-align:left;">
829
</td>
<td style="text-align:left;">
0.842
</td>
<td style="text-align:left;">
0.075
</td>
<td style="text-align:left;">
0.063
</td>
</tr>
<tr>
<td style="text-align:left;">
Strict Model + M1_5 + M1_7
</td>
<td style="text-align:left;">
3258.948
</td>
<td style="text-align:left;">
827
</td>
<td style="text-align:left;">
0.845
</td>
<td style="text-align:left;">
0.074
</td>
<td style="text-align:left;">
0.063
</td>
</tr>
<tr>
<td style="text-align:left;">
Strict Model + M1_5 + M1_7 + M1_6
</td>
<td style="text-align:left;">
3221.304
</td>
<td style="text-align:left;">
825
</td>
<td style="text-align:left;">
0.847
</td>
<td style="text-align:left;">
0.074
</td>
<td style="text-align:left;">
0.063
</td>
</tr>
</tbody>
</table>
<p><br></p>
</div>
</div>
<div id="conclusion" class="section level3">
<h3>Conclusion</h3>
<p>We can conclude that the SMS is mostly invariant - the structure, factor loadings, intercepts, and most of the error variances were equal across time.</p>
<p><br></p>
</div>
<div id="weighted-factor-scores" class="section level3">
<h3>Weighted factor-scores</h3>
<p>Now we use the (partially) invariant measurement model to generate (weighted) factor scores as input variables for the subsequent LPA. Weighted factor scores are computed by multiplying the factor loading of each item to the scaled score for each item before summing (see <a href="https://scholarworks.umass.edu/cgi/viewcontent.cgi?article=1226&amp;context=pare">DiStefano et al. (2009)</a>).</p>
<p>We extract the factor loadings, and calculate the weighted sum scores.</p>
<pre class="r"><code>loading &lt;- parameterEstimates(par.fit3)$est[1:24] # extract factor loadings

# calculate weighted (sum) factor-scores
sms_long_nm$amotivation &lt;- rowMeans(cbind((sms_long_nm$M1_5*loading[1]), (sms_long_nm$M2_4*loading[2]), (sms_long_nm$M3_1*loading[3]), (sms_long_nm$M3_6*loading[4])))

sms_long_nm$external &lt;- rowMeans(cbind((sms_long_nm$M1_4*loading[5]), (sms_long_nm$M2_3*loading[6]), (sms_long_nm$M3_3*loading[7]),   (sms_long_nm$M3_8*loading[8])))

sms_long_nm$introjected &lt;- rowMeans(cbind((sms_long_nm$M1_7*loading[9]), (sms_long_nm$M2_2*loading[10]), (sms_long_nm$M2_8*loading[11]), (sms_long_nm$M3_7*loading[12])))

sms_long_nm$identified &lt;- rowMeans(cbind((sms_long_nm$M1_3*loading[13]), (sms_long_nm$M1_8*loading[14]), (sms_long_nm$M2_7*loading[15]), (sms_long_nm$M3_4*loading[16])))

sms_long_nm$integrated &lt;- rowMeans(cbind((sms_long_nm$M1_2*loading[17]), (sms_long_nm$M2_1*loading[18]), (sms_long_nm$M2_5*loading[19]), (sms_long_nm$M3_5*loading[20])))

sms_long_nm$intrinsic &lt;- rowMeans(cbind((sms_long_nm$M1_1*loading[21]), (sms_long_nm$M1_6*loading[22]), (sms_long_nm$M2_6*loading[23]), (sms_long_nm$M3_2*loading[24])))</code></pre>
<p><br></p>
<hr />
</div>
</div>
<div id="descriptives" class="section level2">
<h2>3. Descriptives</h2>
<p>Let’s describe our weighted factor scores over time.</p>
<pre class="r"><code>library(crosstable)

input &lt;- sms_long_nm %&gt;% #get factor scores and timepoint as grouping variable
  select(27:32, 2)

# integrate wave number and n in header
n &lt;- as.vector(table(input$Timepoint))
x &lt;- paste(levels(as.factor(input$Timepoint)), &quot; (N=&quot;, n, &quot;)&quot;, sep=&quot;&quot;)
input$Timepoint &lt;- as.factor(input$Timepoint)
levels(input$Timepoint) &lt;- x

#flextable
crosstable(input, by=Timepoint,
           funs=c(&quot;Mean&quot; = mean, &quot;Std. dev.&quot; = sd, &quot;Min&quot; = min, &quot;Max&quot; = max), funs_arg=list(digits=3)) %&gt;%
  as_flextable(by_header = &quot;Wave&quot;)</code></pre>
<template id="b90a1c91-035a-4adb-98dc-b7514b9984c3"><style>
.tabwid table{
  border-collapse:collapse;
  line-height:1;
  margin-left:auto;
  margin-right:auto;
  border-width: 0;
  display: table;
  margin-top: 1.275em;
  margin-bottom: 1.275em;
  border-spacing: 0;
  border-color: transparent;
}
.tabwid_left table{
  margin-left:0;
}
.tabwid_right table{
  margin-right:0;
}
.tabwid td {
    padding: 0;
}
.tabwid a {
  text-decoration: none;
}
.tabwid thead {
    background-color: transparent;
}
.tabwid tfoot {
    background-color: transparent;
}
.tabwid table tr {
background-color: transparent;
}
</style><div class="tabwid"><style>.cl-71d5af4e{border-collapse:collapse;}.cl-71c898d6{font-family:'Arial';font-size:11pt;font-weight:bold;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-71c898d7{font-family:'Arial';font-size:11pt;font-weight:normal;font-style:normal;text-decoration:none;color:rgba(0, 0, 0, 1.00);background-color:transparent;}.cl-71c8bfd2{margin:0;text-align:center;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-71c8bfd3{margin:0;text-align:left;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);padding-bottom:5pt;padding-top:5pt;padding-left:5pt;padding-right:5pt;line-height: 1;background-color:transparent;}.cl-71c934b2{width:69.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-71c934b3{width:76.8pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-71c934b4{width:63.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-71c934b5{width:69.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-71c934b6{width:63.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-71c934b7{width:76.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-71c934b8{width:63.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-71c934b9{width:76.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-71c934ba{width:69.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-71c934bb{width:69.8pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-71c934bc{width:63.9pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-71c95ba4{width:76.8pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-71c95ba5{width:63.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-71c95ba6{width:69.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-71c95ba7{width:76.8pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-71c95ba8{width:76.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-71c95ba9{width:69.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-71c95baa{width:63.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-71c95bab{width:76.8pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-71c95bac{width:69.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-71c95bad{width:63.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-71c95bae{width:76.8pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-71c98296{width:69.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-71c98297{width:63.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-71c98298{width:76.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-71c98299{width:69.8pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-71c9829a{width:63.9pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-71c9829b{width:76.8pt;background-color:transparent;vertical-align: middle;border-bottom: 2pt solid rgba(102, 102, 102, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-71c9829c{width:69.8pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-71c9829d{width:63.9pt;background-color:transparent;vertical-align: middle;border-bottom: 0 solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-71c9829e{width:76.8pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 1pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-71c9829f{width:69.8pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-71c982a0{width:63.9pt;background-color:transparent;vertical-align: middle;border-bottom: 1pt solid rgba(0, 0, 0, 1.00);border-top: 0 solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-71c9a988{width:63.9pt;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(0, 0, 0, 1.00);border-top: 1.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-71c9a989{width:69.8pt;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(0, 0, 0, 1.00);border-top: 1.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-71c9a98a{width:76.8pt;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(0, 0, 0, 1.00);border-top: 1.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(255, 255, 255, 0.00);border-right: 0 solid rgba(255, 255, 255, 0.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-71c9a98b{width:69.8pt;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(0, 0, 0, 1.00);border-top: 1.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-71c9a98c{width:63.9pt;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(0, 0, 0, 1.00);border-top: 1.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}.cl-71c9a98d{width:76.8pt;background-color:transparent;vertical-align: middle;border-bottom: 1.5pt solid rgba(0, 0, 0, 1.00);border-top: 1.5pt solid rgba(0, 0, 0, 1.00);border-left: 0 solid rgba(0, 0, 0, 1.00);border-right: 0 solid rgba(0, 0, 0, 1.00);margin-bottom:0;margin-top:0;margin-left:0;margin-right:0;}caption {color: #777;margin-top: 10px;margin-bottom: 10px;text-align: center;}</style><table class='cl-71d5af4e'><thead><tr style="overflow-wrap:break-word;"><td  rowspan="2"class="cl-71c9a98a"><p class="cl-71c8bfd2"><span class="cl-71c898d6">label</span></p></td><td  rowspan="2"class="cl-71c9a988"><p class="cl-71c8bfd2"><span class="cl-71c898d6">variable</span></p></td><td  colspan="3"class="cl-71c9a989"><p class="cl-71c8bfd2"><span class="cl-71c898d6">Wave</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-71c9a98b"><p class="cl-71c8bfd3"><span class="cl-71c898d6">1 (N=621)</span></p></td><td class="cl-71c9a98b"><p class="cl-71c8bfd3"><span class="cl-71c898d6">2 (N=486)</span></p></td><td class="cl-71c9a98b"><p class="cl-71c8bfd3"><span class="cl-71c898d6">3 (N=506)</span></p></td></tr></thead><tbody><tr style="overflow-wrap:break-word;"><td  rowspan="4"class="cl-71c934b3"><p class="cl-71c8bfd3"><span class="cl-71c898d7">amotivation</span></p></td><td class="cl-71c934b4"><p class="cl-71c8bfd3"><span class="cl-71c898d7">Mean</span></p></td><td class="cl-71c934b2"><p class="cl-71c8bfd3"><span class="cl-71c898d7">1.606</span></p></td><td class="cl-71c934b2"><p class="cl-71c8bfd3"><span class="cl-71c898d7">1.677</span></p></td><td class="cl-71c934b2"><p class="cl-71c8bfd3"><span class="cl-71c898d7">1.753</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-71c934b6"><p class="cl-71c8bfd3"><span class="cl-71c898d7">Std. dev.</span></p></td><td class="cl-71c934b5"><p class="cl-71c8bfd3"><span class="cl-71c898d7">0.665</span></p></td><td class="cl-71c934b5"><p class="cl-71c8bfd3"><span class="cl-71c898d7">0.746</span></p></td><td class="cl-71c934b5"><p class="cl-71c8bfd3"><span class="cl-71c898d7">0.818</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-71c934b8"><p class="cl-71c8bfd3"><span class="cl-71c898d7">Min</span></p></td><td class="cl-71c934ba"><p class="cl-71c8bfd3"><span class="cl-71c898d7">1.275</span></p></td><td class="cl-71c934ba"><p class="cl-71c8bfd3"><span class="cl-71c898d7">1.275</span></p></td><td class="cl-71c934ba"><p class="cl-71c8bfd3"><span class="cl-71c898d7">1.275</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-71c934bc"><p class="cl-71c8bfd3"><span class="cl-71c898d7">Max</span></p></td><td class="cl-71c934bb"><p class="cl-71c8bfd3"><span class="cl-71c898d7">5.909</span></p></td><td class="cl-71c934bb"><p class="cl-71c8bfd3"><span class="cl-71c898d7">5.415</span></p></td><td class="cl-71c934bb"><p class="cl-71c8bfd3"><span class="cl-71c898d7">5.672</span></p></td></tr><tr style="overflow-wrap:break-word;"><td  rowspan="4"class="cl-71c9829e"><p class="cl-71c8bfd3"><span class="cl-71c898d7">external</span></p></td><td class="cl-71c9829d"><p class="cl-71c8bfd3"><span class="cl-71c898d7">Mean</span></p></td><td class="cl-71c9829c"><p class="cl-71c8bfd3"><span class="cl-71c898d7">2.059</span></p></td><td class="cl-71c9829c"><p class="cl-71c8bfd3"><span class="cl-71c898d7">2.292</span></p></td><td class="cl-71c9829c"><p class="cl-71c8bfd3"><span class="cl-71c898d7">2.329</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-71c934b6"><p class="cl-71c8bfd3"><span class="cl-71c898d7">Std. dev.</span></p></td><td class="cl-71c934b5"><p class="cl-71c8bfd3"><span class="cl-71c898d7">1.030</span></p></td><td class="cl-71c934b5"><p class="cl-71c8bfd3"><span class="cl-71c898d7">1.147</span></p></td><td class="cl-71c934b5"><p class="cl-71c8bfd3"><span class="cl-71c898d7">1.167</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-71c934b8"><p class="cl-71c8bfd3"><span class="cl-71c898d7">Min</span></p></td><td class="cl-71c934ba"><p class="cl-71c8bfd3"><span class="cl-71c898d7">0.982</span></p></td><td class="cl-71c934ba"><p class="cl-71c8bfd3"><span class="cl-71c898d7">0.982</span></p></td><td class="cl-71c934ba"><p class="cl-71c8bfd3"><span class="cl-71c898d7">0.982</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-71c982a0"><p class="cl-71c8bfd3"><span class="cl-71c898d7">Max</span></p></td><td class="cl-71c9829f"><p class="cl-71c8bfd3"><span class="cl-71c898d7">5.649</span></p></td><td class="cl-71c9829f"><p class="cl-71c8bfd3"><span class="cl-71c898d7">5.892</span></p></td><td class="cl-71c9829f"><p class="cl-71c8bfd3"><span class="cl-71c898d7">6.135</span></p></td></tr><tr style="overflow-wrap:break-word;"><td  rowspan="4"class="cl-71c95bab"><p class="cl-71c8bfd3"><span class="cl-71c898d7">introjected</span></p></td><td class="cl-71c95baa"><p class="cl-71c8bfd3"><span class="cl-71c898d7">Mean</span></p></td><td class="cl-71c95ba9"><p class="cl-71c8bfd3"><span class="cl-71c898d7">6.068</span></p></td><td class="cl-71c95ba9"><p class="cl-71c8bfd3"><span class="cl-71c898d7">6.286</span></p></td><td class="cl-71c95ba9"><p class="cl-71c8bfd3"><span class="cl-71c898d7">6.588</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-71c934b6"><p class="cl-71c8bfd3"><span class="cl-71c898d7">Std. dev.</span></p></td><td class="cl-71c934b5"><p class="cl-71c8bfd3"><span class="cl-71c898d7">1.681</span></p></td><td class="cl-71c934b5"><p class="cl-71c8bfd3"><span class="cl-71c898d7">1.621</span></p></td><td class="cl-71c934b5"><p class="cl-71c8bfd3"><span class="cl-71c898d7">1.457</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-71c934b8"><p class="cl-71c8bfd3"><span class="cl-71c898d7">Min</span></p></td><td class="cl-71c934ba"><p class="cl-71c8bfd3"><span class="cl-71c898d7">1.510</span></p></td><td class="cl-71c934ba"><p class="cl-71c8bfd3"><span class="cl-71c898d7">1.510</span></p></td><td class="cl-71c934ba"><p class="cl-71c8bfd3"><span class="cl-71c898d7">1.510</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-71c934bc"><p class="cl-71c8bfd3"><span class="cl-71c898d7">Max</span></p></td><td class="cl-71c934bb"><p class="cl-71c8bfd3"><span class="cl-71c898d7">8.822</span></p></td><td class="cl-71c934bb"><p class="cl-71c8bfd3"><span class="cl-71c898d7">8.822</span></p></td><td class="cl-71c934bb"><p class="cl-71c8bfd3"><span class="cl-71c898d7">8.822</span></p></td></tr><tr style="overflow-wrap:break-word;"><td  rowspan="4"class="cl-71c95ba7"><p class="cl-71c8bfd3"><span class="cl-71c898d7">identified</span></p></td><td class="cl-71c95ba5"><p class="cl-71c8bfd3"><span class="cl-71c898d7">Mean</span></p></td><td class="cl-71c95ba6"><p class="cl-71c8bfd3"><span class="cl-71c898d7">3.056</span></p></td><td class="cl-71c95ba6"><p class="cl-71c8bfd3"><span class="cl-71c898d7">3.346</span></p></td><td class="cl-71c95ba6"><p class="cl-71c8bfd3"><span class="cl-71c898d7">3.345</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-71c934b6"><p class="cl-71c8bfd3"><span class="cl-71c898d7">Std. dev.</span></p></td><td class="cl-71c934b5"><p class="cl-71c8bfd3"><span class="cl-71c898d7">1.129</span></p></td><td class="cl-71c934b5"><p class="cl-71c8bfd3"><span class="cl-71c898d7">1.188</span></p></td><td class="cl-71c934b5"><p class="cl-71c8bfd3"><span class="cl-71c898d7">1.105</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-71c934b4"><p class="cl-71c8bfd3"><span class="cl-71c898d7">Min</span></p></td><td class="cl-71c934b2"><p class="cl-71c8bfd3"><span class="cl-71c898d7">0.939</span></p></td><td class="cl-71c934b2"><p class="cl-71c8bfd3"><span class="cl-71c898d7">0.939</span></p></td><td class="cl-71c934b2"><p class="cl-71c8bfd3"><span class="cl-71c898d7">0.939</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-71c934bc"><p class="cl-71c8bfd3"><span class="cl-71c898d7">Max</span></p></td><td class="cl-71c934bb"><p class="cl-71c8bfd3"><span class="cl-71c898d7">6.571</span></p></td><td class="cl-71c934bb"><p class="cl-71c8bfd3"><span class="cl-71c898d7">6.571</span></p></td><td class="cl-71c934bb"><p class="cl-71c8bfd3"><span class="cl-71c898d7">6.571</span></p></td></tr><tr style="overflow-wrap:break-word;"><td  rowspan="4"class="cl-71c95bab"><p class="cl-71c8bfd3"><span class="cl-71c898d7">integrated</span></p></td><td class="cl-71c95baa"><p class="cl-71c8bfd3"><span class="cl-71c898d7">Mean</span></p></td><td class="cl-71c95ba9"><p class="cl-71c8bfd3"><span class="cl-71c898d7">5.164</span></p></td><td class="cl-71c95ba9"><p class="cl-71c8bfd3"><span class="cl-71c898d7">5.615</span></p></td><td class="cl-71c95ba9"><p class="cl-71c8bfd3"><span class="cl-71c898d7">5.739</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-71c934b6"><p class="cl-71c8bfd3"><span class="cl-71c898d7">Std. dev.</span></p></td><td class="cl-71c934b5"><p class="cl-71c8bfd3"><span class="cl-71c898d7">1.702</span></p></td><td class="cl-71c934b5"><p class="cl-71c8bfd3"><span class="cl-71c898d7">1.704</span></p></td><td class="cl-71c934b5"><p class="cl-71c8bfd3"><span class="cl-71c898d7">1.619</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-71c934b4"><p class="cl-71c8bfd3"><span class="cl-71c898d7">Min</span></p></td><td class="cl-71c934b2"><p class="cl-71c8bfd3"><span class="cl-71c898d7">1.246</span></p></td><td class="cl-71c934b2"><p class="cl-71c8bfd3"><span class="cl-71c898d7">1.593</span></p></td><td class="cl-71c934b2"><p class="cl-71c8bfd3"><span class="cl-71c898d7">1.246</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-71c934bc"><p class="cl-71c8bfd3"><span class="cl-71c898d7">Max</span></p></td><td class="cl-71c934bb"><p class="cl-71c8bfd3"><span class="cl-71c898d7">8.724</span></p></td><td class="cl-71c934bb"><p class="cl-71c8bfd3"><span class="cl-71c898d7">8.724</span></p></td><td class="cl-71c934bb"><p class="cl-71c8bfd3"><span class="cl-71c898d7">8.724</span></p></td></tr><tr style="overflow-wrap:break-word;"><td  rowspan="4"class="cl-71c95bae"><p class="cl-71c8bfd3"><span class="cl-71c898d7">intrinsic</span></p></td><td class="cl-71c95bad"><p class="cl-71c8bfd3"><span class="cl-71c898d7">Mean</span></p></td><td class="cl-71c95bac"><p class="cl-71c8bfd3"><span class="cl-71c898d7">4.641</span></p></td><td class="cl-71c95bac"><p class="cl-71c8bfd3"><span class="cl-71c898d7">5.044</span></p></td><td class="cl-71c95bac"><p class="cl-71c8bfd3"><span class="cl-71c898d7">5.085</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-71c934b6"><p class="cl-71c8bfd3"><span class="cl-71c898d7">Std. dev.</span></p></td><td class="cl-71c934b5"><p class="cl-71c8bfd3"><span class="cl-71c898d7">1.769</span></p></td><td class="cl-71c934b5"><p class="cl-71c8bfd3"><span class="cl-71c898d7">1.777</span></p></td><td class="cl-71c934b5"><p class="cl-71c8bfd3"><span class="cl-71c898d7">1.685</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-71c98297"><p class="cl-71c8bfd3"><span class="cl-71c898d7">Min</span></p></td><td class="cl-71c98296"><p class="cl-71c8bfd3"><span class="cl-71c898d7">1.277</span></p></td><td class="cl-71c98296"><p class="cl-71c8bfd3"><span class="cl-71c898d7">1.277</span></p></td><td class="cl-71c98296"><p class="cl-71c8bfd3"><span class="cl-71c898d7">1.277</span></p></td></tr><tr style="overflow-wrap:break-word;"><td class="cl-71c9829a"><p class="cl-71c8bfd3"><span class="cl-71c898d7">Max</span></p></td><td class="cl-71c98299"><p class="cl-71c8bfd3"><span class="cl-71c898d7">8.940</span></p></td><td class="cl-71c98299"><p class="cl-71c8bfd3"><span class="cl-71c898d7">8.940</span></p></td><td class="cl-71c98299"><p class="cl-71c8bfd3"><span class="cl-71c898d7">8.613</span></p></td></tr></tbody></table></div></template>
<div id="65b7b0f6-fa09-4532-9d27-5ef813145626"></div>
<script>
var dest = document.getElementById("65b7b0f6-fa09-4532-9d27-5ef813145626");
var template = document.getElementById("b90a1c91-035a-4adb-98dc-b7514b9984c3");
var caption = template.content.querySelector("caption");
if(caption) {
  caption.style.cssText = "display:block;text-align:center;";
  var newcapt = document.createElement("p");
  newcapt.appendChild(caption)
  dest.parentNode.insertBefore(newcapt, dest.previousSibling);
}
var fantome = dest.attachShadow({mode: 'open'});
var templateContent = template.content;
fantome.appendChild(templateContent);
</script>

<p>At face value, respondents seem to be pretty high in all types of motivation (e.g., compared with the sample of <a href="https://www.sciencedirect.com/science/article/pii/S1469029219303851">Emm-Collison and colleagues</a> - though these were sum scores).</p>
<p><br></p>
<hr />
</div>
</div>
<div id="lpa" class="section level1">
<h1>LPA</h1>
<div id="step-1" class="section level2">
<h2>Step 1</h2>
<p><br></p>
<div id="model-based-clustering" class="section level3 tabset tabset-fade">
<h3>Model-based clustering</h3>
<p>As a first step for the LPA, we carefully select a measurement model that accurately captures the construct of motivational profile, in each wave.</p>
<p><br></p>
<div id="wave-1" class="section level4">
<h4>Wave 1</h4>
<p>We start by subsetting the data for the respective waves, and standardizing the indicators to z-scores, meaning that resulting profile means reflect standard deviation (SD) units above or below the sample mean (which is set to 0).</p>
<pre class="r"><code>sms_w1 &lt;- sms_long_nm[sms_long_nm$Timepoint==1, ] %&gt;%
  select(-Timepoint, -id) %&gt;% # subset W1
  select(25:30) %&gt;% # subset weighted factor scores
  mutate_all(list(scale)) # standardize indicators
sms_w1$id &lt;- sms_long_nm[sms_long_nm$Timepoint==1, ]$id #add id again</code></pre>
<p>We then compute the model-based clustering, and ask for a summary.</p>
<pre class="r"><code>library(mclust)
mc &lt;- Mclust(sms_w1 %&gt;%
               select(-id))
summary(mc)                 </code></pre>
<pre><code>## ---------------------------------------------------- 
## Gaussian finite mixture model fitted by EM algorithm 
## ---------------------------------------------------- 
## 
## Mclust VEV (ellipsoidal, equal shape) model with 7 components: 
## 
##  log-likelihood   n  df       BIC       ICL
##       -3649.856 621 165 -8360.882 -8489.281
## 
## Clustering table:
##   1   2   3   4   5   6   7 
## 154  71  52  76  92 125  51</code></pre>
<p>For this wave, Mclust selected a model with 7 profiles; the optimal selected model is VEV, i.e., the profiles are ellipsoidal with equal shape (see <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5096736/">this article</a>).</p>
<p>Now we will access to the results and visualize the model. To visualize, we will use a new package (<em>factoextra</em>), to create nicer plots based on ggplot2.</p>
<pre class="r"><code>library(factoextra)
# BIC values used for choosing the number of clusters
fviz_mclust(mc, &quot;BIC&quot;, palette = &quot;jco&quot;)</code></pre>
<p><img src="lpta_files/figure-html/unnamed-chunk-17-1.png" width="672" /></p>
</div>
<div id="wave-2" class="section level4">
<h4>Wave 2</h4>
<p>We start by subsetting the data for the respective waves, and standardizing the indicators to z-scores, meaning that resulting profile means reflect standard deviation (SD) units above or below the sample mean (which is set to 0).</p>
<pre class="r"><code>sms_w2 &lt;- sms_long_nm[sms_long_nm$Timepoint==2, ] %&gt;%
  select(-Timepoint, -id) %&gt;% # subset W1
  select(25:30) %&gt;% # subset weighted factor scores
  mutate_all(list(scale)) # standardize indicators
sms_w2$id &lt;- sms_long_nm[sms_long_nm$Timepoint==2, ]$id #add id again</code></pre>
<p>We then compute the model-based clustering, and ask for a summary.</p>
<pre class="r"><code>library(mclust)
mc &lt;- Mclust(sms_w2 %&gt;%
               select(-id))
summary(mc)                 </code></pre>
<pre><code>## ---------------------------------------------------- 
## Gaussian finite mixture model fitted by EM algorithm 
## ---------------------------------------------------- 
## 
## Mclust EEV (ellipsoidal, equal volume and shape) model with 9 components: 
## 
##  log-likelihood   n  df       BIC       ICL
##       -2665.856 486 203 -6587.513 -6723.082
## 
## Clustering table:
##   1   2   3   4   5   6   7   8   9 
##  30  48  19  33 133  55  25 117  26</code></pre>
<p>For this wave, Mclust selected a model with 9 (!) profiles; the optimal selected model is EEV, i.e., the profiles are ellipsoidal with equal volume and shape (see <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5096736/">this article</a>).</p>
<p>Now we will access to the results and visualize the model. To visualize, we will use a new package (<em>factoextra</em>), to create nicer plots based on ggplot2. Note, that overall the VEV is best, and that VEV,5 is not far behind.</p>
<pre class="r"><code>library(factoextra)
# BIC values used for choosing the number of clusters
fviz_mclust(mc, &quot;BIC&quot;, palette = &quot;jco&quot;)</code></pre>
<p><img src="lpta_files/figure-html/unnamed-chunk-20-1.png" width="672" /></p>
</div>
<div id="wave-3" class="section level4">
<h4>Wave 3</h4>
<p>We start by subsetting the data for the respective waves, and standardizing the indicators to z-scores, meaning that resulting profile means reflect standard deviation (SD) units above or below the sample mean (which is set to 0).</p>
<pre class="r"><code>sms_w3 &lt;- sms_long_nm[sms_long_nm$Timepoint==3, ] %&gt;%
  select(-Timepoint, -id) %&gt;% # subset W1
  select(25:30) %&gt;% # subset weighted factor scores
  mutate_all(list(scale)) # standardize indicators
sms_w3$id &lt;- sms_long_nm[sms_long_nm$Timepoint==3, ]$id #add id again</code></pre>
<p>We then compute the model-based clustering, and ask for a summary.</p>
<pre class="r"><code>library(mclust)
mc &lt;- Mclust(sms_w3 %&gt;%
               select(-id))
summary(mc)                 </code></pre>
<pre><code>## ---------------------------------------------------- 
## Gaussian finite mixture model fitted by EM algorithm 
## ---------------------------------------------------- 
## 
## Mclust EEV (ellipsoidal, equal volume and shape) model with 9 components: 
## 
##  log-likelihood   n  df       BIC       ICL
##       -2858.953 506 203 -6981.893 -7096.844
## 
## Clustering table:
##   1   2   3   4   5   6   7   8   9 
##  42 142  32  27  57 149  22  21  14</code></pre>
<p>For this wave, Mclust selected a model with 9 (!) profiles; the optimal selected model is EEV, i.e., the profiles are ellipsoidal with equal volume and shape (see <a href="https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5096736/">this article</a>).</p>
<p>Now we will access to the results and visualize the model. To visualize, we will use a new package (<em>factoextra</em>), to create nicer plots based on ggplot2. Note, that overall the VEV is best, and that VEV,4 is not far behind.</p>
<pre class="r"><code>library(factoextra)
# BIC values used for choosing the number of clusters
fviz_mclust(mc, &quot;BIC&quot;, palette = &quot;jco&quot;)</code></pre>
<p><img src="lpta_files/figure-html/unnamed-chunk-23-1.png" width="672" /></p>
<p><br></p>
</div>
</div>
<div id="exploring-models" class="section level3 tabset tabset-fade">
<h3>Exploring models</h3>
<p>We will fit a series of measurement models for each wave to determine which model provides the best fit at each wave (following recommendations of <a href="https://srcd.onlinelibrary.wiley.com/doi/full/10.1111/j.1467-8624.2007.01097.x?casa_token=0wyzjh9Ozk0AAAAA:iasgTYid_gJ5kGH42Jyys61DsBhEDl0zxVrukoJdaeX2e2MGOlm1nfyooEUc1v5SaB3lFYyX1wqVLGNOvQ">Nylund et al. (2007)</a> and similar to the article by <a href="https://www.tandfonline.com/doi/pdf/10.1080/10413200.2014.993485?casa_token=CsBgfG9lbtgAAAAA:CMEXxc96xNC-rF6Sowi7X2X0qvXlxI9MuODWtQ1Db92UyZUeLZcWJem1jhhympbi8dBboyrA282A5Ns">Martinent &amp; Decret (2015)</a>).</p>
<p>We will examine a sequence of models, with an increasing number of profiles from 2 to 6, to ascertain whether more complex (i.e. more profiles) or parsimonious (i.e. fewer profiles) models provided the best description of the data. We will use the VEV model (varying volume, equal shape, varying orientation), as this model provided the best fit (at least for relatively parsimonious models, which we want).</p>
<p>We will plot the profile means, the clustering and the clustering uncertainty. If the data contain more than two variables (which is the case in our data), the <em>fviz_mclust()</em>-function will use PCA to reduce the dimensionality of the data. The first two principal components are used to produce a scatter plot of the data. If we want to plot the data using only two variables (e.g., <em>external regulation</em> and <em>intrinsic motivation</em>), we can specify that in the function using the argument <em>choose.vars = c(“external”, “intrinsic”)</em>. Note that, in the uncertainty plot, larger symbols indicate the more uncertain observations.</p>
<p><br></p>
<div id="wave-1-1" class="section level4">
<h4>Wave 1</h4>
<div id="section" class="section level5 tabset tabset-fade">
<h5></h5>
<div id="profiles" class="section level6">
<h6>2 profiles</h6>
<pre class="r fold-hide"><code>library(mclust)

BIC &lt;- mclustBIC(sms_w1 %&gt;%
                   select(-id))
m2 &lt;- Mclust(sms_w1 %&gt;%
               select(-id), modelNames = &quot;VEV&quot;, G = 2, x = BIC)

# Extract mean weighted factor scores
library(reshape2)
means &lt;- data.frame(m2$parameters$mean,
                    stringsAsFactors = F) %&gt;%
  rownames_to_column() %&gt;%
  rename(Motivation = rowname) %&gt;%
  melt(id.vars = &quot;Motivation&quot;, variable.name = &quot;Profile&quot;, value.name = &quot;Mean&quot;) %&gt;%
  mutate(Mean = round(Mean, 2),
         Mean = ifelse(Mean &gt; 1.5, 1.5, Mean), #trim values greater exceeding + 1.5
         Mean = ifelse(Mean &lt; -1, -1, Mean))   #and -1

# Plot showing the standardized means
p &lt;- means %&gt;%
  ggplot(aes(Motivation, Mean, group = Profile, color = Profile)) +
  geom_point(size = 3) + 
  geom_line(size = 1.5) +  scale_x_discrete(limits = c(&quot;amotivation&quot;, &quot;external&quot;, &quot;introjected&quot;, &quot;identified&quot;, &quot;integrated&quot;, &quot;intrinsic&quot;)) +
  labs(x = NULL, y = &quot;Standardized mean weighted factor-scores&quot;) +
  scale_colour_manual(values=c(&quot;#E69F00&quot;, &quot;#56B4E9&quot;, &quot;#000000&quot;, &quot;#009E73&quot;, &quot;#F0E442&quot;, &quot;#0072B2&quot;)) +
  theme_bw(base_size = 14) +
  geom_hline(yintercept = 0, linetype=&quot;dashed&quot;) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1), legend.position = &quot;top&quot;)

p &lt;- p + scale_y_continuous(limits=c(-1, 1.5)) # fix scale

print(p)</code></pre>
<p><img src="lpta_files/figure-html/unnamed-chunk-24-1.png" width="672" /></p>
<pre class="r fold-hide"><code>library(factoextra)
# Plot showing the clustering
fviz_mclust(m2, &quot;classification&quot;, geom = &quot;point&quot;,
            pointsize = 1.5, palette = &quot;jco&quot;)</code></pre>
<p><img src="lpta_files/figure-html/unnamed-chunk-24-2.png" width="672" /></p>
<pre class="r fold-hide"><code># Plot showing the clustering uncertainty
fviz_mclust(m2, &quot;uncertainty&quot;, palette = &quot;jco&quot;)</code></pre>
<p><img src="lpta_files/figure-html/unnamed-chunk-24-3.png" width="672" /></p>
</div>
<div id="profiles-1" class="section level6">
<h6>3 profiles</h6>
<pre class="r fold-hide"><code>library(mclust)

BIC &lt;- mclustBIC(sms_w1 %&gt;%
                   select(-id))
m3 &lt;- Mclust(sms_w1 %&gt;%
               select(-id), modelNames = &quot;VEV&quot;, G = 3, x = BIC)

# Extract mean weighted factor scores
library(reshape2)
means &lt;- data.frame(m3$parameters$mean,
                    stringsAsFactors = F) %&gt;%
  rownames_to_column() %&gt;%
  rename(Motivation = rowname) %&gt;%
  melt(id.vars = &quot;Motivation&quot;, variable.name = &quot;Profile&quot;, value.name = &quot;Mean&quot;) %&gt;%
  mutate(Mean = round(Mean, 2),
         Mean = ifelse(Mean &gt; 1.5, 1.5, Mean), #trim values greater exceeding + 1.5
         Mean = ifelse(Mean &lt; -1, -1, Mean))   #and -1

# Plot showing the standardized means
p &lt;- means %&gt;%
  ggplot(aes(Motivation, Mean, group = Profile, color = Profile)) +
  geom_point(size = 3) + 
  geom_line(size = 1.5) +  scale_x_discrete(limits = c(&quot;amotivation&quot;, &quot;external&quot;, &quot;introjected&quot;, &quot;identified&quot;, &quot;integrated&quot;, &quot;intrinsic&quot;)) +
  labs(x = NULL, y = &quot;Standardized mean weighted factor-scores&quot;) +
  scale_colour_manual(values=c(&quot;#E69F00&quot;, &quot;#56B4E9&quot;, &quot;#000000&quot;, &quot;#009E73&quot;, &quot;#F0E442&quot;, &quot;#0072B2&quot;)) +
  theme_bw(base_size = 14) +
  geom_hline(yintercept = 0, linetype=&quot;dashed&quot;) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1), legend.position = &quot;top&quot;)

p &lt;- p + scale_y_continuous(limits=c(-1, 1.5)) # fix scale

print(p)</code></pre>
<p><img src="lpta_files/figure-html/unnamed-chunk-25-1.png" width="672" /></p>
<pre class="r fold-hide"><code>library(factoextra)
# Plot showing the clustering
fviz_mclust(m3, &quot;classification&quot;, geom = &quot;point&quot;,
            pointsize = 1.5, palette = &quot;jco&quot;)</code></pre>
<p><img src="lpta_files/figure-html/unnamed-chunk-25-2.png" width="672" /></p>
<pre class="r fold-hide"><code># Plot showing the clustering uncertainty
fviz_mclust(m3, &quot;uncertainty&quot;, palette = &quot;jco&quot;)</code></pre>
<p><img src="lpta_files/figure-html/unnamed-chunk-25-3.png" width="672" /></p>
<pre class="r fold-hide"><code># save solution
#save(m3, file = &quot;3profile_w1.RData&quot;)</code></pre>
</div>
<div id="profiles-2" class="section level6">
<h6>4 profiles</h6>
<pre class="r fold-hide"><code>library(mclust)

BIC &lt;- mclustBIC(sms_w1 %&gt;%
                   select(-id)) 
m4 &lt;- Mclust(sms_w1 %&gt;%
               select(-id), modelNames = &quot;VEV&quot;, G = 4, x = BIC)

# Extract mean weighted factor scores
library(reshape2)
means &lt;- data.frame(m4$parameters$mean,
                    stringsAsFactors = F) %&gt;%
  rownames_to_column() %&gt;%
  rename(Motivation = rowname) %&gt;%
  melt(id.vars = &quot;Motivation&quot;, variable.name = &quot;Profile&quot;, value.name = &quot;Mean&quot;) %&gt;%
  mutate(Mean = round(Mean, 2),
         Mean = ifelse(Mean &gt; 1.5, 1.5, Mean), #trim values greater exceeding + 1.5
         Mean = ifelse(Mean &lt; -1, -1, Mean))   #and -1

# Plot showing the standardized means
p &lt;- means %&gt;%
  ggplot(aes(Motivation, Mean, group = Profile, color = Profile)) +
  geom_point(size = 3) + 
  geom_line(size = 1.5) +  scale_x_discrete(limits = c(&quot;amotivation&quot;, &quot;external&quot;, &quot;introjected&quot;, &quot;identified&quot;, &quot;integrated&quot;, &quot;intrinsic&quot;)) +
  labs(x = NULL, y = &quot;Standardized mean weighted factor-scores&quot;) +
  scale_colour_manual(values=c(&quot;#E69F00&quot;, &quot;#56B4E9&quot;, &quot;#000000&quot;, &quot;#009E73&quot;, &quot;#F0E442&quot;, &quot;#0072B2&quot;)) +
  theme_bw(base_size = 14) +
  geom_hline(yintercept = 0, linetype=&quot;dashed&quot;) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1), legend.position = &quot;top&quot;)

p &lt;- p + scale_y_continuous(limits=c(-1, 1.5)) # fix scale

print(p)</code></pre>
<p><img src="lpta_files/figure-html/unnamed-chunk-26-1.png" width="672" /></p>
<pre class="r fold-hide"><code>library(factoextra)
# Plot showing the clustering
fviz_mclust(m4, &quot;classification&quot;, geom = &quot;point&quot;,
            pointsize = 1.5, palette = &quot;jco&quot;)</code></pre>
<p><img src="lpta_files/figure-html/unnamed-chunk-26-2.png" width="672" /></p>
<pre class="r fold-hide"><code># Plot showing the clustering uncertainty
fviz_mclust(m4, &quot;uncertainty&quot;, palette = &quot;jco&quot;)</code></pre>
<p><img src="lpta_files/figure-html/unnamed-chunk-26-3.png" width="672" /></p>
</div>
<div id="profiles-3" class="section level6">
<h6>5 profiles</h6>
<pre class="r fold-hide"><code>library(mclust)

BIC &lt;- mclustBIC(sms_w1 %&gt;%
                   select(-id))
m5 &lt;- Mclust(sms_w1 %&gt;%
               select(-id), modelNames = &quot;VEV&quot;, G = 5, x = BIC)

# Extract mean weighted factor scores
library(reshape2)
means &lt;- data.frame(m5$parameters$mean,
                    stringsAsFactors = F) %&gt;%
  rownames_to_column() %&gt;%
  rename(Motivation = rowname) %&gt;%
  melt(id.vars = &quot;Motivation&quot;, variable.name = &quot;Profile&quot;, value.name = &quot;Mean&quot;) %&gt;%
  mutate(Mean = round(Mean, 2),
         Mean = ifelse(Mean &gt; 1.5, 1.5, Mean), #trim values greater exceeding + 1.5
         Mean = ifelse(Mean &lt; -1, -1, Mean))   #and -1

# Plot showing the standardized means
p &lt;- means %&gt;%
  ggplot(aes(Motivation, Mean, group = Profile, color = Profile)) +
  geom_point(size = 3) + 
  geom_line(size = 1.5) +  scale_x_discrete(limits = c(&quot;amotivation&quot;, &quot;external&quot;, &quot;introjected&quot;, &quot;identified&quot;, &quot;integrated&quot;, &quot;intrinsic&quot;)) +
  labs(x = NULL, y = &quot;Standardized mean weighted factor-scores&quot;) +
  scale_colour_manual(values=c(&quot;#E69F00&quot;, &quot;#56B4E9&quot;, &quot;#000000&quot;, &quot;#009E73&quot;, &quot;#F0E442&quot;, &quot;#0072B2&quot;)) +
  theme_bw(base_size = 14) +
  geom_hline(yintercept = 0, linetype=&quot;dashed&quot;) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1), legend.position = &quot;top&quot;)

p &lt;- p + scale_y_continuous(limits=c(-1, 1.5)) # fix scale

print(p)</code></pre>
<p><img src="lpta_files/figure-html/unnamed-chunk-27-1.png" width="672" /></p>
<pre class="r fold-hide"><code>library(factoextra)
# Plot showing the clustering
fviz_mclust(m5, &quot;classification&quot;, geom = &quot;point&quot;,
            pointsize = 1.5, palette = &quot;jco&quot;)</code></pre>
<p><img src="lpta_files/figure-html/unnamed-chunk-27-2.png" width="672" /></p>
<pre class="r fold-hide"><code># Plot showing the clustering uncertainty
fviz_mclust(m5, &quot;uncertainty&quot;, palette = &quot;jco&quot;)</code></pre>
<p><img src="lpta_files/figure-html/unnamed-chunk-27-3.png" width="672" /></p>
</div>
<div id="profiles-4" class="section level6">
<h6>6 profiles</h6>
<pre class="r fold-hide"><code>library(mclust)

BIC &lt;- mclustBIC(sms_w1 %&gt;%
                   select(-id))
m6 &lt;- Mclust(sms_w1 %&gt;%
               select(-id), modelNames = &quot;VEV&quot;, G = 6, x = BIC)

# Extract mean weighted factor scores
library(reshape2)
means &lt;- data.frame(m6$parameters$mean,
                    stringsAsFactors = F) %&gt;%
  rownames_to_column() %&gt;%
  rename(Motivation = rowname) %&gt;%
  melt(id.vars = &quot;Motivation&quot;, variable.name = &quot;Profile&quot;, value.name = &quot;Mean&quot;) %&gt;%
  mutate(Mean = round(Mean, 2),
         Mean = ifelse(Mean &gt; 1.5, 1.5, Mean), #trim values greater exceeding + 1.5
         Mean = ifelse(Mean &lt; -1, -1, Mean))   #and -1

# Plot showing the standardized means
p &lt;- means %&gt;%
  ggplot(aes(Motivation, Mean, group = Profile, color = Profile)) +
  geom_point(size = 3) + 
  geom_line(size = 1.5) +  scale_x_discrete(limits = c(&quot;amotivation&quot;, &quot;external&quot;, &quot;introjected&quot;, &quot;identified&quot;, &quot;integrated&quot;, &quot;intrinsic&quot;)) +
  labs(x = NULL, y = &quot;Standardized mean weighted factor-scores&quot;) +
  scale_colour_manual(values=c(&quot;#E69F00&quot;, &quot;#56B4E9&quot;, &quot;#000000&quot;, &quot;#009E73&quot;, &quot;#F0E442&quot;, &quot;#0072B2&quot;)) +
  theme_bw(base_size = 14) +
  geom_hline(yintercept = 0, linetype=&quot;dashed&quot;) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1), legend.position = &quot;top&quot;)

p &lt;- p + scale_y_continuous(limits=c(-1, 1.5)) # fix scale

print(p)</code></pre>
<p><img src="lpta_files/figure-html/unnamed-chunk-28-1.png" width="672" /></p>
<pre class="r fold-hide"><code>library(factoextra)
# Plot showing the clustering
fviz_mclust(m6, &quot;classification&quot;, geom = &quot;point&quot;,
            pointsize = 1.5, palette = &quot;jco&quot;)</code></pre>
<p><img src="lpta_files/figure-html/unnamed-chunk-28-2.png" width="672" /></p>
<pre class="r fold-hide"><code># Plot showing the clustering uncertainty
fviz_mclust(m6, &quot;uncertainty&quot;, palette = &quot;jco&quot;)</code></pre>
<p><img src="lpta_files/figure-html/unnamed-chunk-28-3.png" width="672" /></p>
</div>
</div>
</div>
<div id="wave-2-1" class="section level4">
<h4>Wave 2</h4>
<div id="section-1" class="section level5 tabset tabset-fade">
<h5></h5>
<div id="profiles-5" class="section level6">
<h6>2 profiles</h6>
<pre class="r fold-hide"><code>library(mclust)

BIC &lt;- mclustBIC(sms_w2 %&gt;%
                   select(-id)) 
m2 &lt;- Mclust(sms_w2 %&gt;%
               select(-id), modelNames = &quot;VEV&quot;, G = 2, x = BIC)

# Extract mean weighted factor scores
library(reshape2)
means &lt;- data.frame(m2$parameters$mean,
                    stringsAsFactors = F) %&gt;%
  rownames_to_column() %&gt;%
  rename(Motivation = rowname) %&gt;%
  melt(id.vars = &quot;Motivation&quot;, variable.name = &quot;Profile&quot;, value.name = &quot;Mean&quot;) %&gt;%
  mutate(Mean = round(Mean, 2),
         Mean = ifelse(Mean &gt; 1.5, 1.5, Mean), #trim values greater exceeding + 1.5
         Mean = ifelse(Mean &lt; -1, -1, Mean))   #and -1

# Plot showing the standardized means
p &lt;- means %&gt;%
  ggplot(aes(Motivation, Mean, group = Profile, color = Profile)) +
  geom_point(size = 3) + 
  geom_line(size = 1.5) +  scale_x_discrete(limits = c(&quot;amotivation&quot;, &quot;external&quot;, &quot;introjected&quot;, &quot;identified&quot;, &quot;integrated&quot;, &quot;intrinsic&quot;)) +
  labs(x = NULL, y = &quot;Standardized mean weighted factor-scores&quot;) +
  scale_colour_manual(values=c(&quot;#E69F00&quot;, &quot;#56B4E9&quot;, &quot;#000000&quot;, &quot;#009E73&quot;, &quot;#F0E442&quot;, &quot;#0072B2&quot;)) +
  theme_bw(base_size = 14) +
  geom_hline(yintercept = 0, linetype=&quot;dashed&quot;) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1), legend.position = &quot;top&quot;)

p &lt;- p + scale_y_continuous(limits=c(-1, 1.5)) # fix scale

print(p)</code></pre>
<p><img src="lpta_files/figure-html/unnamed-chunk-29-1.png" width="672" /></p>
<pre class="r fold-hide"><code>library(factoextra)
# Plot showing the clustering
fviz_mclust(m2, &quot;classification&quot;, geom = &quot;point&quot;,
            pointsize = 1.5, palette = &quot;jco&quot;)</code></pre>
<p><img src="lpta_files/figure-html/unnamed-chunk-29-2.png" width="672" /></p>
<pre class="r fold-hide"><code># Plot showing the clustering uncertainty
fviz_mclust(m2, &quot;uncertainty&quot;, palette = &quot;jco&quot;)</code></pre>
<p><img src="lpta_files/figure-html/unnamed-chunk-29-3.png" width="672" /></p>
</div>
<div id="profiles-6" class="section level6">
<h6>3 profiles</h6>
<pre class="r fold-hide"><code>library(mclust)

BIC &lt;- mclustBIC(sms_w2 %&gt;%
                   select(-id)) 
m3 &lt;- Mclust(sms_w2 %&gt;%
               select(-id), modelNames = &quot;VEV&quot;, G = 3, x = BIC)

# Extract mean weighted factor scores
library(reshape2)
means &lt;- data.frame(m3$parameters$mean,
                    stringsAsFactors = F) %&gt;%
  rownames_to_column() %&gt;%
  rename(Motivation = rowname) %&gt;%
  melt(id.vars = &quot;Motivation&quot;, variable.name = &quot;Profile&quot;, value.name = &quot;Mean&quot;) %&gt;%
  mutate(Mean = round(Mean, 2),
         Mean = ifelse(Mean &gt; 1.5, 1.5, Mean), #trim values greater exceeding + 1.5
         Mean = ifelse(Mean &lt; -1, -1, Mean))   #and -1

# Plot showing the standardized means
p &lt;- means %&gt;%
  ggplot(aes(Motivation, Mean, group = Profile, color = Profile)) +
  geom_point(size = 3) + 
  geom_line(size = 1.5) +  scale_x_discrete(limits = c(&quot;amotivation&quot;, &quot;external&quot;, &quot;introjected&quot;, &quot;identified&quot;, &quot;integrated&quot;, &quot;intrinsic&quot;)) +
  labs(x = NULL, y = &quot;Standardized mean weighted factor-scores&quot;) +
  scale_colour_manual(values=c(&quot;#E69F00&quot;, &quot;#56B4E9&quot;, &quot;#000000&quot;, &quot;#009E73&quot;, &quot;#F0E442&quot;, &quot;#0072B2&quot;)) +
  theme_bw(base_size = 14) +
  geom_hline(yintercept = 0, linetype=&quot;dashed&quot;) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1), legend.position = &quot;top&quot;)

p &lt;- p + scale_y_continuous(limits=c(-1, 1.5)) # fix scale

print(p)</code></pre>
<p><img src="lpta_files/figure-html/unnamed-chunk-30-1.png" width="672" /></p>
<pre class="r fold-hide"><code>library(factoextra)
# Plot showing the clustering
fviz_mclust(m3, &quot;classification&quot;, geom = &quot;point&quot;,
            pointsize = 1.5, palette = &quot;jco&quot;)</code></pre>
<p><img src="lpta_files/figure-html/unnamed-chunk-30-2.png" width="672" /></p>
<pre class="r fold-hide"><code># Plot showing the clustering uncertainty
fviz_mclust(m3, &quot;uncertainty&quot;, palette = &quot;jco&quot;)</code></pre>
<p><img src="lpta_files/figure-html/unnamed-chunk-30-3.png" width="672" /></p>
<pre class="r fold-hide"><code># save solution
#save(m3, file = &quot;3profile_w2.RData&quot;)</code></pre>
</div>
<div id="profiles-7" class="section level6">
<h6>4 profiles</h6>
<pre class="r fold-hide"><code>library(mclust)

BIC &lt;- mclustBIC(sms_w2 %&gt;%
                   select(-id))
m4 &lt;- Mclust(sms_w2 %&gt;%
               select(-id), modelNames = &quot;VEV&quot;, G = 4, x = BIC)

# Extract mean weighted factor scores
library(reshape2)
means &lt;- data.frame(m4$parameters$mean,
                    stringsAsFactors = F) %&gt;%
  rownames_to_column() %&gt;%
  rename(Motivation = rowname) %&gt;%
  melt(id.vars = &quot;Motivation&quot;, variable.name = &quot;Profile&quot;, value.name = &quot;Mean&quot;) %&gt;%
  mutate(Mean = round(Mean, 2),
         Mean = ifelse(Mean &gt; 1.5, 1.5, Mean), #trim values greater exceeding + 1.5
         Mean = ifelse(Mean &lt; -1, -1, Mean))   #and -1

# Plot showing the standardized means
p &lt;- means %&gt;%
  ggplot(aes(Motivation, Mean, group = Profile, color = Profile)) +
  geom_point(size = 3) + 
  geom_line(size = 1.5) +  scale_x_discrete(limits = c(&quot;amotivation&quot;, &quot;external&quot;, &quot;introjected&quot;, &quot;identified&quot;, &quot;integrated&quot;, &quot;intrinsic&quot;)) +
  labs(x = NULL, y = &quot;Standardized mean weighted factor-scores&quot;) +
  scale_colour_manual(values=c(&quot;#E69F00&quot;, &quot;#56B4E9&quot;, &quot;#000000&quot;, &quot;#009E73&quot;, &quot;#F0E442&quot;, &quot;#0072B2&quot;)) +
  theme_bw(base_size = 14) +
  geom_hline(yintercept = 0, linetype=&quot;dashed&quot;) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1), legend.position = &quot;top&quot;)

p &lt;- p + scale_y_continuous(limits=c(-1, 1.5)) # fix scale

print(p)</code></pre>
<p><img src="lpta_files/figure-html/unnamed-chunk-31-1.png" width="672" /></p>
<pre class="r fold-hide"><code>library(factoextra)
# Plot showing the clustering
fviz_mclust(m4, &quot;classification&quot;, geom = &quot;point&quot;,
            pointsize = 1.5, palette = &quot;jco&quot;)</code></pre>
<p><img src="lpta_files/figure-html/unnamed-chunk-31-2.png" width="672" /></p>
<pre class="r fold-hide"><code># Plot showing the clustering uncertainty
fviz_mclust(m4, &quot;uncertainty&quot;, palette = &quot;jco&quot;)</code></pre>
<p><img src="lpta_files/figure-html/unnamed-chunk-31-3.png" width="672" /></p>
</div>
<div id="profiles-8" class="section level6">
<h6>5 profiles</h6>
<pre class="r fold-hide"><code>library(mclust)

BIC &lt;- mclustBIC(sms_w2 %&gt;%
                   select(-id))
m5 &lt;- Mclust(sms_w2 %&gt;%
               select(-id), modelNames = &quot;VEV&quot;, G = 5, x = BIC)

# Extract mean weighted factor scores
library(reshape2)
means &lt;- data.frame(m5$parameters$mean,
                    stringsAsFactors = F) %&gt;%
  rownames_to_column() %&gt;%
  rename(Motivation = rowname) %&gt;%
  melt(id.vars = &quot;Motivation&quot;, variable.name = &quot;Profile&quot;, value.name = &quot;Mean&quot;) %&gt;%
  mutate(Mean = round(Mean, 2),
         Mean = ifelse(Mean &gt; 1.5, 1.5, Mean), #trim values greater exceeding + 1.5
         Mean = ifelse(Mean &lt; -1, -1, Mean))   #and -1

# Plot showing the standardized means
p &lt;- means %&gt;%
  ggplot(aes(Motivation, Mean, group = Profile, color = Profile)) +
  geom_point(size = 3) + 
  geom_line(size = 1.5) +  scale_x_discrete(limits = c(&quot;amotivation&quot;, &quot;external&quot;, &quot;introjected&quot;, &quot;identified&quot;, &quot;integrated&quot;, &quot;intrinsic&quot;)) +
  labs(x = NULL, y = &quot;Standardized mean weighted factor-scores&quot;) +
  scale_colour_manual(values=c(&quot;#E69F00&quot;, &quot;#56B4E9&quot;, &quot;#000000&quot;, &quot;#009E73&quot;, &quot;#F0E442&quot;, &quot;#0072B2&quot;)) +
  theme_bw(base_size = 14) +
  geom_hline(yintercept = 0, linetype=&quot;dashed&quot;) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1), legend.position = &quot;top&quot;)

p &lt;- p + scale_y_continuous(limits=c(-1, 1.5)) # fix scale

print(p)</code></pre>
<p><img src="lpta_files/figure-html/unnamed-chunk-32-1.png" width="672" /></p>
<pre class="r fold-hide"><code>library(factoextra)
# Plot showing the clustering
fviz_mclust(m5, &quot;classification&quot;, geom = &quot;point&quot;,
            pointsize = 1.5, palette = &quot;jco&quot;)</code></pre>
<p><img src="lpta_files/figure-html/unnamed-chunk-32-2.png" width="672" /></p>
<pre class="r fold-hide"><code># Plot showing the clustering uncertainty
fviz_mclust(m5, &quot;uncertainty&quot;, palette = &quot;jco&quot;)</code></pre>
<p><img src="lpta_files/figure-html/unnamed-chunk-32-3.png" width="672" /></p>
</div>
<div id="profiles-9" class="section level6">
<h6>6 profiles</h6>
<pre class="r fold-hide"><code>library(mclust)

BIC &lt;- mclustBIC(sms_w2 %&gt;%
                   select(-id))
m6 &lt;- Mclust(sms_w2 %&gt;%
               select(-id), modelNames = &quot;VEV&quot;, G = 6, x = BIC)

# Extract mean weighted factor scores
library(reshape2)
means &lt;- data.frame(m6$parameters$mean,
                    stringsAsFactors = F) %&gt;%
  rownames_to_column() %&gt;%
  rename(Motivation = rowname) %&gt;%
  melt(id.vars = &quot;Motivation&quot;, variable.name = &quot;Profile&quot;, value.name = &quot;Mean&quot;) %&gt;%
  mutate(Mean = round(Mean, 2),
         Mean = ifelse(Mean &gt; 1.5, 1.5, Mean), #trim values greater exceeding + 1.5
         Mean = ifelse(Mean &lt; -1, -1, Mean))   #and -1

# Plot showing the standardized means
p &lt;- means %&gt;%
  ggplot(aes(Motivation, Mean, group = Profile, color = Profile)) +
  geom_point(size = 3) + 
  geom_line(size = 1.5) +  scale_x_discrete(limits = c(&quot;amotivation&quot;, &quot;external&quot;, &quot;introjected&quot;, &quot;identified&quot;, &quot;integrated&quot;, &quot;intrinsic&quot;)) +
  labs(x = NULL, y = &quot;Standardized mean weighted factor-scores&quot;) +
  scale_colour_manual(values=c(&quot;#E69F00&quot;, &quot;#56B4E9&quot;, &quot;#000000&quot;, &quot;#009E73&quot;, &quot;#F0E442&quot;, &quot;#0072B2&quot;)) +
  theme_bw(base_size = 14) +
  geom_hline(yintercept = 0, linetype=&quot;dashed&quot;) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1), legend.position = &quot;top&quot;)

p &lt;- p + scale_y_continuous(limits=c(-1, 1.5)) # fix scale

print(p)</code></pre>
<p><img src="lpta_files/figure-html/unnamed-chunk-33-1.png" width="672" /></p>
<pre class="r fold-hide"><code>library(factoextra)
# Plot showing the clustering
fviz_mclust(m6, &quot;classification&quot;, geom = &quot;point&quot;,
            pointsize = 1.5, palette = &quot;jco&quot;)</code></pre>
<p><img src="lpta_files/figure-html/unnamed-chunk-33-2.png" width="672" /></p>
<pre class="r fold-hide"><code># Plot showing the clustering uncertainty
fviz_mclust(m6, &quot;uncertainty&quot;, palette = &quot;jco&quot;)</code></pre>
<p><img src="lpta_files/figure-html/unnamed-chunk-33-3.png" width="672" /></p>
</div>
</div>
</div>
<div id="wave-3-1" class="section level4">
<h4>Wave 3</h4>
<div id="section-2" class="section level5 tabset tabset-fade">
<h5></h5>
<div id="profiles-10" class="section level6">
<h6>2 profiles</h6>
<pre class="r fold-hide"><code>library(mclust)

BIC &lt;- mclustBIC(sms_w3 %&gt;%
                   select(-id)) 
m2 &lt;- Mclust(sms_w3 %&gt;%
               select(-id), modelNames = &quot;VEV&quot;, G = 2, x = BIC)

# Extract mean weighted factor scores
library(reshape2)
means &lt;- data.frame(m2$parameters$mean,
                    stringsAsFactors = F) %&gt;%
  rownames_to_column() %&gt;%
  rename(Motivation = rowname) %&gt;%
  melt(id.vars = &quot;Motivation&quot;, variable.name = &quot;Profile&quot;, value.name = &quot;Mean&quot;) %&gt;%
  mutate(Mean = round(Mean, 2),
         Mean = ifelse(Mean &gt; 1.5, 1.5, Mean), #trim values greater exceeding + 1.5
         Mean = ifelse(Mean &lt; -1, -1, Mean))   #and -1

# Plot showing the standardized means
p &lt;- means %&gt;%
  ggplot(aes(Motivation, Mean, group = Profile, color = Profile)) +
  geom_point(size = 3) + 
  geom_line(size = 1.5) +  scale_x_discrete(limits = c(&quot;amotivation&quot;, &quot;external&quot;, &quot;introjected&quot;, &quot;identified&quot;, &quot;integrated&quot;, &quot;intrinsic&quot;)) +
  labs(x = NULL, y = &quot;Standardized mean weighted factor-scores&quot;) +
  scale_colour_manual(values=c(&quot;#E69F00&quot;, &quot;#56B4E9&quot;, &quot;#000000&quot;, &quot;#009E73&quot;, &quot;#F0E442&quot;, &quot;#0072B2&quot;)) +
  theme_bw(base_size = 14) +
  geom_hline(yintercept = 0, linetype=&quot;dashed&quot;) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1), legend.position = &quot;top&quot;)

p &lt;- p + scale_y_continuous(limits=c(-1, 1.5)) # fix scale

print(p)</code></pre>
<p><img src="lpta_files/figure-html/unnamed-chunk-34-1.png" width="672" /></p>
<pre class="r fold-hide"><code>library(factoextra)
# Plot showing the clustering
fviz_mclust(m2, &quot;classification&quot;, geom = &quot;point&quot;,
            pointsize = 1.5, palette = &quot;jco&quot;)</code></pre>
<p><img src="lpta_files/figure-html/unnamed-chunk-34-2.png" width="672" /></p>
<pre class="r fold-hide"><code># Plot showing the clustering uncertainty
fviz_mclust(m2, &quot;uncertainty&quot;, palette = &quot;jco&quot;)</code></pre>
<p><img src="lpta_files/figure-html/unnamed-chunk-34-3.png" width="672" /></p>
</div>
<div id="profiles-11" class="section level6">
<h6>3 profiles</h6>
<pre class="r fold-hide"><code>library(mclust)

BIC &lt;- mclustBIC(sms_w3 %&gt;%
                   select(-id))
m3 &lt;- Mclust(sms_w3 %&gt;%
               select(-id), modelNames = &quot;VEV&quot;, G = 3, x = BIC)

# Extract mean weighted factor scores
library(reshape2)
means &lt;- data.frame(m3$parameters$mean,
                    stringsAsFactors = F) %&gt;%
  rownames_to_column() %&gt;%
  rename(Motivation = rowname) %&gt;%
  melt(id.vars = &quot;Motivation&quot;, variable.name = &quot;Profile&quot;, value.name = &quot;Mean&quot;) %&gt;%
  mutate(Mean = round(Mean, 2),
         Mean = ifelse(Mean &gt; 1.5, 1.5, Mean), #trim values greater exceeding + 1.5
         Mean = ifelse(Mean &lt; -1, -1, Mean))   #and -1

# Plot showing the standardized means
p &lt;- means %&gt;%
  ggplot(aes(Motivation, Mean, group = Profile, color = Profile)) +
  geom_point(size = 3) + 
  geom_line(size = 1.5) +  scale_x_discrete(limits = c(&quot;amotivation&quot;, &quot;external&quot;, &quot;introjected&quot;, &quot;identified&quot;, &quot;integrated&quot;, &quot;intrinsic&quot;)) +
  labs(x = NULL, y = &quot;Standardized mean weighted factor-scores&quot;) +
  scale_colour_manual(values=c(&quot;#E69F00&quot;, &quot;#56B4E9&quot;, &quot;#000000&quot;, &quot;#009E73&quot;, &quot;#F0E442&quot;, &quot;#0072B2&quot;)) +
  theme_bw(base_size = 14) +
  geom_hline(yintercept = 0, linetype=&quot;dashed&quot;) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1), legend.position = &quot;top&quot;)

p &lt;- p + scale_y_continuous(limits=c(-1, 1.5)) # fix scale

print(p)</code></pre>
<p><img src="lpta_files/figure-html/unnamed-chunk-35-1.png" width="672" /></p>
<pre class="r fold-hide"><code>library(factoextra)
# Plot showing the clustering
fviz_mclust(m3, &quot;classification&quot;, geom = &quot;point&quot;,
            pointsize = 1.5, palette = &quot;jco&quot;)</code></pre>
<p><img src="lpta_files/figure-html/unnamed-chunk-35-2.png" width="672" /></p>
<pre class="r fold-hide"><code># Plot showing the clustering uncertainty
fviz_mclust(m3, &quot;uncertainty&quot;, palette = &quot;jco&quot;)</code></pre>
<p><img src="lpta_files/figure-html/unnamed-chunk-35-3.png" width="672" /></p>
<pre class="r fold-hide"><code># save solution
#save(m3, file = &quot;3profile_w3.RData&quot;)</code></pre>
</div>
<div id="profiles-12" class="section level6">
<h6>4 profiles</h6>
<pre class="r fold-hide"><code>library(mclust)

BIC &lt;- mclustBIC(sms_w3 %&gt;%
                   select(-id)) 
m4 &lt;- Mclust(sms_w3 %&gt;%
               select(-id), modelNames = &quot;VEV&quot;, G = 4, x = BIC)

# Extract mean weighted factor scores
library(reshape2)
means &lt;- data.frame(m4$parameters$mean,
                    stringsAsFactors = F) %&gt;%
  rownames_to_column() %&gt;%
  rename(Motivation = rowname) %&gt;%
  melt(id.vars = &quot;Motivation&quot;, variable.name = &quot;Profile&quot;, value.name = &quot;Mean&quot;) %&gt;%
  mutate(Mean = round(Mean, 2),
         Mean = ifelse(Mean &gt; 1.5, 1.5, Mean), #trim values greater exceeding + 1.5
         Mean = ifelse(Mean &lt; -1, -1, Mean))   #and -1

# Plot showing the standardized means
p &lt;- means %&gt;%
  ggplot(aes(Motivation, Mean, group = Profile, color = Profile)) +
  geom_point(size = 3) + 
  geom_line(size = 1.5) +  scale_x_discrete(limits = c(&quot;amotivation&quot;, &quot;external&quot;, &quot;introjected&quot;, &quot;identified&quot;, &quot;integrated&quot;, &quot;intrinsic&quot;)) +
  labs(x = NULL, y = &quot;Standardized mean weighted factor-scores&quot;) +
  scale_colour_manual(values=c(&quot;#E69F00&quot;, &quot;#56B4E9&quot;, &quot;#000000&quot;, &quot;#009E73&quot;, &quot;#F0E442&quot;, &quot;#0072B2&quot;)) +
  theme_bw(base_size = 14) +
  geom_hline(yintercept = 0, linetype=&quot;dashed&quot;) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1), legend.position = &quot;top&quot;)

p &lt;- p + scale_y_continuous(limits=c(-1, 1.5)) # fix scale

print(p)</code></pre>
<p><img src="lpta_files/figure-html/unnamed-chunk-36-1.png" width="672" /></p>
<pre class="r fold-hide"><code>library(factoextra)
# Plot showing the clustering
fviz_mclust(m4, &quot;classification&quot;, geom = &quot;point&quot;,
            pointsize = 1.5, palette = &quot;jco&quot;)</code></pre>
<p><img src="lpta_files/figure-html/unnamed-chunk-36-2.png" width="672" /></p>
<pre class="r fold-hide"><code># Plot showing the clustering uncertainty
fviz_mclust(m4, &quot;uncertainty&quot;, palette = &quot;jco&quot;)</code></pre>
<p><img src="lpta_files/figure-html/unnamed-chunk-36-3.png" width="672" /></p>
</div>
<div id="profiles-13" class="section level6">
<h6>5 profiles</h6>
<pre class="r fold-hide"><code>library(mclust)

BIC &lt;- mclustBIC(sms_w3 %&gt;%
                   select(-id))
m5 &lt;- Mclust(sms_w3 %&gt;%
               select(-id), modelNames = &quot;VEV&quot;, G = 5, x = BIC)

# Extract mean weighted factor scores
library(reshape2)
means &lt;- data.frame(m5$parameters$mean,
                    stringsAsFactors = F) %&gt;%
  rownames_to_column() %&gt;%
  rename(Motivation = rowname) %&gt;%
  melt(id.vars = &quot;Motivation&quot;, variable.name = &quot;Profile&quot;, value.name = &quot;Mean&quot;) %&gt;%
  mutate(Mean = round(Mean, 2),
         Mean = ifelse(Mean &gt; 1.5, 1.5, Mean), #trim values greater exceeding + 1.5
         Mean = ifelse(Mean &lt; -1, -1, Mean))   #and -1

# Plot showing the standardized means
p &lt;- means %&gt;%
  ggplot(aes(Motivation, Mean, group = Profile, color = Profile)) +
  geom_point(size = 3) + 
  geom_line(size = 1.5) +  scale_x_discrete(limits = c(&quot;amotivation&quot;, &quot;external&quot;, &quot;introjected&quot;, &quot;identified&quot;, &quot;integrated&quot;, &quot;intrinsic&quot;)) +
  labs(x = NULL, y = &quot;Standardized mean weighted factor-scores&quot;) +
  scale_colour_manual(values=c(&quot;#E69F00&quot;, &quot;#56B4E9&quot;, &quot;#000000&quot;, &quot;#009E73&quot;, &quot;#F0E442&quot;, &quot;#0072B2&quot;)) +
  theme_bw(base_size = 14) +
  geom_hline(yintercept = 0, linetype=&quot;dashed&quot;) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1), legend.position = &quot;top&quot;)

p &lt;- p + scale_y_continuous(limits=c(-1, 1.5)) # fix scale

print(p)</code></pre>
<p><img src="lpta_files/figure-html/unnamed-chunk-37-1.png" width="672" /></p>
<pre class="r fold-hide"><code>library(factoextra)
# Plot showing the clustering
fviz_mclust(m5, &quot;classification&quot;, geom = &quot;point&quot;,
            pointsize = 1.5, palette = &quot;jco&quot;)</code></pre>
<p><img src="lpta_files/figure-html/unnamed-chunk-37-2.png" width="672" /></p>
<pre class="r fold-hide"><code># Plot showing the clustering uncertainty
fviz_mclust(m5, &quot;uncertainty&quot;, palette = &quot;jco&quot;)</code></pre>
<p><img src="lpta_files/figure-html/unnamed-chunk-37-3.png" width="672" /></p>
</div>
<div id="profiles-14" class="section level6">
<h6>6 profiles</h6>
<pre class="r fold-hide"><code>library(mclust)

BIC &lt;- mclustBIC(sms_w3 %&gt;%
                   select(-id))
m6 &lt;- Mclust(sms_w3 %&gt;%
               select(-id), modelNames = &quot;VEV&quot;, G = 6, x = BIC)

# Extract mean weighted factor scores
library(reshape2)
means &lt;- data.frame(m6$parameters$mean,
                    stringsAsFactors = F) %&gt;%
  rownames_to_column() %&gt;%
  rename(Motivation = rowname) %&gt;%
  melt(id.vars = &quot;Motivation&quot;, variable.name = &quot;Profile&quot;, value.name = &quot;Mean&quot;) %&gt;%
  mutate(Mean = round(Mean, 2),
         Mean = ifelse(Mean &gt; 1.5, 1.5, Mean), #trim values greater exceeding + 1.5
         Mean = ifelse(Mean &lt; -1, -1, Mean))   #and -1

# Plot showing the standardized means
p &lt;- means %&gt;%
  ggplot(aes(Motivation, Mean, group = Profile, color = Profile)) +
  geom_point(size = 3) + 
  geom_line(size = 1.5) +  scale_x_discrete(limits = c(&quot;amotivation&quot;, &quot;external&quot;, &quot;introjected&quot;, &quot;identified&quot;, &quot;integrated&quot;, &quot;intrinsic&quot;)) +
  labs(x = NULL, y = &quot;Standardized mean weighted factor-scores&quot;) +
  scale_colour_manual(values=c(&quot;#E69F00&quot;, &quot;#56B4E9&quot;, &quot;#000000&quot;, &quot;#009E73&quot;, &quot;#F0E442&quot;, &quot;#0072B2&quot;)) +
  theme_bw(base_size = 14) +
  geom_hline(yintercept = 0, linetype=&quot;dashed&quot;) +
  theme(axis.text.x = element_text(angle = 45, hjust = 1), legend.position = &quot;top&quot;)

p &lt;- p + scale_y_continuous(limits=c(-1, 1.5)) # fix scale

print(p)</code></pre>
<p><img src="lpta_files/figure-html/unnamed-chunk-38-1.png" width="672" /></p>
<pre class="r fold-hide"><code>library(factoextra)
# Plot showing the clustering
fviz_mclust(m6, &quot;classification&quot;, geom = &quot;point&quot;,
            pointsize = 1.5, palette = &quot;jco&quot;)</code></pre>
<p><img src="lpta_files/figure-html/unnamed-chunk-38-2.png" width="672" /></p>
<pre class="r fold-hide"><code># Plot showing the clustering uncertainty
fviz_mclust(m6, &quot;uncertainty&quot;, palette = &quot;jco&quot;)</code></pre>
<p><img src="lpta_files/figure-html/unnamed-chunk-38-3.png" width="672" /></p>
</div>
</div>
</div>
</div>
<div id="interpretation" class="section level3">
<h3>Interpretation</h3>
<p>Based on statistical criteria (i.c. BIC), complex models were more appropriate (note-to-self: also check SSA_BIC, which adjusts for sample size, or ICL, which penalizes on entropy). However, more complex models did not necessarily mean more meaningful models, guided by SDT. In all waves we found that the 3-class solution provided meaningfull profiles. We have re-ordened the profiles to match the motivational continuum proposed from SDT:</p>
<ol style="list-style-type: decimal">
<li><strong>Amotivated</strong>: primarily amotivation, and about average (or somewhat above average) on all other forms of behavioral regulation.</li>
<li><strong>Low in motivation</strong>: low levels (i.c., ~ -0.5 SD) of all types of behavioral regulation.</li>
<li><strong>High in motivation</strong>: high in autonomous forms of motivation (i.e. intrinsic, integrated, identified), and also in controlled forms (i.e. external, introjected), but low in amotivation.</li>
</ol>
<p>The fourth profile provided an extra (read: interpretable) profile in Wave 1 (i.e., high in introjected), and Wave 3 (i.e., moderate on all, low in amotivation), but not in Wave 2 (where profiles seemed to differ only quantitatively). The addition of this fourth profile makes longitudinal comparison very difficult. Therefore, we chose the 3-class solution.</p>
<p><br></p>
</div>
<div id="membership-probabilities" class="section level3 tabset tabset-fade">
<h3>Membership probabilities</h3>
<p>We also checked the profile sizes and the (average posterior) profile membership probabilities to assess if the 3-profile solution is problematic. (Note that we saved the 3-profile solution in each wave.) The table below supports the three-class solution, with high probabilities that athletes belong to their assigned profiles (albeit slight overlap) - average posterior probabilities in all waves above .89. Moreover, the relative proportion of the classes did not change substantially across time.</p>
<div id="wave-1-2" class="section level4">
<h4>Wave 1</h4>
<pre class="r fold-hide"><code>load(file = &quot;3profile_w1.RData&quot;) #load the model
prob &lt;- as.data.frame(m3$z) #turn probabilities into df
prob$class &lt;- m3$classification #get assigned profiles

c1 &lt;- prob %&gt;% #calculate average posterior probabilities
  filter(class == 1)
c2 &lt;- prob %&gt;%
  filter(class == 2)
c3 &lt;- prob %&gt;%
  filter(class == 3)

df &lt;- as.data.frame(rbind(colMeans(c1), colMeans(c2), colMeans(c3))) #make df for posterior probability table
colnames(df) &lt;- c(&quot;Low&quot;, &quot;High&quot;, &quot;Amotivation&quot;, &quot;class&quot;)
df &lt;- df[, c(&quot;class&quot;, &quot;Low&quot;, &quot;High&quot;, &quot;Amotivation&quot; )] #reorder

p &lt;- c(&quot;Low&quot;, &quot;High&quot;, &quot;Amotivation&quot;)
n &lt;- as.character(c(length(m3$n[m3$classification==1]), length(m3$n[m3$classification==2]), length(m3$n[m3$classification==3]))) #get profile sizes
n2 &lt;- as.character(round(as.numeric(n) / length(m3$classification) * 100))

df$class &lt;- ifelse(df$class == 1, paste(p[1], &quot; (N=&quot;, n[1], &quot;, &quot;, n2[1], &quot;%&quot;, &quot;)&quot;, sep = &quot;&quot;), ifelse(df$class == 2, paste(p[2], &quot; (N=&quot;, n[2], &quot;, &quot;, n2[2], &quot;%&quot;, &quot;)&quot;, sep = &quot;&quot;), paste(p[3], &quot; (N=&quot;, n[3], &quot;, &quot;, n2[3], &quot;%&quot;, &quot;)&quot;, sep = &quot;&quot;)))

knitr::kable(df, digits=2, &quot;html&quot;, caption=&quot;Membership probabilities in Wave 1&quot;) %&gt;% #make table
  kableExtra::kable_styling(bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;))</code></pre>
<table class="table table-striped table-hover" style="margin-left: auto; margin-right: auto;">
<caption>
Membership probabilities in Wave 1
</caption>
<thead>
<tr>
<th style="text-align:left;">
class
</th>
<th style="text-align:right;">
Low
</th>
<th style="text-align:right;">
High
</th>
<th style="text-align:right;">
Amotivation
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Low (N=261, 42%)
</td>
<td style="text-align:right;">
0.91
</td>
<td style="text-align:right;">
0.07
</td>
<td style="text-align:right;">
0.02
</td>
</tr>
<tr>
<td style="text-align:left;">
High (N=205, 33%)
</td>
<td style="text-align:right;">
0.06
</td>
<td style="text-align:right;">
0.87
</td>
<td style="text-align:right;">
0.07
</td>
</tr>
<tr>
<td style="text-align:left;">
Amotivation (N=155, 25%)
</td>
<td style="text-align:right;">
0.02
</td>
<td style="text-align:right;">
0.04
</td>
<td style="text-align:right;">
0.94
</td>
</tr>
</tbody>
</table>
</div>
<div id="wave-2-2" class="section level4">
<h4>Wave 2</h4>
<pre class="r fold-hide"><code>load(file = &quot;3profile_w2.RData&quot;) #load the model
prob &lt;- as.data.frame(m3$z) #turn probabilities into df
prob$class &lt;- m3$classification #get assigned profiles

c1 &lt;- prob %&gt;% #calculate average posterior probabilities
  filter(class == 1)
c2 &lt;- prob %&gt;%
  filter(class == 2)
c3 &lt;- prob %&gt;%
  filter(class == 3)

df &lt;- as.data.frame(rbind(colMeans(c1), colMeans(c2), colMeans(c3))) #make df for posterior probability table
colnames(df) &lt;- c(&quot;Low&quot;, &quot;High&quot;, &quot;Amotivation&quot;, &quot;class&quot;)
df &lt;- df[, c(&quot;class&quot;, &quot;Low&quot;, &quot;High&quot;, &quot;Amotivation&quot; )] #reorder

p &lt;- c(&quot;Low&quot;, &quot;High&quot;, &quot;Amotivation&quot;)
n &lt;- as.character(c(length(m3$n[m3$classification==1]), length(m3$n[m3$classification==2]), length(m3$n[m3$classification==3]))) #get profile sizes
n2 &lt;- as.character(round(as.numeric(n) / length(m3$classification) * 100))

df$class &lt;- ifelse(df$class == 1, paste(p[1], &quot; (N=&quot;, n[1], &quot;, &quot;, n2[1], &quot;%&quot;, &quot;)&quot;, sep = &quot;&quot;), ifelse(df$class == 2, paste(p[2], &quot; (N=&quot;, n[2], &quot;, &quot;, n2[2], &quot;%&quot;, &quot;)&quot;, sep = &quot;&quot;), paste(p[3], &quot; (N=&quot;, n[3], &quot;, &quot;, n2[3], &quot;%&quot;, &quot;)&quot;, sep = &quot;&quot;)))

knitr::kable(df, digits=2, &quot;html&quot;, caption=&quot;Membership probabilities in Wave 2&quot;) %&gt;% #make table
  kableExtra::kable_styling(bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;))</code></pre>
<table class="table table-striped table-hover" style="margin-left: auto; margin-right: auto;">
<caption>
Membership probabilities in Wave 2
</caption>
<thead>
<tr>
<th style="text-align:left;">
class
</th>
<th style="text-align:right;">
Low
</th>
<th style="text-align:right;">
High
</th>
<th style="text-align:right;">
Amotivation
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Low (N=216, 44%)
</td>
<td style="text-align:right;">
0.88
</td>
<td style="text-align:right;">
0.08
</td>
<td style="text-align:right;">
0.04
</td>
</tr>
<tr>
<td style="text-align:left;">
High (N=135, 28%)
</td>
<td style="text-align:right;">
0.08
</td>
<td style="text-align:right;">
0.86
</td>
<td style="text-align:right;">
0.06
</td>
</tr>
<tr>
<td style="text-align:left;">
Amotivation (N=135, 28%)
</td>
<td style="text-align:right;">
0.02
</td>
<td style="text-align:right;">
0.03
</td>
<td style="text-align:right;">
0.95
</td>
</tr>
</tbody>
</table>
</div>
<div id="wave-3-2" class="section level4">
<h4>Wave 3</h4>
<pre class="r fold-hide"><code>load(file = &quot;3profile_w3.RData&quot;) #load the model
prob &lt;- as.data.frame(m3$z) #turn probabilities into df
prob$class &lt;- m3$classification #get assigned profiles

c1 &lt;- prob %&gt;% #calculate average posterior probabilities
  filter(class == 1)
c2 &lt;- prob %&gt;%
  filter(class == 2)
c3 &lt;- prob %&gt;%
  filter(class == 3)

df &lt;- as.data.frame(rbind(colMeans(c1), colMeans(c2), colMeans(c3))) #make df for posterior probability table
colnames(df) &lt;- c(&quot;Low&quot;, &quot;Amotivation&quot;, &quot;High&quot;, &quot;class&quot;)
df &lt;- df[, c(&quot;class&quot;, &quot;Low&quot;, &quot;Amotivation&quot;, &quot;High&quot; )] #reorder

p &lt;- c(&quot;Low&quot;, &quot;Amotivation&quot;, &quot;High&quot;)
n &lt;- as.character(c(length(m3$n[m3$classification==1]), length(m3$n[m3$classification==2]), length(m3$n[m3$classification==3]))) #get profile sizes
n2 &lt;- as.character(round(as.numeric(n) / length(m3$classification) * 100))

df$class &lt;- ifelse(df$class == 1, paste(p[1], &quot; (N=&quot;, n[1], &quot;, &quot;, n2[1], &quot;%&quot;, &quot;)&quot;, sep = &quot;&quot;), ifelse(df$class == 2, paste(p[2], &quot; (N=&quot;, n[2], &quot;, &quot;, n2[2], &quot;%&quot;, &quot;)&quot;, sep = &quot;&quot;), paste(p[3], &quot; (N=&quot;, n[3], &quot;, &quot;, n2[3], &quot;%&quot;, &quot;)&quot;, sep = &quot;&quot;)))

knitr::kable(df, digits=2, &quot;html&quot;, caption=&quot;Membership probabilities in Wave 3&quot;) %&gt;% #make table
  kableExtra::kable_styling(bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;))</code></pre>
<table class="table table-striped table-hover" style="margin-left: auto; margin-right: auto;">
<caption>
Membership probabilities in Wave 3
</caption>
<thead>
<tr>
<th style="text-align:left;">
class
</th>
<th style="text-align:right;">
Low
</th>
<th style="text-align:right;">
Amotivation
</th>
<th style="text-align:right;">
High
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Low (N=229, 45%)
</td>
<td style="text-align:right;">
0.87
</td>
<td style="text-align:right;">
0.04
</td>
<td style="text-align:right;">
0.09
</td>
</tr>
<tr>
<td style="text-align:left;">
Amotivation (N=124, 25%)
</td>
<td style="text-align:right;">
0.04
</td>
<td style="text-align:right;">
0.95
</td>
<td style="text-align:right;">
0.01
</td>
</tr>
<tr>
<td style="text-align:left;">
High (N=153, 30%)
</td>
<td style="text-align:right;">
0.10
</td>
<td style="text-align:right;">
0.04
</td>
<td style="text-align:right;">
0.86
</td>
</tr>
</tbody>
</table>
<p><br></p>
</div>
</div>
</div>
<div id="step-2" class="section level2">
<h2>Step 2</h2>
<div id="old-3-step-approach" class="section level3">
<h3>Old 3-step approach</h3>
<p>As a second step, we assign to each subject their profile membership. Through “the old 3-step approach” each subject’s class membership is <em>determined</em> by their most likely class membership. However, this approach may be problematic, as it does not account for classification error, and thus may give biased estimates and standard errors with the relationships with other variables, and the transition probabilities (see <a href="#new">new approach</a>).</p>
<pre class="r"><code>names(sms_long_nm)</code></pre>
<pre><code>##  [1] &quot;id&quot;          &quot;Timepoint&quot;   &quot;M1_1&quot;        &quot;M1_2&quot;        &quot;M1_3&quot;       
##  [6] &quot;M1_4&quot;        &quot;M1_5&quot;        &quot;M1_6&quot;        &quot;M1_7&quot;        &quot;M1_8&quot;       
## [11] &quot;M2_1&quot;        &quot;M2_2&quot;        &quot;M2_3&quot;        &quot;M2_4&quot;        &quot;M2_5&quot;       
## [16] &quot;M2_6&quot;        &quot;M2_7&quot;        &quot;M2_8&quot;        &quot;M3_1&quot;        &quot;M3_2&quot;       
## [21] &quot;M3_3&quot;        &quot;M3_4&quot;        &quot;M3_5&quot;        &quot;M3_6&quot;        &quot;M3_7&quot;       
## [26] &quot;M3_8&quot;        &quot;amotivation&quot; &quot;external&quot;    &quot;introjected&quot; &quot;identified&quot; 
## [31] &quot;integrated&quot;  &quot;intrinsic&quot;</code></pre>
</div>
<div id="new" class="section level3">
<h3>New 3-step approach</h3>
<p>We created a nominal “most likely class” variable <em>N</em>, and a latent class variable <em>z</em>, which reflects the probability to belong to N.</p>
<hr />
</div>
</div>
</div>
<div id="lpta" class="section level1">
<h1>LPTA</h1>
<p>Given that the motivational profiles observed on the LPAs appeared fairly consistent across the waves, the next step is to use LPTA to describe respondents’ change of motivational profiles across time. This allows us to examine the issue of consistency or change from an intraindividual perspective.</p>
</div>

<div id="rmd-source-code">LS0tDQp0aXRsZTogIkxhdGVudCBQcm9maWxlIFRyYW5zaXRpb24gQW5hbHlzaXMiDQpvdXRwdXQ6DQogIGh0bWxfZG9jdW1lbnQ6DQogICAgdG9jOiB0cnVlDQogICAgdG9jX2Zsb2F0OiB0cnVlDQogICAgY29sbGFwc2VkOiBmYWxzZQ0KICAgIG51bWJlcl9zZWN0aW9uczogZmFsc2UNCiAgICB0b2NfZGVwdGg6IDMNCiAgICBjb2RlX2ZvbGRpbmc6IHNob3cNCiAgICBjb2RlX2Rvd25sb2FkOiB5ZXMNCi0tLQ0KDQpgYGB7ciBzZXR1cCwgaW5jbHVkZT1GQUxTRX0NCmtuaXRyOjpvcHRzX2NodW5rJHNldChtZXNzYWdlPUZBTFNFLHdhcm5pbmc9RkFMU0UsIGNhY2hlPVRSVUUpDQpgYGANCg0KDQo8YnI+DQoNCipMYXN0IGVkaXRlZDogSmFudWFyeSAyNSwgMjAyMSoNCg0KPGJyPg0KDQpJbiB0aGUgZm9sbG93aW5nLCB3ZSB3aWxsIGV4cGxvcmUgbW90aXZhdGlvbmFsIHByb2ZpbGVzIGluIHRoZSBjb250ZXh0IG9mIGxvbmdpdHVkaW5hbCBkYXRhLCB1c2luZyBTRFQgYXMgYSB0aGVvcmV0aWNhbCBmcmFtZXdvcmsuIFdlIHdpbGwgZXhwbG9yZSBtb3ZlbWVudCBiZXR3ZWVuIG1vdGl2YXRpb25hbCBwcm9maWxlcyBvdmVyIHRpbWUuDQoNCjxicj4NCg0KIyMgQXBwcm9hY2gNCg0KRURJVCENCkZpcnN0LCB3ZSBvYnRhaW4gd2VpZ2h0ZWQgZmFjdG9yLXNjb3JlcyBmb3IgZWFjaCBTTVMtc3Vic2NhbGUgd2l0aCBDRkEgdXNpbmcgTUxFLCBhcyBpbnB1dCBmb3Igb3VyIHN1YnNlcXVlbnQgTFBBLiBUaGVuLCB3ZSB1c2UgYSB0aHJlZS1zdGVwIGFwcHJvYWNoIChzZWUgW3RoaXMgYXJ0aWNsZV0oaHR0cHM6Ly93d3cudGFuZGZvbmxpbmUuY29tL2RvaS9wZGYvMTAuMTA4MC8xMDcwNTUxMS4yMDE0LjkxNTE4MSk7IG9yIHRoZSBwYXBlciBieSBbRW1tLUNvbGxpc29uIGFuZCBjb2xsZWFndWVzXShodHRwczovL3d3dy5zY2llbmNlZGlyZWN0LmNvbS9zY2llbmNlL2FydGljbGUvcGlpL1MxNDY5MDI5MjE5MzAzODUxKSB3aG8gdXNlZCB0aGUgc2FtZSBwcm9jZWR1cmUpLg0KDQoNCi0tLQ0KDQojIFByZWxpbWluYXJ5IHN0ZXBzDQoNCiMjIDEuIERhdGENCg0KTGV0J3MgZ2V0IG91ciAnY2xlYW5lZCcgU01TLWRhdGEsIGZvciBlYWNoIHdhdmUuIFdlIGlkZW50aWZ5ICJzdHJpbmcgcmVzcG9uZGluZyIsIGFuZCBjYXAgaXQgdG8gYSBtYXhpbXVtIG9mIDEwIGFuZCB3ZSBleGNsdWRlIG11bHRpdmFyaWF0ZSBvdXRsaWVycyB3aXRoIE1haGFsYW5vYmlzIERpc3RhbmNlLCB1c2luZyBhbHBoYSAuMDAxIGFzIGEgY3V0b2ZmLiBOZXh0LCB3ZSBtYWtlIGEgbG9uZyBmaWxlIG9mIHRoZSBTTVMgZGF0YS4NCg0KYGBge3IsIHdhcm5pbmc9RkFMU0UsIG1lc3NhZ2U9RkFMU0UsIGNsYXNzLnNvdXJjZSA9ICdmb2xkLWhpZGUnfQ0KbGlicmFyeShzamxhYmVsbGVkKQ0KbGlicmFyeShkcGx5cikNCmxpYnJhcnkodGlkeXZlcnNlKQ0KbGlicmFyeShjYXJlbGVzcykNCmxpYnJhcnkocHN5Y2gpDQoNCmxvYWQoImRhdGFfYWJzX3B1YmxpY192Mi5SRGF0YSIpICMgbG9hZCBkYXRhDQpkYXRhX2Fic19wdWJsaWMgPC0gdW5sYWJlbChkYXRhX2Fic19wdWJsaWMsIHZlcmJvc2U9RikgIyB1bmxhYmVsDQoNCmRhdGFfYWJzX3B1YmxpYyRpZCA8LSAxOm5yb3coZGF0YV9hYnNfcHVibGljKSAjIGFkZCBpZGVudGlmaWVyIGZvciBzdWJzZXF1ZW50IExQVEENCg0KIyBzdWJzZXQgc21zIGRhdGEgaW4gZWFjaCB3YXZlDQpzbXNfdzEgPC0gZGF0YV9hYnNfcHVibGljICU+JSBzZWxlY3QoVzFfTTFfMSwgVzFfTTFfMiwgVzFfTTFfMywgVzFfTTFfNCwgVzFfTTFfNSwgVzFfTTFfNiwgVzFfTTFfNywgVzFfTTFfOCwgVzFfTTJfMSwgVzFfTTJfMiwgVzFfTTJfMywgVzFfTTJfNCwgVzFfTTJfNSwgVzFfTTJfNiwgVzFfTTJfNywgVzFfTTJfOCwgVzFfTTNfMSwgVzFfTTNfMiwgVzFfTTNfMywgVzFfTTNfNCwgVzFfTTNfNSwgVzFfTTNfNiwgVzFfTTNfNywgVzFfTTNfOCwgaWQpDQoNCnNtc193MiA8LSBkYXRhX2Fic19wdWJsaWMgJT4lIHNlbGVjdChXMl9NMV8xLCBXMl9NMV8yLCBXMl9NMV8zLCBXMl9NMV80LCBXMl9NMV81LCBXMl9NMV82LCBXMl9NMV83LCBXMl9NMV84LCBXMl9NMl8xLCBXMl9NMl8yLCBXMl9NMl8zLCBXMl9NMl80LCBXMl9NMl81LCBXMl9NMl82LCBXMl9NMl83LCBXMl9NMl84LCBXMl9NM18xLCBXMl9NM18yLCBXMl9NM18zLCBXMl9NM180LCBXMl9NM181LCBXMl9NM182LCBXMl9NM183LCBXMl9NM184LCBpZCkgDQoNCnNtc193MyA8LSBkYXRhX2Fic19wdWJsaWMgJT4lIHNlbGVjdChXM19NMV8xLCBXM19NMV8yLCBXM19NMV8zLCBXM19NMV80LCBXM19NMV81LCBXM19NMV82LCBXM19NMV83LCBXM19NMV84LCBXM19NMl8xLCBXM19NMl8yLCBXM19NMl8zLCBXM19NMl80LCBXM19NMl81LCBXM19NMl82LCBXM19NMl83LCBXM19NMl84LCBXM19NM18xLCBXM19NM18yLCBXM19NM18zLCBXM19NM180LCBXM19NM181LCBXM19NM182LCBXM19NM183LCBXM19NM184LCBpZCkNCg0KIyBtYWtlIGEgJ3N0cmluZycgdmFyaWFibGUgDQpzbXNfdzEgPC0gc21zX3cxICU+JQ0KICBtdXRhdGUoc3RyaW5nX3cxID0gbG9uZ3N0cmluZyguKSkgJT4lDQogIG11dGF0ZShtZF93MSA9IG91dGxpZXIoLiwgcGxvdCA9IEZBTFNFKSkNCg0Kc21zX3cyIDwtIHNtc193MiAlPiUNCiAgbXV0YXRlKHN0cmluZ193MiA9IGxvbmdzdHJpbmcoLikpICU+JQ0KICBtdXRhdGUobWRfdzIgPSBvdXRsaWVyKC4sIHBsb3QgPSBGQUxTRSkpIA0KDQpzbXNfdzMgPC0gc21zX3czICU+JQ0KICBtdXRhdGUoc3RyaW5nX3czID0gbG9uZ3N0cmluZyguKSkgJT4lDQogIG11dGF0ZShtZF93MyA9IG91dGxpZXIoLiwgcGxvdCA9IEZBTFNFKSkgDQoNCiMgY2FwIHN0cmluZyByZXNwb25kaW5nIGFuZCB1c2UgTUQNCmN1dG9mZl93MSA8LSAocWNoaXNxKHAgPSAxIC0gLjAwMSwgZGYgPSAobmNvbChzbXNfdzEpIC0gMSkpKQ0Kc21zX3cxIDwtIHNtc193MSAlPiUNCiAgZmlsdGVyKHN0cmluZ193MSA8PSAxMCwNCiAgICAgICAgIG1kX3cxIDwgY3V0b2ZmX3cxKSAlPiUNCiAgc2VsZWN0KC1zdHJpbmdfdzEsIC1tZF93MSkNCg0KICBjdXRvZmZfdzIgPC0gKHFjaGlzcShwID0gMSAtIC4wMDEsIGRmID0gKG5jb2woc21zX3cyKSAtIDEpKSkNCnNtc193MiA8LSBzbXNfdzIgJT4lDQogIGZpbHRlcihzdHJpbmdfdzIgPD0gMTAsDQogICAgICAgICBtZF93MiA8IGN1dG9mZl93MikgJT4lDQogIHNlbGVjdCgtc3RyaW5nX3cyLCAtbWRfdzIpDQoNCmN1dG9mZl93MyA8LSAocWNoaXNxKHAgPSAxIC0gLjAwMSwgZGYgPSAobmNvbChzbXNfdzMpIC0gMSkpKQ0Kc21zX3czIDwtIHNtc193MyAlPiUNCiAgZmlsdGVyKHN0cmluZ193MyA8PSAxMCwNCiAgICAgICAgIG1kX3czIDwgY3V0b2ZmX3czKSAlPiUNCiAgc2VsZWN0KC1zdHJpbmdfdzMsIC1tZF93MykNCg0KIyBmaXJzdCwgbWFrZSBhIHdpZGUgZm9ybWF0DQpzbXNfd2lkZSA8LSBtZXJnZShzbXNfdzEsIHNtc193MiwgYnkgPSAiaWQiKSAjIGZpcnN0IHdhdmUgMSBhbmQgMg0Kc21zX3dpZGUgPC0gbWVyZ2Uoc21zX3dpZGUsIHNtc193MywgYnkgPSAiaWQiKSAjIGFkZCB3YXZlIDMNCg0KIyB0aGVuIHRyYW5zZm9ybSBpbnRvIGxvbmcgc2hhcGUNCmxpYnJhcnkocmVzaGFwZTIpDQpzbXNfbG9uZyA8LSByZXNoYXBlKHNtc193aWRlLA0KICAgICAgICAgICAgICAgICAgICBkaXJlY3Rpb24gPSAibG9uZyIsDQogICAgICAgICAgICAgICAgICAgIHZhcnlpbmcgPSBjKGxpc3QobmFtZXMoc21zX3dpZGUpW2MoMiwgMjYsIDUwKV0pLCBsaXN0KG5hbWVzKHNtc193aWRlKVtjKDMsIDI3LCA1MSldKSwgbGlzdChuYW1lcyhzbXNfd2lkZSlbYyg0LCAyOCwgNTIpXSksIGxpc3QobmFtZXMoc21zX3dpZGUpW2MoNSwgMjksIDUzKV0pLCBsaXN0KG5hbWVzKHNtc193aWRlKVtjKDYsIDMwLCA1NCldKSwgbGlzdChuYW1lcyhzbXNfd2lkZSlbYyg3LCAzMSwgNTUpXSksIGxpc3QobmFtZXMoc21zX3dpZGUpW2MoOCwgMzIsIDU2KV0pLCBsaXN0KG5hbWVzKHNtc193aWRlKVtjKDksIDMzLCA1NyldKSwgbGlzdChuYW1lcyhzbXNfd2lkZSlbYygxMCwgMzQsIDU4KV0pLGxpc3QobmFtZXMoc21zX3dpZGUpW2MoMTEsIDM1LCA1OSldKSwgbGlzdChuYW1lcyhzbXNfd2lkZSlbYygxMiwgMzYsIDYwKV0pLCBsaXN0KG5hbWVzKHNtc193aWRlKVtjKDEzLCAzNywgNjEpXSksIGxpc3QobmFtZXMoc21zX3dpZGUpW2MoMTQsIDM4LCA2MildKSxsaXN0KG5hbWVzKHNtc193aWRlKVtjKDE1LCAzOSwgNjMpXSksIGxpc3QobmFtZXMoc21zX3dpZGUpW2MoMTYsIDQwLCA2NCldKSwgbGlzdChuYW1lcyhzbXNfd2lkZSlbYygxNywgNDEsIDY1KV0pLCBsaXN0KG5hbWVzKHNtc193aWRlKVtjKDE4LCA0MiwgNjYpXSksIGxpc3QobmFtZXMoc21zX3dpZGUpW2MoMTksIDQzLCA2NyldKSwgbGlzdChuYW1lcyhzbXNfd2lkZSlbYygyMCwgNDQsIDY4KV0pLCAgbGlzdChuYW1lcyhzbXNfd2lkZSlbYygyMSwgNDUsIDY5KV0pLCAgbGlzdChuYW1lcyhzbXNfd2lkZSlbYygyMiwgNDYsIDcwKV0pLCBsaXN0KG5hbWVzKHNtc193aWRlKVtjKDIzLCA0NywgNzEpXSksIGxpc3QobmFtZXMoc21zX3dpZGUpW2MoMjQsIDQ4LCA3MildKSwgbGlzdChuYW1lcyhzbXNfd2lkZSlbYygyNSwgNDksIDczKV0pKSwNCiAgICAgICAgICAgICAgICAgICAgdi5uYW1lcyA9IGMoIk0xXzEiLCAiTTFfMiIsICJNMV8zIiwiTTFfNCIsICJNMV81IiwgIk0xXzYiLCAiTTFfNyIsICJNMV84IiwgIk0yXzEiLCAiTTJfMiIsICJNMl8zIiwiTTJfNCIsICJNMl81IiwgIk0yXzYiLCAiTTJfNyIsICJNMl84IiwgIk0zXzEiLCAiTTNfMiIsICJNM18zIiwiTTNfNCIsICJNM181IiwgIk0zXzYiLCAiTTNfNyIsICJNM184IiksDQogICAgICAgICAgICAgICAgICAgIGlkdmFyID0gImlkIiwNCiAgICAgICAgICAgICAgICAgICAgdGltZXZhciA9ICJUaW1lcG9pbnQiLA0KICAgICAgICAgICAgICAgICAgICB0aW1lcyA9IDE6MykNCiMgUmVvcmRlcg0Kc21zX2xvbmcgIDwtIHNtc19sb25nIFsob3JkZXIoc21zX2xvbmckaWQpKSwgXQ0KIyBmaXgoc21zX2xvbmcpIHRvIGNoZWNrIGRhdGEgc3RydWN0dXJlDQoNCnNtc19sb25nX25tIDwtIHNtc19sb25nICU+JQ0KICBuYS5vbWl0KCkgIyBsaXN0d2lzZSBkZWxldGlvbg0KYGBgDQoNCjxicj4NCg0KLS0tLQ0KDQojIyAyLiBDRkENCg0KRmlyc3QsIGNvbmZpcm1hdG9yeSBmYWN0b3IgYW5hbHlzaXMgdXNpbmcgbWF4aW11bSBsaWtlbGlob29kIGVzdGltYXRpb24gd2FzIGNvbmR1Y3RlZCB0byBvYnRhaW4gd2VpZ2h0ZWQgZmFjdG9yIHNjb3JlcyBmb3IgZWFjaCBTTVMgc3Vic2NhbGUuIFdlIGZpcnN0IGNvbmR1Y3QgQ0ZBIG9uIHRoZSBzdGFja2VkIGRhdGEgKGhlbmNlIGFzc3VtaW5nIG9ic2VydmF0aW9ucyB0byBiZSBpbmRlcGVuZGVudCBvZiBlYWNoIG90aGVyKS4gV2Ugd2lsbCBhc3Nlc3MgbW9kZWwgZml0IHVzaW5nIG11bHRpcGxlIGluZGljZXMuIEFmdGVyd2FyZHMsIHdlIHdpbGwgYXNzZXNzIGxvbmdpdHVkaW5hbCBpbnZhcmlhbmNlIG9mIHRoZSBtZWFzdXJlbWVudCBtb2RlbCB2aWEgYSBzZXJpZXMgb2YgaW5jcmVhc2luZ2x5IGNvbnN0cmFpbmVkIG1vZGVscywgaW5kaWNhdGluZyBpbnZhcmlhbmNlIGJ5IGEgY2hhbmdlIG9mIENGSSBvZiDiiaQwLjAxLg0KDQojIyMgTGF2YWFuDQoNClRlbGwgTGF2YWFuIHRoZSBjb25maXJtYXRvcnkgc3RydWN0dXJlLg0KDQpgYGB7cn0NCmxpYnJhcnkobGF2YWFuKQ0KDQptb3RpdmF0aW9uX21vZGVsIDwtICINCmFtb3RpdmF0aW9uID1+IE0xXzUgKyBNMl80ICsgTTNfMSArIE0zXzYNCmV4dGVybmFsICAgID1+IE0xXzQgKyBNMl8zICsgTTNfMyArIE0zXzgNCmludHJvamVjdGVkID1+IE0xXzcgKyBNMl8yICsgTTJfOCArIE0zXzcNCmlkZW50aWZpZWQgID1+IE0xXzMgKyBNMV84ICsgTTJfNyArIE0zXzQNCmludGVncmF0ZWQgID1+IE0xXzIgKyBNMl8xICsgTTJfNSArIE0zXzUNCmludHJpbnNpYyAgID1+IE0xXzEgKyBNMV82ICsgTTJfNiArIE0zXzINCiINCmBgYA0KDQpOb3cgbGV0J3MgaW5zcGVjdCB0aGUgbW9kZWwuIFdlIHdpbGwgZ2V0IHRoZSBmaXQgb2YgdGhlIG1vZGVsLCB0aGUgKHN0YW5kYXJkaXplZCkgZmFjdG9yIGxvYWRpbmdzLCBpdGVtIGF2ZXJhZ2VzIChpbnRlcmNlcHRzKSwgZXJyb3IgdmFyaWFuY2VzLCBhbmQgUi1zcXVhcmUgc2NvcmVzLiBXZSB3aWxsIGFsc28gbWFrZSBhIHRhYmxlIG9mIHRoZSB2YXJpb3VzIGZpdCBpbmRpY2VzLiANCiANCmBgYHtyfQ0KIyBleGFtaW5lIG92ZXJhbGwgZml0DQpvdmVyYWxsLmZpdCA8LSBjZmEobW9kZWwgPSBtb3RpdmF0aW9uX21vZGVsLCBkYXRhID0gc21zX2xvbmdfbm0sDQogICAgICAgICAgIG1lYW5zdHJ1Y3R1cmUgPSBUUlVFLCAgIyBnaXZlcyB1cyB0aGUgbWVhbnMNCiAgICAgICAgICAgc3RkLmx2ID0gVFJVRSkgDQoNCiNzdW1tYXJ5KG92ZXJhbGwuZml0LCBzdGFuZGFyZGl6ZWQgPSBUUlVFLCByc3F1YXJlID0gVFJVRSwgZml0Lm1lYXN1cmUgPSBUUlVFKSAjZm9yIGluc3BlY3Rpb24NCg0KIyBtYWtlIHRhYmxlIG9mIGZpdCBpbmRpY2VzDQp0YWJsZV9maXQgPC0gbWF0cml4KE5BLCBucm93ID0gOCwgbmNvbCA9IDYpDQpjb2xuYW1lcyh0YWJsZV9maXQpIDwtIGMoIk1vZGVsIiwgIlgyIiwgImRmIiwgIkNGSSIsICJSTVNFQSIsICJTUk1SIikNCnRhYmxlX2ZpdFsxLCBdIDwtIGMoIk92ZXJhbGwgTW9kZWwiLCByb3VuZChmaXRtZWFzdXJlcyhvdmVyYWxsLmZpdCwgYygiY2hpc3EiLCAiZGYiLCAiY2ZpIiwgInJtc2VhIiwgInNybXIiKSksMykpDQpgYGANCg0KPGJyPg0KDQpUbyBjaGVjayB0aGUgY29uZmlybWF0b3J5IHN0cnVjdHVyZSBvZiBvdXIgbW9kZWwsIHdlIHdpbGwgYWxzbyBjcmVhdGUgYSBwaWN0dXJlIG9mIHRoZSBzdGFuZGFyZGl6ZWQgc29sdXRpb24gKHF1aWNrIGFuZCBkaXJ0eTsgaXQgY2FuIGJlIGVkaXRlZC4uLikuIFRoZSB0cmlhbmdsZXMgZGVwaWN0IHRoZSAoc3RhbmRhcmRpemVkKSBpbnRlcmNlcHRzLCB0aGUgYXJyb3dzIGRlcGljIHRoZSB2YXJpYW5jZSAoaS5lLiB0aGUgbG9vcHMpIGFuZCAoc3RhbmRhcmRpemVkKSBmYWN0b3IgbG9hZGluZ3MuIA0KDQpgYGB7cn0NCmxpYnJhcnkoc2VtUGxvdCkNCnNlbVBhdGhzKG92ZXJhbGwuZml0LCB3aGF0TGFiZWxzID0gInN0ZCIsIGxheW91dCA9ICJ0cmVlIikNCmBgYA0KDQojIyMgTG9uZ2l0dWRpbmFsIGludmFyaWFuY2Ugey50YWJzZXQgLnRhYnNldC1mYWRlfQ0KDQpTaW5jZSB3ZSBhcmUgZGVhbGluZyB3aXRoIHBhbmVsIGRhdGEsIGFuZCB3ZSB3YW50IHRvIGV4cGxvcmUgbW92ZW1lbnQgb3ZlciB0aW1lIGluIG1vdGl2YXRpb25zLCB3ZSBzaG91bGQgaW52ZXN0aWdhdGUgdG8gd2hhdCBleHRlbnQgb3VyIENGQSBzb2x1dGlvbiBpcyBpbnZhcmlhbnQgb3ZlciB0aW1lIChiZWNhdXNlIHdlIGRvbid0IHdhbnQgdG8gY29tcGFyZSBhcHBsZXMgd2l0aCBvcmFuZ2VzKS4NCldlIHdpbGwgY29tcGFyZSB0aGUgU01TIGRhdGEgb2YgVzEtVzMgYW5kIGNvbXBhcmUgdGhlbSBpbiBDRkEgZm9yIGNvbmZpZ3VyYWwsIG1ldHJpYywgc2NhbGFyLCBhbmQgc3RyaWN0IHJlc2lkdWFsIGludmFyaWFuY2UgKHNlZSBlLmcuLCBbQ2hldW5nICYgUmVuc3ZvbGQgMjAwMl0oaHR0cHM6Ly93d3cudGFuZGZvbmxpbmUuY29tL2RvaS9wZGYvMTAuMTIwNy9TMTUzMjgwMDdTRU0wOTAyXzU/Y2FzYV90b2tlbj1zY3lWUFpSa25jUUFBQUFBOlBERGF3WHhDMEJNdkx1LWtqY3Z0YUZjSHNlWm5PM3Jrd1g0bkpHdGQ4T3JLLW51VHE0QjFNazU3MWFqcGphcTNKUWhhc1ZIbnlYdG9mZGcpKS4NCg0KPGJyPg0KDQojIyMjIENvbmZpZ3VyYWwgaW52YXJpYW5jZQ0KDQpTdGFydGluZyB3aXRoIGEgdGVzdCBmb3IgY29uZmlndXJhbCBpbnZhcmlhbmNlIC0gaXMgdGhlICdwaWN0dXJlJy9zdHJ1Y3R1cmUgb2YgdGhlIG1vZGVsIHRoZSBzYW1lIGZvciBhbGwgd2F2ZXMuIFdlIG1ha2UgYSBtdWx0aS1ncm91cCBtb2RlbCBieSB1c2luZyB0aGUgZ3JvdXAtYXJndW1lbnQuDQoNCmBgYHtyfQ0KY29uLmZpdCA8LSBjZmEobW9kZWwgPSBtb3RpdmF0aW9uX21vZGVsLCBkYXRhID0gc21zX2xvbmdfbm0sIG1lYW5zdHJ1Y3R1cmUgPSBUUlVFLA0KICAgICAgICAgICAgICAgZ3JvdXAgPSAiVGltZXBvaW50IikNCnRhYmxlX2ZpdFsyLCBdIDwtIGMoIkNvbmZpZ3VyYWwgTW9kZWwiLCByb3VuZChmaXRtZWFzdXJlcyhjb24uZml0LCBjKCJjaGlzcSIsICJkZiIsICJjZmkiLCAicm1zZWEiLCAic3JtciIpKSwzKSkgI2FkZCByZXN1bHRzIHRvIHRoZSB0YWJsZQ0KDQpsaWJyYXJ5KGtuaXRyKQ0KbGlicmFyeShrYWJsZUV4dHJhKQ0KbGlicmFyeShkcGx5cikNCmxpYnJhcnkodGlkeXIpDQoNCmlucHV0IDwtIHRhYmxlX2ZpdFsxOjIsIF0gDQprbml0cjo6a2FibGUoaW5wdXQsIGRpZ2l0cz0yLCAiaHRtbCIsIGNhcHRpb249IiIpICU+JSANCiAga2FibGVFeHRyYTo6a2FibGVfc3R5bGluZyhib290c3RyYXBfb3B0aW9ucyA9IGMoInN0cmlwZWQiLCAiaG92ZXIiKSkNCmBgYA0KDQpUaGlzIGlzIHRoZSBtb2RlbCBhZ2FpbnN0IHdoaWNoIHdlIHdpbGwgdGVzdCB0aGUgbmV4dCBtb2RlbC4gU28sIHdlIHdpbGwgY29uZHVjdCBhIHNlcXVlbnRpYWwgdGVzdGluZyBhbmFseXNpcy4gIA0KDQo8YnI+DQoNCiMjIyMgTWV0cmljIGludmFyaWFuY2UNCk5leHQsIHdlIHdpbGwgYXNzZXNzIG1ldHJpYyBpbnZhcmlhbmNlLCBieSBjb25zdHJhaW5pbmcgdGhlIGZhY3RvciBsb2FkaW5ncyB0byBiZSBlcXVhbCBhY3Jvc3MgdGhlIHdhdmVzLiBJbiB0aGUgY29uZmlndXJhbCBtb2RlbCwgZmFjdG9yIGxvYWRpbmdzIHdlcmUgImZyZWVseSIgZXN0aW1hdGVkIGluIGJvdGggd2F2ZXM7IG5vdywgb25seSAxIGxvYWRpbmcgZ2V0cyBlc3RpbWF0ZWQgZm9yIGJvdGggZ3JvdXBzLiBMZXQncyBzZWUgd2hhdCBoYXBwZW5zIHRvIHRoZSBtb2RlbC4NCg0KDQpgYGB7cn0NCm1ldC5maXQgPC0gY2ZhKG1vZGVsID0gbW90aXZhdGlvbl9tb2RlbCwgZGF0YSA9IHNtc19sb25nX25tLCBtZWFuc3RydWN0dXJlID0gVFJVRSwNCiAgICAgICAgICAgICAgIGdyb3VwID0gIlRpbWVwb2ludCIsIGdyb3VwLmVxdWFsID0gYygibG9hZGluZ3MiKSkNCnRhYmxlX2ZpdFszLCBdIDwtIGMoIk1ldHJpYyBNb2RlbCIsIHJvdW5kKGZpdG1lYXN1cmVzKG1ldC5maXQsIGMoImNoaXNxIiwgImRmIiwgImNmaSIsICJybXNlYSIsICJzcm1yIikpLDMpKQ0KDQppbnB1dCA8LSB0YWJsZV9maXRbMTozLCBdIA0Ka25pdHI6OmthYmxlKGlucHV0LCBkaWdpdHM9MiwgImh0bWwiLCBjYXB0aW9uPSIiKSAlPiUgDQogIGthYmxlRXh0cmE6OmthYmxlX3N0eWxpbmcoYm9vdHN0cmFwX29wdGlvbnMgPSBjKCJzdHJpcGVkIiwgImhvdmVyIikpDQpgYGANCg0KVGhlIG1ldHJpYyBtb2RlbCBzZWVtcyB0byBiZSBpbnZhcmlhbnQgaW4gY29tcGFyaXNvbiB0byB0aGUgY29uZmlndXJhbCBtb2RlbDogdGhlIENGSSBkaWZmZXJlbmNlIGlzIHNtYWxsZXIgdGhhbiAuMDEsIGhlbmNlIGFzc3VtaW5nIGludmFyaWFuY2UgKHNhbWUgaG9sZHMgZm9yIFJNU0VBL1NSTVIpLiBDb25jbHVzaW9uOiB0aGUgbWV0cmljIG1vZGVsIGhvbGRzOiB0aGUgbG9hZGluZ3MgYXJlIGVxdWFsIChvciBjbG9zZSBlbm91Z2gpLiANCg0KPGJyPg0KDQojIyMjIFNjYWxhciBpbnZhcmlhbmNlDQpXZSBoYXZlIGNvbnN0cmFpbmVkIG91ciBtb2RlbCB0byBjb250YWluIHRoZSBzYW1lIHN0cnVjdHVyZSwgdGhlIHNhbWUgbG9hZGluZ3M7IG5vdyBsZXQncyB0ZXN0IGZvciBzY2FsYXIgaW52YXJpYW5jZSwgdG8gc2VlIGlmIHRoZSBpbnRlcmNlcHRzIGFyZSB0aGUgc2FtZSBhY3Jvc3Mgd2F2ZXMuIA0KDQpgYGB7cn0NCnNjYS5maXQgPC0gY2ZhKG1vZGVsID0gbW90aXZhdGlvbl9tb2RlbCwgZGF0YSA9IHNtc19sb25nX25tLCBtZWFuc3RydWN0dXJlID0gVFJVRSwNCiAgICAgICAgICAgICAgIGdyb3VwID0gIlRpbWVwb2ludCIsIGdyb3VwLmVxdWFsID0gYygibG9hZGluZ3MiLCAiaW50ZXJjZXB0cyIpKQ0KdGFibGVfZml0WzQsIF0gPC0gYygiU2NhbGFyIE1vZGVsIiwgcm91bmQoZml0bWVhc3VyZXMoc2NhLmZpdCwgYygiY2hpc3EiLCAiZGYiLCAiY2ZpIiwgInJtc2VhIiwgInNybXIiKSksMykpDQoNCmlucHV0IDwtIHRhYmxlX2ZpdFsxOjQsIF0gDQprbml0cjo6a2FibGUoaW5wdXQsIGRpZ2l0cz0yLCAiaHRtbCIsIGNhcHRpb249IiIpICU+JSANCiAga2FibGVFeHRyYTo6a2FibGVfc3R5bGluZyhib290c3RyYXBfb3B0aW9ucyA9IGMoInN0cmlwZWQiLCAiaG92ZXIiKSkNCmBgYA0KDQpUaGUgaW50ZXJjZXB0cyBhcmUgZXF1YWwgb24gdGhlIHNjYWxlIGJldHdlZW4gdGhlIHdhdmVzLiANCg0KPGJyPg0KDQojIyMjIFN0cmljdCAocmVzaWR1YWwpIGludmFyaWFuY2UNCkxhc3QsIHdlIGNvbnN0cmFpbiB0aGUgbW9kZWwgdG8gdGhlIHN0cmljdCBtb2RlbCwgdG8gY2hlY2sgZm9yIHN0cmljdCByZXNpZHVhbCBpbnZhcmlhbmNlLiBJdCB3aWxsIGluZm9ybSB3aGV0aGVyIHRoZSB2YXJpYW5jZSBhcm91bmQgaXRlbXMgaXMgdGhlIHNhbWUgYWNyb3NzIHRpbWUuDQoNCmBgYHtyfQ0Kc3RyLmZpdCA8LSBjZmEobW9kZWwgPSBtb3RpdmF0aW9uX21vZGVsLCBkYXRhID0gc21zX2xvbmdfbm0sIG1lYW5zdHJ1Y3R1cmUgPSBUUlVFLA0KICAgICAgICAgICAgICAgZ3JvdXAgPSAiVGltZXBvaW50IiwgZ3JvdXAuZXF1YWwgPSBjKCJsb2FkaW5ncyIsICJpbnRlcmNlcHRzIiwgInJlc2lkdWFscyIpKQ0KdGFibGVfZml0WzUsIF0gPC0gYygiU3RyaWN0IE1vZGVsIiwgcm91bmQoZml0bWVhc3VyZXMoc3RyLmZpdCwgYygiY2hpc3EiLCAiZGYiLCAiY2ZpIiwgInJtc2VhIiwgInNybXIiKSksMykpDQoNCg0KaW5wdXQgPC0gdGFibGVfZml0WzE6NSwgXSANCmtuaXRyOjprYWJsZShpbnB1dCwgZGlnaXRzPTIsICJodG1sIiwgY2FwdGlvbj0iIikgJT4lIA0KICBrYWJsZUV4dHJhOjprYWJsZV9zdHlsaW5nKGJvb3RzdHJhcF9vcHRpb25zID0gYygic3RyaXBlZCIsICJob3ZlciIpKQ0KYGBgDQoNCkZyb20gaGVyZSBpdCBnb2VzIGRvd253YXJkcy4uLiBDRkkgZHJvcHBlZCBtb3JlIHRoYW4gMC4wMSwgc3VnZ2VzdGluZyB0aGF0IHRoZSByZXNpZHVhbHMgdmFyeSBiZXR3ZWVuIHRoZSB3YXZlcy4gDQoNCjxicj4NCg0KIyMjIyBQYXJ0aWFsIGludmFyaWFuY2UNCldlIGNvdWxkIGVzdGltYXRlIHBhcnRpYWwgaW52YXJpYW5jZSwgdG8gaW52ZXN0aWdhdGUgd2hlcmUgdGhlIHByb2JsZW0gaXMgYW5kIHN1YnNlcXVlbnRseSB1cGRhdGUgdGhlIG1vZGVsIHRvIGZpeCBpdC4gV2UgYXJlIGdvaW5nIHRvIGRvIHNvIGJ5IGZyZWVpbmcgdGhlIHZhcmlhbmNlcyBvZiBpdGVtIHJlc2lkdWFscywgb25lIGF0IGEgdGltZSwgdG8gZmlndXJlIG91dCB3aGljaCBlcXVhbGl0eSBjb25zdGFpbnQocykgaXMvYXJlIGNhdXNpbmcgdGhlIHByb2JsZW0uIFdlIHdpbGwgdXNlIHRoZSBmb2xsb3dpbmcgbG9vcCBmb3IgdGhpcy4gDQoNCmBgYHtyfQ0KIyB3cml0ZSBvdXQgcGFydGlhbCBjb2Rlcw0KcGFydGlhbF9zeW50YXggPC0gcGFzdGUoY29sbmFtZXMoc21zX2xvbmdfbm0pWzM6MjZdLCAjYWxsIHNtcyBjb2x1bW5zDQogICAgICAgICAgICAgICAgICAgICAgICAifn4iLCAjcmVzaWR1YWxzDQogICAgICAgICAgICAgICAgICAgICAgICBjb2xuYW1lcyhzbXNfbG9uZ19ubSlbMzoyNl0pICNhbGwgY29sdW1ucyBhZ2Fpbg0KDQpDRklfbGlzdCA8LSAxOmxlbmd0aChwYXJ0aWFsX3N5bnRheCkNCm5hbWVzKENGSV9saXN0KSA8LSBwYXJ0aWFsX3N5bnRheCANCg0KZm9yIChpIGluIDE6bGVuZ3RoKHBhcnRpYWxfc3ludGF4KSl7DQogIA0KICB0ZW1wIDwtIGNmYShtb2RlbCA9IG1vdGl2YXRpb25fbW9kZWwsDQogICAgICAgICAgICAgIGRhdGEgPSBzbXNfbG9uZ19ubSwNCiAgICAgICAgICAgICAgbWVhbnN0cnVjdHVyZSA9IFRSVUUsDQogICAgICAgICAgICAgIGdyb3VwID0gIlRpbWVwb2ludCIsDQogICAgICAgICAgICAgIGdyb3VwLmVxdWFsID0gYygibG9hZGluZ3MiLCAiaW50ZXJjZXB0cyIsICJyZXNpZHVhbHMiKSwNCiAgICAgICAgICAgICAgZ3JvdXAucGFydGlhbCA9IHBhcnRpYWxfc3ludGF4W2ldKQ0KICANCiAgQ0ZJX2xpc3RbaV0gPC0gZml0bWVhc3VyZXModGVtcCwgImNmaSIpDQp9DQoNCg0KIyBub3cgZmlndXJlIG91dCB3aGljaCBwYXJhbWV0ZXJzIHRvICJmcmVlIg0Kb3B0aW9ucyhzY2lwZW4gPSA5OTkpDQpzb3J0KENGSV9saXN0IC0gZml0bWVhc3VyZXMoc3RyLmZpdCwgImNmaSIpLCBkZWNyZWFzaW5nID0gVFJVRSkNCmBgYA0KDQpMZXQncyBmcmVlIHVwIHRob3NlIHBhcmFtZXRlcnMsIHN0YXJ0aW5nIHdpdGggdGhlIG9uZSB0aGF0IGluY3JlYXNlcyBDRkkgdG8gdGhlIGdyZWF0ZXN0IGV4dGVudC4gDQoNCmBgYHtyfQ0KcGFyLmZpdCA8LSBjZmEobW9kZWwgPSBtb3RpdmF0aW9uX21vZGVsLCBkYXRhID0gc21zX2xvbmdfbm0sIG1lYW5zdHJ1Y3R1cmUgPSBUUlVFLA0KICAgICAgICAgICAgICAgZ3JvdXAgPSAiVGltZXBvaW50IiwgZ3JvdXAuZXF1YWwgPSBjKCJsb2FkaW5ncyIsICJpbnRlcmNlcHRzIiwgInJlc2lkdWFscyIpLA0KICAgICAgICAgICAgICAgZ3JvdXAucGFydGlhbCA9ICJNMV81fn5NMV81IikNCnRhYmxlX2ZpdFs2LCBdIDwtIGMoIlN0cmljdCBNb2RlbCArIE0xXzUiLCByb3VuZChmaXRtZWFzdXJlcyhwYXIuZml0LCBjKCJjaGlzcSIsICJkZiIsICJjZmkiLCAicm1zZWEiLCAic3JtciIpKSwzKSkNCg0KaW5wdXQgPC0gdGFibGVfZml0WzE6NiwgXSANCmtuaXRyOjprYWJsZShpbnB1dCwgZGlnaXRzPTIsICJodG1sIiwgY2FwdGlvbj0iIikgJT4lIA0KICBrYWJsZUV4dHJhOjprYWJsZV9zdHlsaW5nKGJvb3RzdHJhcF9vcHRpb25zID0gYygic3RyaXBlZCIsICJob3ZlciIpKQ0KYGBgDQoNCkNGSSBpbXByb3ZlZCwgYnV0IHRoZSBkaWZmZXJlbmNlIGluIENGSSB3aXRoIHRoZSBiYXNlbGluZSBzY2FsYXIgbW9kZWwgaXMgc3RpbGwgZ3JlYXRlciB0aGFuIC4wMS4gVGh1cywgd2Ugc3RpbGwgbmVlZCB0byBmcmVlIChhdCBsZWFzdCkgb25lIG1vcmUsIHRvIGFjaGlldmUgInBhcnRpYWwiIGludmFyaWFuY2UuIA0KDQpgYGB7cn0NCnBhci5maXQyIDwtIGNmYShtb2RlbCA9IG1vdGl2YXRpb25fbW9kZWwsIGRhdGEgPSBzbXNfbG9uZ19ubSwgbWVhbnN0cnVjdHVyZSA9IFRSVUUsDQogICAgICAgICAgICAgICAgZ3JvdXAgPSAiVGltZXBvaW50IiwgZ3JvdXAucGFydGlhbCA9IGMoIk0xXzV+fk0xXzUiLCAiTTFfN35+TTFfNyIpLA0KICAgICAgICAgICAgICAgIGdyb3VwLmVxdWFsID0gYygibG9hZGluZ3MiLCAiaW50ZXJjZXB0cyIsICJyZXNpZHVhbHMiKSkNCnRhYmxlX2ZpdFs3LCBdIDwtIGMoIlN0cmljdCBNb2RlbCArIE0xXzUgKyBNMV83Iiwgcm91bmQoZml0bWVhc3VyZXMocGFyLmZpdDIsIGMoImNoaXNxIiwgImRmIiwgImNmaSIsICJybXNlYSIsICJzcm1yIikpLDMpKQ0KDQppbnB1dCA8LSB0YWJsZV9maXRbMTo3LCBdIA0Ka25pdHI6OmthYmxlKGlucHV0LCBkaWdpdHM9MiwgImh0bWwiLCBjYXB0aW9uPSIiKSAlPiUgDQogIGthYmxlRXh0cmE6OmthYmxlX3N0eWxpbmcoYm9vdHN0cmFwX29wdGlvbnMgPSBjKCJzdHJpcGVkIiwgImhvdmVyIikpDQpgYGANCg0KRGl0dG8uLi4NCg0KYGBge3J9DQpwYXIuZml0MyA8LSBjZmEobW9kZWwgPSBtb3RpdmF0aW9uX21vZGVsLCBkYXRhID0gc21zX2xvbmdfbm0sIG1lYW5zdHJ1Y3R1cmUgPSBUUlVFLA0KICAgICAgICAgICAgICAgIGdyb3VwID0gIlRpbWVwb2ludCIsIGdyb3VwLnBhcnRpYWwgPSBjKCJNMV81fn5NMV81IiwgIk0xXzd+fk0xXzciLCAiTTFfNn5+TTFfNiIpLA0KICAgICAgICAgICAgICAgIGdyb3VwLmVxdWFsID0gYygibG9hZGluZ3MiLCAiaW50ZXJjZXB0cyIsICJyZXNpZHVhbHMiKSkNCnRhYmxlX2ZpdFs4LCBdIDwtIGMoIlN0cmljdCBNb2RlbCArIE0xXzUgKyBNMV83ICsgTTFfNiIsIHJvdW5kKGZpdG1lYXN1cmVzKHBhci5maXQzLCBjKCJjaGlzcSIsICJkZiIsICJjZmkiLCAicm1zZWEiLCAic3JtciIpKSwzKSkNCg0KaW5wdXQgPC0gdGFibGVfZml0WzE6OCwgXSANCmtuaXRyOjprYWJsZShpbnB1dCwgZGlnaXRzPTIsICJodG1sIiwgY2FwdGlvbj0iIikgJT4lIA0KICBrYWJsZUV4dHJhOjprYWJsZV9zdHlsaW5nKGJvb3RzdHJhcF9vcHRpb25zID0gYygic3RyaXBlZCIsICJob3ZlciIpKQ0KYGBgDQoNCjxicj4NCg0KIyMjIENvbmNsdXNpb24NCg0KV2UgY2FuIGNvbmNsdWRlIHRoYXQgdGhlIFNNUyBpcyBtb3N0bHkgaW52YXJpYW50IC0gdGhlIHN0cnVjdHVyZSwgZmFjdG9yIGxvYWRpbmdzLCBpbnRlcmNlcHRzLCBhbmQgbW9zdCBvZiB0aGUgZXJyb3IgdmFyaWFuY2VzIHdlcmUgZXF1YWwgYWNyb3NzIHRpbWUuDQoNCjxicj4NCg0KIyMjIFdlaWdodGVkIGZhY3Rvci1zY29yZXMNCk5vdyB3ZSB1c2UgdGhlIChwYXJ0aWFsbHkpIGludmFyaWFudCBtZWFzdXJlbWVudCBtb2RlbCB0byBnZW5lcmF0ZSAod2VpZ2h0ZWQpIGZhY3RvciBzY29yZXMgYXMgaW5wdXQgdmFyaWFibGVzIGZvciB0aGUgc3Vic2VxdWVudCBMUEEuIFdlaWdodGVkIGZhY3RvciBzY29yZXMgYXJlIGNvbXB1dGVkIGJ5IG11bHRpcGx5aW5nIHRoZSBmYWN0b3IgbG9hZGluZyBvZiBlYWNoIGl0ZW0gdG8gdGhlIHNjYWxlZCBzY29yZSBmb3IgZWFjaCBpdGVtIGJlZm9yZSBzdW1taW5nIChzZWUgW0RpU3RlZmFubyBldCBhbC4gKDIwMDkpXShodHRwczovL3NjaG9sYXJ3b3Jrcy51bWFzcy5lZHUvY2dpL3ZpZXdjb250ZW50LmNnaT9hcnRpY2xlPTEyMjYmY29udGV4dD1wYXJlKSkuIA0KDQpXZSBleHRyYWN0IHRoZSBmYWN0b3IgbG9hZGluZ3MsIGFuZCBjYWxjdWxhdGUgdGhlIHdlaWdodGVkIHN1bSBzY29yZXMuDQoNCmBgYHtyfQ0KbG9hZGluZyA8LSBwYXJhbWV0ZXJFc3RpbWF0ZXMocGFyLmZpdDMpJGVzdFsxOjI0XSAjIGV4dHJhY3QgZmFjdG9yIGxvYWRpbmdzDQoNCiMgY2FsY3VsYXRlIHdlaWdodGVkIChzdW0pIGZhY3Rvci1zY29yZXMNCnNtc19sb25nX25tJGFtb3RpdmF0aW9uIDwtIHJvd01lYW5zKGNiaW5kKChzbXNfbG9uZ19ubSRNMV81KmxvYWRpbmdbMV0pLCAoc21zX2xvbmdfbm0kTTJfNCpsb2FkaW5nWzJdKSwgKHNtc19sb25nX25tJE0zXzEqbG9hZGluZ1szXSksIChzbXNfbG9uZ19ubSRNM182KmxvYWRpbmdbNF0pKSkNCg0Kc21zX2xvbmdfbm0kZXh0ZXJuYWwgPC0gcm93TWVhbnMoY2JpbmQoKHNtc19sb25nX25tJE0xXzQqbG9hZGluZ1s1XSksIChzbXNfbG9uZ19ubSRNMl8zKmxvYWRpbmdbNl0pLCAoc21zX2xvbmdfbm0kTTNfMypsb2FkaW5nWzddKSwgICAoc21zX2xvbmdfbm0kTTNfOCpsb2FkaW5nWzhdKSkpDQoNCnNtc19sb25nX25tJGludHJvamVjdGVkIDwtIHJvd01lYW5zKGNiaW5kKChzbXNfbG9uZ19ubSRNMV83KmxvYWRpbmdbOV0pLCAoc21zX2xvbmdfbm0kTTJfMipsb2FkaW5nWzEwXSksIChzbXNfbG9uZ19ubSRNMl84KmxvYWRpbmdbMTFdKSwgKHNtc19sb25nX25tJE0zXzcqbG9hZGluZ1sxMl0pKSkNCg0Kc21zX2xvbmdfbm0kaWRlbnRpZmllZCA8LSByb3dNZWFucyhjYmluZCgoc21zX2xvbmdfbm0kTTFfMypsb2FkaW5nWzEzXSksIChzbXNfbG9uZ19ubSRNMV84KmxvYWRpbmdbMTRdKSwgKHNtc19sb25nX25tJE0yXzcqbG9hZGluZ1sxNV0pLCAoc21zX2xvbmdfbm0kTTNfNCpsb2FkaW5nWzE2XSkpKQ0KDQpzbXNfbG9uZ19ubSRpbnRlZ3JhdGVkIDwtIHJvd01lYW5zKGNiaW5kKChzbXNfbG9uZ19ubSRNMV8yKmxvYWRpbmdbMTddKSwgKHNtc19sb25nX25tJE0yXzEqbG9hZGluZ1sxOF0pLCAoc21zX2xvbmdfbm0kTTJfNSpsb2FkaW5nWzE5XSksIChzbXNfbG9uZ19ubSRNM181KmxvYWRpbmdbMjBdKSkpDQoNCnNtc19sb25nX25tJGludHJpbnNpYyA8LSByb3dNZWFucyhjYmluZCgoc21zX2xvbmdfbm0kTTFfMSpsb2FkaW5nWzIxXSksIChzbXNfbG9uZ19ubSRNMV82KmxvYWRpbmdbMjJdKSwgKHNtc19sb25nX25tJE0yXzYqbG9hZGluZ1syM10pLCAoc21zX2xvbmdfbm0kTTNfMipsb2FkaW5nWzI0XSkpKQ0KDQpgYGANCg0KPGJyPg0KDQotLS0tDQoNCiMjIDMuIERlc2NyaXB0aXZlcw0KDQpMZXQncyBkZXNjcmliZSBvdXIgd2VpZ2h0ZWQgZmFjdG9yIHNjb3JlcyBvdmVyIHRpbWUuIA0KDQpgYGB7cn0NCmxpYnJhcnkoY3Jvc3N0YWJsZSkNCg0KaW5wdXQgPC0gc21zX2xvbmdfbm0gJT4lICNnZXQgZmFjdG9yIHNjb3JlcyBhbmQgdGltZXBvaW50IGFzIGdyb3VwaW5nIHZhcmlhYmxlDQogIHNlbGVjdCgyNzozMiwgMikNCg0KIyBpbnRlZ3JhdGUgd2F2ZSBudW1iZXIgYW5kIG4gaW4gaGVhZGVyDQpuIDwtIGFzLnZlY3Rvcih0YWJsZShpbnB1dCRUaW1lcG9pbnQpKQ0KeCA8LSBwYXN0ZShsZXZlbHMoYXMuZmFjdG9yKGlucHV0JFRpbWVwb2ludCkpLCAiIChOPSIsIG4sICIpIiwgc2VwPSIiKQ0KaW5wdXQkVGltZXBvaW50IDwtIGFzLmZhY3RvcihpbnB1dCRUaW1lcG9pbnQpDQpsZXZlbHMoaW5wdXQkVGltZXBvaW50KSA8LSB4DQoNCiNmbGV4dGFibGUNCmNyb3NzdGFibGUoaW5wdXQsIGJ5PVRpbWVwb2ludCwNCiAgICAgICAgICAgZnVucz1jKCJNZWFuIiA9IG1lYW4sICJTdGQuIGRldi4iID0gc2QsICJNaW4iID0gbWluLCAiTWF4IiA9IG1heCksIGZ1bnNfYXJnPWxpc3QoZGlnaXRzPTMpKSAlPiUNCiAgYXNfZmxleHRhYmxlKGJ5X2hlYWRlciA9ICJXYXZlIikNCmBgYA0KDQpBdCBmYWNlIHZhbHVlLCByZXNwb25kZW50cyBzZWVtIHRvIGJlIHByZXR0eSBoaWdoIGluIGFsbCB0eXBlcyBvZiBtb3RpdmF0aW9uIChlLmcuLCBjb21wYXJlZCB3aXRoIHRoZSBzYW1wbGUgb2YgW0VtbS1Db2xsaXNvbiBhbmQgY29sbGVhZ3Vlc10oaHR0cHM6Ly93d3cuc2NpZW5jZWRpcmVjdC5jb20vc2NpZW5jZS9hcnRpY2xlL3BpaS9TMTQ2OTAyOTIxOTMwMzg1MSkgLSB0aG91Z2ggdGhlc2Ugd2VyZSBzdW0gc2NvcmVzKS4NCg0KDQo8YnI+DQoNCi0tLS0NCg0KIyBMUEEgIA0KDQojIyBTdGVwIDEgDQoNCjxicj4NCg0KIyMjIE1vZGVsLWJhc2VkIGNsdXN0ZXJpbmcgey50YWJzZXQgLnRhYnNldC1mYWRlfQ0KDQpBcyBhIGZpcnN0IHN0ZXAgZm9yIHRoZSBMUEEsIHdlIGNhcmVmdWxseSBzZWxlY3QgYSBtZWFzdXJlbWVudCBtb2RlbCB0aGF0IGFjY3VyYXRlbHkgY2FwdHVyZXMgdGhlIGNvbnN0cnVjdCBvZiBtb3RpdmF0aW9uYWwgcHJvZmlsZSwgaW4gZWFjaCB3YXZlLiANCg0KPGJyPg0KDQojIyMjIFdhdmUgMQ0KDQpXZSBzdGFydCBieSBzdWJzZXR0aW5nIHRoZSBkYXRhIGZvciB0aGUgcmVzcGVjdGl2ZSB3YXZlcywgYW5kIHN0YW5kYXJkaXppbmcgdGhlIGluZGljYXRvcnMgdG8gei1zY29yZXMsIG1lYW5pbmcgdGhhdCByZXN1bHRpbmcgcHJvZmlsZSBtZWFucyByZWZsZWN0IHN0YW5kYXJkIGRldmlhdGlvbiAoU0QpIHVuaXRzIGFib3ZlIG9yIGJlbG93IHRoZSBzYW1wbGUgbWVhbiAod2hpY2ggaXMgc2V0IHRvIDApLg0KDQpgYGB7cn0NCnNtc193MSA8LSBzbXNfbG9uZ19ubVtzbXNfbG9uZ19ubSRUaW1lcG9pbnQ9PTEsIF0gJT4lDQogIHNlbGVjdCgtVGltZXBvaW50LCAtaWQpICU+JSAjIHN1YnNldCBXMQ0KICBzZWxlY3QoMjU6MzApICU+JSAjIHN1YnNldCB3ZWlnaHRlZCBmYWN0b3Igc2NvcmVzDQogIG11dGF0ZV9hbGwobGlzdChzY2FsZSkpICMgc3RhbmRhcmRpemUgaW5kaWNhdG9ycw0Kc21zX3cxJGlkIDwtIHNtc19sb25nX25tW3Ntc19sb25nX25tJFRpbWVwb2ludD09MSwgXSRpZCAjYWRkIGlkIGFnYWluDQpgYGANCg0KV2UgdGhlbiBjb21wdXRlIHRoZSBtb2RlbC1iYXNlZCBjbHVzdGVyaW5nLCBhbmQgYXNrIGZvciBhIHN1bW1hcnkuDQpgYGB7cn0NCmxpYnJhcnkobWNsdXN0KQ0KbWMgPC0gTWNsdXN0KHNtc193MSAlPiUNCiAgICAgICAgICAgICAgIHNlbGVjdCgtaWQpKQ0Kc3VtbWFyeShtYykgICAgICAgICAgICAgICAgIA0KYGBgDQoNCkZvciB0aGlzIHdhdmUsIE1jbHVzdCBzZWxlY3RlZCBhIG1vZGVsIHdpdGggNyBwcm9maWxlczsgdGhlIG9wdGltYWwgc2VsZWN0ZWQgbW9kZWwgaXMgVkVWLCBpLmUuLCB0aGUgcHJvZmlsZXMgYXJlIGVsbGlwc29pZGFsIHdpdGggZXF1YWwgc2hhcGUgKHNlZSBbdGhpcyBhcnRpY2xlXShodHRwczovL3d3dy5uY2JpLm5sbS5uaWguZ292L3BtYy9hcnRpY2xlcy9QTUM1MDk2NzM2LykpLg0KDQpOb3cgd2Ugd2lsbCBhY2Nlc3MgdG8gdGhlIHJlc3VsdHMgYW5kIHZpc3VhbGl6ZSB0aGUgbW9kZWwuIFRvIHZpc3VhbGl6ZSwgd2Ugd2lsbCB1c2UgYSBuZXcgcGFja2FnZSAoKmZhY3RvZXh0cmEqKSwgdG8gY3JlYXRlIG5pY2VyIHBsb3RzIGJhc2VkIG9uIGdncGxvdDIuDQoNCmBgYHtyfQ0KbGlicmFyeShmYWN0b2V4dHJhKQ0KIyBCSUMgdmFsdWVzIHVzZWQgZm9yIGNob29zaW5nIHRoZSBudW1iZXIgb2YgY2x1c3RlcnMNCmZ2aXpfbWNsdXN0KG1jLCAiQklDIiwgcGFsZXR0ZSA9ICJqY28iKQ0KYGBgDQoNCiMjIyMgV2F2ZSAyDQoNCldlIHN0YXJ0IGJ5IHN1YnNldHRpbmcgdGhlIGRhdGEgZm9yIHRoZSByZXNwZWN0aXZlIHdhdmVzLCBhbmQgc3RhbmRhcmRpemluZyB0aGUgaW5kaWNhdG9ycyB0byB6LXNjb3JlcywgbWVhbmluZyB0aGF0IHJlc3VsdGluZyBwcm9maWxlIG1lYW5zIHJlZmxlY3Qgc3RhbmRhcmQgZGV2aWF0aW9uIChTRCkgdW5pdHMgYWJvdmUgb3IgYmVsb3cgdGhlIHNhbXBsZSBtZWFuICh3aGljaCBpcyBzZXQgdG8gMCkuDQoNCmBgYHtyfQ0Kc21zX3cyIDwtIHNtc19sb25nX25tW3Ntc19sb25nX25tJFRpbWVwb2ludD09MiwgXSAlPiUNCiAgc2VsZWN0KC1UaW1lcG9pbnQsIC1pZCkgJT4lICMgc3Vic2V0IFcxDQogIHNlbGVjdCgyNTozMCkgJT4lICMgc3Vic2V0IHdlaWdodGVkIGZhY3RvciBzY29yZXMNCiAgbXV0YXRlX2FsbChsaXN0KHNjYWxlKSkgIyBzdGFuZGFyZGl6ZSBpbmRpY2F0b3JzDQpzbXNfdzIkaWQgPC0gc21zX2xvbmdfbm1bc21zX2xvbmdfbm0kVGltZXBvaW50PT0yLCBdJGlkICNhZGQgaWQgYWdhaW4NCmBgYA0KDQpXZSB0aGVuIGNvbXB1dGUgdGhlIG1vZGVsLWJhc2VkIGNsdXN0ZXJpbmcsIGFuZCBhc2sgZm9yIGEgc3VtbWFyeS4NCmBgYHtyfQ0KbGlicmFyeShtY2x1c3QpDQptYyA8LSBNY2x1c3Qoc21zX3cyICU+JQ0KICAgICAgICAgICAgICAgc2VsZWN0KC1pZCkpDQpzdW1tYXJ5KG1jKSAgICAgICAgICAgICAgICAgDQpgYGANCg0KRm9yIHRoaXMgd2F2ZSwgTWNsdXN0IHNlbGVjdGVkIGEgbW9kZWwgd2l0aCA5ICghKSBwcm9maWxlczsgdGhlIG9wdGltYWwgc2VsZWN0ZWQgbW9kZWwgaXMgRUVWLCBpLmUuLCB0aGUgcHJvZmlsZXMgYXJlIGVsbGlwc29pZGFsIHdpdGggZXF1YWwgdm9sdW1lIGFuZCBzaGFwZSAoc2VlIFt0aGlzIGFydGljbGVdKGh0dHBzOi8vd3d3Lm5jYmkubmxtLm5paC5nb3YvcG1jL2FydGljbGVzL1BNQzUwOTY3MzYvKSkuDQoNCk5vdyB3ZSB3aWxsIGFjY2VzcyB0byB0aGUgcmVzdWx0cyBhbmQgdmlzdWFsaXplIHRoZSBtb2RlbC4gVG8gdmlzdWFsaXplLCB3ZSB3aWxsIHVzZSBhIG5ldyBwYWNrYWdlICgqZmFjdG9leHRyYSopLCB0byBjcmVhdGUgbmljZXIgcGxvdHMgYmFzZWQgb24gZ2dwbG90Mi4gTm90ZSwgdGhhdCBvdmVyYWxsIHRoZSBWRVYgaXMgYmVzdCwgYW5kIHRoYXQgVkVWLDUgaXMgbm90IGZhciBiZWhpbmQuDQoNCmBgYHtyfQ0KbGlicmFyeShmYWN0b2V4dHJhKQ0KIyBCSUMgdmFsdWVzIHVzZWQgZm9yIGNob29zaW5nIHRoZSBudW1iZXIgb2YgY2x1c3RlcnMNCmZ2aXpfbWNsdXN0KG1jLCAiQklDIiwgcGFsZXR0ZSA9ICJqY28iKQ0KYGBgDQoNCiMjIyMgV2F2ZSAzDQoNCldlIHN0YXJ0IGJ5IHN1YnNldHRpbmcgdGhlIGRhdGEgZm9yIHRoZSByZXNwZWN0aXZlIHdhdmVzLCBhbmQgc3RhbmRhcmRpemluZyB0aGUgaW5kaWNhdG9ycyB0byB6LXNjb3JlcywgbWVhbmluZyB0aGF0IHJlc3VsdGluZyBwcm9maWxlIG1lYW5zIHJlZmxlY3Qgc3RhbmRhcmQgZGV2aWF0aW9uIChTRCkgdW5pdHMgYWJvdmUgb3IgYmVsb3cgdGhlIHNhbXBsZSBtZWFuICh3aGljaCBpcyBzZXQgdG8gMCkuDQoNCmBgYHtyfQ0Kc21zX3czIDwtIHNtc19sb25nX25tW3Ntc19sb25nX25tJFRpbWVwb2ludD09MywgXSAlPiUNCiAgc2VsZWN0KC1UaW1lcG9pbnQsIC1pZCkgJT4lICMgc3Vic2V0IFcxDQogIHNlbGVjdCgyNTozMCkgJT4lICMgc3Vic2V0IHdlaWdodGVkIGZhY3RvciBzY29yZXMNCiAgbXV0YXRlX2FsbChsaXN0KHNjYWxlKSkgIyBzdGFuZGFyZGl6ZSBpbmRpY2F0b3JzDQpzbXNfdzMkaWQgPC0gc21zX2xvbmdfbm1bc21zX2xvbmdfbm0kVGltZXBvaW50PT0zLCBdJGlkICNhZGQgaWQgYWdhaW4NCmBgYA0KDQpXZSB0aGVuIGNvbXB1dGUgdGhlIG1vZGVsLWJhc2VkIGNsdXN0ZXJpbmcsIGFuZCBhc2sgZm9yIGEgc3VtbWFyeS4NCmBgYHtyfQ0KbGlicmFyeShtY2x1c3QpDQptYyA8LSBNY2x1c3Qoc21zX3czICU+JQ0KICAgICAgICAgICAgICAgc2VsZWN0KC1pZCkpDQpzdW1tYXJ5KG1jKSAgICAgICAgICAgICAgICAgDQpgYGANCg0KRm9yIHRoaXMgd2F2ZSwgTWNsdXN0IHNlbGVjdGVkIGEgbW9kZWwgd2l0aCA5ICghKSBwcm9maWxlczsgdGhlIG9wdGltYWwgc2VsZWN0ZWQgbW9kZWwgaXMgRUVWLCBpLmUuLCB0aGUgcHJvZmlsZXMgYXJlIGVsbGlwc29pZGFsIHdpdGggZXF1YWwgdm9sdW1lIGFuZCBzaGFwZSAoc2VlIFt0aGlzIGFydGljbGVdKGh0dHBzOi8vd3d3Lm5jYmkubmxtLm5paC5nb3YvcG1jL2FydGljbGVzL1BNQzUwOTY3MzYvKSkuIA0KDQpOb3cgd2Ugd2lsbCBhY2Nlc3MgdG8gdGhlIHJlc3VsdHMgYW5kIHZpc3VhbGl6ZSB0aGUgbW9kZWwuIFRvIHZpc3VhbGl6ZSwgd2Ugd2lsbCB1c2UgYSBuZXcgcGFja2FnZSAoKmZhY3RvZXh0cmEqKSwgdG8gY3JlYXRlIG5pY2VyIHBsb3RzIGJhc2VkIG9uIGdncGxvdDIuIE5vdGUsIHRoYXQgb3ZlcmFsbCB0aGUgVkVWIGlzIGJlc3QsIGFuZCB0aGF0IFZFViw0IGlzIG5vdCBmYXIgYmVoaW5kLg0KDQpgYGB7cn0NCmxpYnJhcnkoZmFjdG9leHRyYSkNCiMgQklDIHZhbHVlcyB1c2VkIGZvciBjaG9vc2luZyB0aGUgbnVtYmVyIG9mIGNsdXN0ZXJzDQpmdml6X21jbHVzdChtYywgIkJJQyIsIHBhbGV0dGUgPSAiamNvIikNCmBgYA0KDQo8YnI+DQoNCg0KIyMjIEV4cGxvcmluZyBtb2RlbHMgey50YWJzZXQgLnRhYnNldC1mYWRlfQ0KDQpXZSB3aWxsIGZpdCBhIHNlcmllcyBvZiBtZWFzdXJlbWVudCBtb2RlbHMgZm9yIGVhY2ggd2F2ZSB0byBkZXRlcm1pbmUgd2hpY2ggbW9kZWwgcHJvdmlkZXMgdGhlIGJlc3QgZml0IGF0IGVhY2ggd2F2ZSAoZm9sbG93aW5nIHJlY29tbWVuZGF0aW9ucyBvZiBbTnlsdW5kIGV0IGFsLiAoMjAwNyldKGh0dHBzOi8vc3JjZC5vbmxpbmVsaWJyYXJ5LndpbGV5LmNvbS9kb2kvZnVsbC8xMC4xMTExL2ouMTQ2Ny04NjI0LjIwMDcuMDEwOTcueD9jYXNhX3Rva2VuPTB3eXpqaDlPemswQUFBQUE6aWFzZ1RZaWRfZ0o1a0dINDJKeXlzNjFEc0JoRURsMHp4VnJ1a29KZGFlWDJlMk1HT2xtMW5meW9vRVVjMXY1U2FCM2xGWXlYMXdxVkxHTk92USkgYW5kIHNpbWlsYXIgdG8gdGhlIGFydGljbGUgYnkgW01hcnRpbmVudCAmIERlY3JldCAoMjAxNSldKGh0dHBzOi8vd3d3LnRhbmRmb25saW5lLmNvbS9kb2kvcGRmLzEwLjEwODAvMTA0MTMyMDAuMjAxNC45OTM0ODU/Y2FzYV90b2tlbj1Dc0JnZkc5bGJ0Z0FBQUFBOkNNRVh4Yzk2eE5DLXJGNlNvd2k3WDJYMHF2WGx4STlNdU9EV3RRMURiOTJVeVpVZUxaY1dKZW0xamhoeW1wYmk4ZEJib3lyQTI4MkE1TnMpKS4NCg0KV2Ugd2lsbCBleGFtaW5lIGEgc2VxdWVuY2Ugb2YgbW9kZWxzLCB3aXRoIGFuIGluY3JlYXNpbmcgbnVtYmVyIG9mIHByb2ZpbGVzIGZyb20gMiB0byA2LCB0byBhc2NlcnRhaW4gd2hldGhlciBtb3JlIGNvbXBsZXggKGkuZS4gbW9yZSBwcm9maWxlcykgb3IgcGFyc2ltb25pb3VzIChpLmUuIGZld2VyIHByb2ZpbGVzKSBtb2RlbHMgcHJvdmlkZWQgdGhlIGJlc3QgZGVzY3JpcHRpb24gb2YgdGhlIGRhdGEuIFdlIHdpbGwgdXNlIHRoZSBWRVYgbW9kZWwgKHZhcnlpbmcgdm9sdW1lLCBlcXVhbCBzaGFwZSwgdmFyeWluZyBvcmllbnRhdGlvbiksIGFzIHRoaXMgbW9kZWwgcHJvdmlkZWQgdGhlIGJlc3QgZml0IChhdCBsZWFzdCBmb3IgcmVsYXRpdmVseSBwYXJzaW1vbmlvdXMgbW9kZWxzLCB3aGljaCB3ZSB3YW50KS4NCg0KV2Ugd2lsbCBwbG90IHRoZSBwcm9maWxlIG1lYW5zLCB0aGUgY2x1c3RlcmluZyBhbmQgdGhlIGNsdXN0ZXJpbmcgdW5jZXJ0YWludHkuIElmIHRoZSBkYXRhIGNvbnRhaW4gbW9yZSB0aGFuIHR3byB2YXJpYWJsZXMgKHdoaWNoIGlzIHRoZSBjYXNlIGluIG91ciBkYXRhKSwgdGhlICpmdml6X21jbHVzdCgpKi1mdW5jdGlvbiB3aWxsIHVzZSBQQ0EgdG8gcmVkdWNlIHRoZSBkaW1lbnNpb25hbGl0eSBvZiB0aGUgZGF0YS4gVGhlIGZpcnN0IHR3byBwcmluY2lwYWwgY29tcG9uZW50cyBhcmUgdXNlZCB0byBwcm9kdWNlIGEgc2NhdHRlciBwbG90IG9mIHRoZSBkYXRhLiBJZiB3ZSB3YW50IHRvIHBsb3QgdGhlIGRhdGEgdXNpbmcgb25seSB0d28gdmFyaWFibGVzIChlLmcuLCAqZXh0ZXJuYWwgcmVndWxhdGlvbiogYW5kICppbnRyaW5zaWMgbW90aXZhdGlvbiopLCB3ZSBjYW4gc3BlY2lmeSB0aGF0IGluIHRoZSBmdW5jdGlvbiB1c2luZyB0aGUgYXJndW1lbnQgKmNob29zZS52YXJzID0gYygiZXh0ZXJuYWwiLCAiaW50cmluc2ljIikqLiBOb3RlIHRoYXQsIGluIHRoZSB1bmNlcnRhaW50eSBwbG90LCBsYXJnZXIgc3ltYm9scyBpbmRpY2F0ZSB0aGUgbW9yZSB1bmNlcnRhaW4gb2JzZXJ2YXRpb25zLg0KDQo8YnI+DQoNCiMjIyMgV2F2ZSAxDQoNCiMjIyMjIHsudGFic2V0IC50YWJzZXQtZmFkZX0NCg0KIyMjIyMjIDIgcHJvZmlsZXMNCg0KYGBge3IgY2xhc3Muc291cmNlID0gJ2ZvbGQtaGlkZSd9DQpsaWJyYXJ5KG1jbHVzdCkNCg0KQklDIDwtIG1jbHVzdEJJQyhzbXNfdzEgJT4lDQogICAgICAgICAgICAgICAgICAgc2VsZWN0KC1pZCkpDQptMiA8LSBNY2x1c3Qoc21zX3cxICU+JQ0KICAgICAgICAgICAgICAgc2VsZWN0KC1pZCksIG1vZGVsTmFtZXMgPSAiVkVWIiwgRyA9IDIsIHggPSBCSUMpDQoNCiMgRXh0cmFjdCBtZWFuIHdlaWdodGVkIGZhY3RvciBzY29yZXMNCmxpYnJhcnkocmVzaGFwZTIpDQptZWFucyA8LSBkYXRhLmZyYW1lKG0yJHBhcmFtZXRlcnMkbWVhbiwNCiAgICAgICAgICAgICAgICAgICAgc3RyaW5nc0FzRmFjdG9ycyA9IEYpICU+JQ0KICByb3duYW1lc190b19jb2x1bW4oKSAlPiUNCiAgcmVuYW1lKE1vdGl2YXRpb24gPSByb3duYW1lKSAlPiUNCiAgbWVsdChpZC52YXJzID0gIk1vdGl2YXRpb24iLCB2YXJpYWJsZS5uYW1lID0gIlByb2ZpbGUiLCB2YWx1ZS5uYW1lID0gIk1lYW4iKSAlPiUNCiAgbXV0YXRlKE1lYW4gPSByb3VuZChNZWFuLCAyKSwNCiAgICAgICAgIE1lYW4gPSBpZmVsc2UoTWVhbiA+IDEuNSwgMS41LCBNZWFuKSwgI3RyaW0gdmFsdWVzIGdyZWF0ZXIgZXhjZWVkaW5nICsgMS41DQogICAgICAgICBNZWFuID0gaWZlbHNlKE1lYW4gPCAtMSwgLTEsIE1lYW4pKSAgICNhbmQgLTENCg0KIyBQbG90IHNob3dpbmcgdGhlIHN0YW5kYXJkaXplZCBtZWFucw0KcCA8LSBtZWFucyAlPiUNCiAgZ2dwbG90KGFlcyhNb3RpdmF0aW9uLCBNZWFuLCBncm91cCA9IFByb2ZpbGUsIGNvbG9yID0gUHJvZmlsZSkpICsNCiAgZ2VvbV9wb2ludChzaXplID0gMykgKyANCiAgZ2VvbV9saW5lKHNpemUgPSAxLjUpICsgIHNjYWxlX3hfZGlzY3JldGUobGltaXRzID0gYygiYW1vdGl2YXRpb24iLCAiZXh0ZXJuYWwiLCAiaW50cm9qZWN0ZWQiLCAiaWRlbnRpZmllZCIsICJpbnRlZ3JhdGVkIiwgImludHJpbnNpYyIpKSArDQogIGxhYnMoeCA9IE5VTEwsIHkgPSAiU3RhbmRhcmRpemVkIG1lYW4gd2VpZ2h0ZWQgZmFjdG9yLXNjb3JlcyIpICsNCiAgc2NhbGVfY29sb3VyX21hbnVhbCh2YWx1ZXM9YygiI0U2OUYwMCIsICIjNTZCNEU5IiwgIiMwMDAwMDAiLCAiIzAwOUU3MyIsICIjRjBFNDQyIiwgIiMwMDcyQjIiKSkgKw0KICB0aGVtZV9idyhiYXNlX3NpemUgPSAxNCkgKw0KICBnZW9tX2hsaW5lKHlpbnRlcmNlcHQgPSAwLCBsaW5ldHlwZT0iZGFzaGVkIikgKw0KICB0aGVtZShheGlzLnRleHQueCA9IGVsZW1lbnRfdGV4dChhbmdsZSA9IDQ1LCBoanVzdCA9IDEpLCBsZWdlbmQucG9zaXRpb24gPSAidG9wIikNCg0KcCA8LSBwICsgc2NhbGVfeV9jb250aW51b3VzKGxpbWl0cz1jKC0xLCAxLjUpKSAjIGZpeCBzY2FsZQ0KDQpwcmludChwKQ0KDQpsaWJyYXJ5KGZhY3RvZXh0cmEpDQojIFBsb3Qgc2hvd2luZyB0aGUgY2x1c3RlcmluZw0KZnZpel9tY2x1c3QobTIsICJjbGFzc2lmaWNhdGlvbiIsIGdlb20gPSAicG9pbnQiLA0KICAgICAgICAgICAgcG9pbnRzaXplID0gMS41LCBwYWxldHRlID0gImpjbyIpDQoNCiMgUGxvdCBzaG93aW5nIHRoZSBjbHVzdGVyaW5nIHVuY2VydGFpbnR5DQpmdml6X21jbHVzdChtMiwgInVuY2VydGFpbnR5IiwgcGFsZXR0ZSA9ICJqY28iKQ0KYGBgDQoNCiMjIyMjIyAzIHByb2ZpbGVzDQoNCmBgYHtyIGNsYXNzLnNvdXJjZSA9ICdmb2xkLWhpZGUnfQ0KbGlicmFyeShtY2x1c3QpDQoNCkJJQyA8LSBtY2x1c3RCSUMoc21zX3cxICU+JQ0KICAgICAgICAgICAgICAgICAgIHNlbGVjdCgtaWQpKQ0KbTMgPC0gTWNsdXN0KHNtc193MSAlPiUNCiAgICAgICAgICAgICAgIHNlbGVjdCgtaWQpLCBtb2RlbE5hbWVzID0gIlZFViIsIEcgPSAzLCB4ID0gQklDKQ0KDQojIEV4dHJhY3QgbWVhbiB3ZWlnaHRlZCBmYWN0b3Igc2NvcmVzDQpsaWJyYXJ5KHJlc2hhcGUyKQ0KbWVhbnMgPC0gZGF0YS5mcmFtZShtMyRwYXJhbWV0ZXJzJG1lYW4sDQogICAgICAgICAgICAgICAgICAgIHN0cmluZ3NBc0ZhY3RvcnMgPSBGKSAlPiUNCiAgcm93bmFtZXNfdG9fY29sdW1uKCkgJT4lDQogIHJlbmFtZShNb3RpdmF0aW9uID0gcm93bmFtZSkgJT4lDQogIG1lbHQoaWQudmFycyA9ICJNb3RpdmF0aW9uIiwgdmFyaWFibGUubmFtZSA9ICJQcm9maWxlIiwgdmFsdWUubmFtZSA9ICJNZWFuIikgJT4lDQogIG11dGF0ZShNZWFuID0gcm91bmQoTWVhbiwgMiksDQogICAgICAgICBNZWFuID0gaWZlbHNlKE1lYW4gPiAxLjUsIDEuNSwgTWVhbiksICN0cmltIHZhbHVlcyBncmVhdGVyIGV4Y2VlZGluZyArIDEuNQ0KICAgICAgICAgTWVhbiA9IGlmZWxzZShNZWFuIDwgLTEsIC0xLCBNZWFuKSkgICAjYW5kIC0xDQoNCiMgUGxvdCBzaG93aW5nIHRoZSBzdGFuZGFyZGl6ZWQgbWVhbnMNCnAgPC0gbWVhbnMgJT4lDQogIGdncGxvdChhZXMoTW90aXZhdGlvbiwgTWVhbiwgZ3JvdXAgPSBQcm9maWxlLCBjb2xvciA9IFByb2ZpbGUpKSArDQogIGdlb21fcG9pbnQoc2l6ZSA9IDMpICsgDQogIGdlb21fbGluZShzaXplID0gMS41KSArICBzY2FsZV94X2Rpc2NyZXRlKGxpbWl0cyA9IGMoImFtb3RpdmF0aW9uIiwgImV4dGVybmFsIiwgImludHJvamVjdGVkIiwgImlkZW50aWZpZWQiLCAiaW50ZWdyYXRlZCIsICJpbnRyaW5zaWMiKSkgKw0KICBsYWJzKHggPSBOVUxMLCB5ID0gIlN0YW5kYXJkaXplZCBtZWFuIHdlaWdodGVkIGZhY3Rvci1zY29yZXMiKSArDQogIHNjYWxlX2NvbG91cl9tYW51YWwodmFsdWVzPWMoIiNFNjlGMDAiLCAiIzU2QjRFOSIsICIjMDAwMDAwIiwgIiMwMDlFNzMiLCAiI0YwRTQ0MiIsICIjMDA3MkIyIikpICsNCiAgdGhlbWVfYncoYmFzZV9zaXplID0gMTQpICsNCiAgZ2VvbV9obGluZSh5aW50ZXJjZXB0ID0gMCwgbGluZXR5cGU9ImRhc2hlZCIpICsNCiAgdGhlbWUoYXhpcy50ZXh0LnggPSBlbGVtZW50X3RleHQoYW5nbGUgPSA0NSwgaGp1c3QgPSAxKSwgbGVnZW5kLnBvc2l0aW9uID0gInRvcCIpDQoNCnAgPC0gcCArIHNjYWxlX3lfY29udGludW91cyhsaW1pdHM9YygtMSwgMS41KSkgIyBmaXggc2NhbGUNCg0KcHJpbnQocCkNCg0KbGlicmFyeShmYWN0b2V4dHJhKQ0KIyBQbG90IHNob3dpbmcgdGhlIGNsdXN0ZXJpbmcNCmZ2aXpfbWNsdXN0KG0zLCAiY2xhc3NpZmljYXRpb24iLCBnZW9tID0gInBvaW50IiwNCiAgICAgICAgICAgIHBvaW50c2l6ZSA9IDEuNSwgcGFsZXR0ZSA9ICJqY28iKQ0KDQojIFBsb3Qgc2hvd2luZyB0aGUgY2x1c3RlcmluZyB1bmNlcnRhaW50eQ0KZnZpel9tY2x1c3QobTMsICJ1bmNlcnRhaW50eSIsIHBhbGV0dGUgPSAiamNvIikNCg0KIyBzYXZlIHNvbHV0aW9uDQojc2F2ZShtMywgZmlsZSA9ICIzcHJvZmlsZV93MS5SRGF0YSIpDQpgYGANCg0KIyMjIyMjIDQgcHJvZmlsZXMNCg0KYGBge3IgY2xhc3Muc291cmNlID0gJ2ZvbGQtaGlkZSd9DQpsaWJyYXJ5KG1jbHVzdCkNCg0KQklDIDwtIG1jbHVzdEJJQyhzbXNfdzEgJT4lDQogICAgICAgICAgICAgICAgICAgc2VsZWN0KC1pZCkpIA0KbTQgPC0gTWNsdXN0KHNtc193MSAlPiUNCiAgICAgICAgICAgICAgIHNlbGVjdCgtaWQpLCBtb2RlbE5hbWVzID0gIlZFViIsIEcgPSA0LCB4ID0gQklDKQ0KDQojIEV4dHJhY3QgbWVhbiB3ZWlnaHRlZCBmYWN0b3Igc2NvcmVzDQpsaWJyYXJ5KHJlc2hhcGUyKQ0KbWVhbnMgPC0gZGF0YS5mcmFtZShtNCRwYXJhbWV0ZXJzJG1lYW4sDQogICAgICAgICAgICAgICAgICAgIHN0cmluZ3NBc0ZhY3RvcnMgPSBGKSAlPiUNCiAgcm93bmFtZXNfdG9fY29sdW1uKCkgJT4lDQogIHJlbmFtZShNb3RpdmF0aW9uID0gcm93bmFtZSkgJT4lDQogIG1lbHQoaWQudmFycyA9ICJNb3RpdmF0aW9uIiwgdmFyaWFibGUubmFtZSA9ICJQcm9maWxlIiwgdmFsdWUubmFtZSA9ICJNZWFuIikgJT4lDQogIG11dGF0ZShNZWFuID0gcm91bmQoTWVhbiwgMiksDQogICAgICAgICBNZWFuID0gaWZlbHNlKE1lYW4gPiAxLjUsIDEuNSwgTWVhbiksICN0cmltIHZhbHVlcyBncmVhdGVyIGV4Y2VlZGluZyArIDEuNQ0KICAgICAgICAgTWVhbiA9IGlmZWxzZShNZWFuIDwgLTEsIC0xLCBNZWFuKSkgICAjYW5kIC0xDQoNCiMgUGxvdCBzaG93aW5nIHRoZSBzdGFuZGFyZGl6ZWQgbWVhbnMNCnAgPC0gbWVhbnMgJT4lDQogIGdncGxvdChhZXMoTW90aXZhdGlvbiwgTWVhbiwgZ3JvdXAgPSBQcm9maWxlLCBjb2xvciA9IFByb2ZpbGUpKSArDQogIGdlb21fcG9pbnQoc2l6ZSA9IDMpICsgDQogIGdlb21fbGluZShzaXplID0gMS41KSArICBzY2FsZV94X2Rpc2NyZXRlKGxpbWl0cyA9IGMoImFtb3RpdmF0aW9uIiwgImV4dGVybmFsIiwgImludHJvamVjdGVkIiwgImlkZW50aWZpZWQiLCAiaW50ZWdyYXRlZCIsICJpbnRyaW5zaWMiKSkgKw0KICBsYWJzKHggPSBOVUxMLCB5ID0gIlN0YW5kYXJkaXplZCBtZWFuIHdlaWdodGVkIGZhY3Rvci1zY29yZXMiKSArDQogIHNjYWxlX2NvbG91cl9tYW51YWwodmFsdWVzPWMoIiNFNjlGMDAiLCAiIzU2QjRFOSIsICIjMDAwMDAwIiwgIiMwMDlFNzMiLCAiI0YwRTQ0MiIsICIjMDA3MkIyIikpICsNCiAgdGhlbWVfYncoYmFzZV9zaXplID0gMTQpICsNCiAgZ2VvbV9obGluZSh5aW50ZXJjZXB0ID0gMCwgbGluZXR5cGU9ImRhc2hlZCIpICsNCiAgdGhlbWUoYXhpcy50ZXh0LnggPSBlbGVtZW50X3RleHQoYW5nbGUgPSA0NSwgaGp1c3QgPSAxKSwgbGVnZW5kLnBvc2l0aW9uID0gInRvcCIpDQoNCnAgPC0gcCArIHNjYWxlX3lfY29udGludW91cyhsaW1pdHM9YygtMSwgMS41KSkgIyBmaXggc2NhbGUNCg0KcHJpbnQocCkNCg0KbGlicmFyeShmYWN0b2V4dHJhKQ0KIyBQbG90IHNob3dpbmcgdGhlIGNsdXN0ZXJpbmcNCmZ2aXpfbWNsdXN0KG00LCAiY2xhc3NpZmljYXRpb24iLCBnZW9tID0gInBvaW50IiwNCiAgICAgICAgICAgIHBvaW50c2l6ZSA9IDEuNSwgcGFsZXR0ZSA9ICJqY28iKQ0KDQojIFBsb3Qgc2hvd2luZyB0aGUgY2x1c3RlcmluZyB1bmNlcnRhaW50eQ0KZnZpel9tY2x1c3QobTQsICJ1bmNlcnRhaW50eSIsIHBhbGV0dGUgPSAiamNvIikNCmBgYA0KDQojIyMjIyMgNSBwcm9maWxlcw0KDQpgYGB7ciBjbGFzcy5zb3VyY2UgPSAnZm9sZC1oaWRlJ30NCmxpYnJhcnkobWNsdXN0KQ0KDQpCSUMgPC0gbWNsdXN0QklDKHNtc193MSAlPiUNCiAgICAgICAgICAgICAgICAgICBzZWxlY3QoLWlkKSkNCm01IDwtIE1jbHVzdChzbXNfdzEgJT4lDQogICAgICAgICAgICAgICBzZWxlY3QoLWlkKSwgbW9kZWxOYW1lcyA9ICJWRVYiLCBHID0gNSwgeCA9IEJJQykNCg0KIyBFeHRyYWN0IG1lYW4gd2VpZ2h0ZWQgZmFjdG9yIHNjb3Jlcw0KbGlicmFyeShyZXNoYXBlMikNCm1lYW5zIDwtIGRhdGEuZnJhbWUobTUkcGFyYW1ldGVycyRtZWFuLA0KICAgICAgICAgICAgICAgICAgICBzdHJpbmdzQXNGYWN0b3JzID0gRikgJT4lDQogIHJvd25hbWVzX3RvX2NvbHVtbigpICU+JQ0KICByZW5hbWUoTW90aXZhdGlvbiA9IHJvd25hbWUpICU+JQ0KICBtZWx0KGlkLnZhcnMgPSAiTW90aXZhdGlvbiIsIHZhcmlhYmxlLm5hbWUgPSAiUHJvZmlsZSIsIHZhbHVlLm5hbWUgPSAiTWVhbiIpICU+JQ0KICBtdXRhdGUoTWVhbiA9IHJvdW5kKE1lYW4sIDIpLA0KICAgICAgICAgTWVhbiA9IGlmZWxzZShNZWFuID4gMS41LCAxLjUsIE1lYW4pLCAjdHJpbSB2YWx1ZXMgZ3JlYXRlciBleGNlZWRpbmcgKyAxLjUNCiAgICAgICAgIE1lYW4gPSBpZmVsc2UoTWVhbiA8IC0xLCAtMSwgTWVhbikpICAgI2FuZCAtMQ0KDQojIFBsb3Qgc2hvd2luZyB0aGUgc3RhbmRhcmRpemVkIG1lYW5zDQpwIDwtIG1lYW5zICU+JQ0KICBnZ3Bsb3QoYWVzKE1vdGl2YXRpb24sIE1lYW4sIGdyb3VwID0gUHJvZmlsZSwgY29sb3IgPSBQcm9maWxlKSkgKw0KICBnZW9tX3BvaW50KHNpemUgPSAzKSArIA0KICBnZW9tX2xpbmUoc2l6ZSA9IDEuNSkgKyAgc2NhbGVfeF9kaXNjcmV0ZShsaW1pdHMgPSBjKCJhbW90aXZhdGlvbiIsICJleHRlcm5hbCIsICJpbnRyb2plY3RlZCIsICJpZGVudGlmaWVkIiwgImludGVncmF0ZWQiLCAiaW50cmluc2ljIikpICsNCiAgbGFicyh4ID0gTlVMTCwgeSA9ICJTdGFuZGFyZGl6ZWQgbWVhbiB3ZWlnaHRlZCBmYWN0b3Itc2NvcmVzIikgKw0KICBzY2FsZV9jb2xvdXJfbWFudWFsKHZhbHVlcz1jKCIjRTY5RjAwIiwgIiM1NkI0RTkiLCAiIzAwMDAwMCIsICIjMDA5RTczIiwgIiNGMEU0NDIiLCAiIzAwNzJCMiIpKSArDQogIHRoZW1lX2J3KGJhc2Vfc2l6ZSA9IDE0KSArDQogIGdlb21faGxpbmUoeWludGVyY2VwdCA9IDAsIGxpbmV0eXBlPSJkYXNoZWQiKSArDQogIHRoZW1lKGF4aXMudGV4dC54ID0gZWxlbWVudF90ZXh0KGFuZ2xlID0gNDUsIGhqdXN0ID0gMSksIGxlZ2VuZC5wb3NpdGlvbiA9ICJ0b3AiKQ0KDQpwIDwtIHAgKyBzY2FsZV95X2NvbnRpbnVvdXMobGltaXRzPWMoLTEsIDEuNSkpICMgZml4IHNjYWxlDQoNCnByaW50KHApDQoNCmxpYnJhcnkoZmFjdG9leHRyYSkNCiMgUGxvdCBzaG93aW5nIHRoZSBjbHVzdGVyaW5nDQpmdml6X21jbHVzdChtNSwgImNsYXNzaWZpY2F0aW9uIiwgZ2VvbSA9ICJwb2ludCIsDQogICAgICAgICAgICBwb2ludHNpemUgPSAxLjUsIHBhbGV0dGUgPSAiamNvIikNCg0KIyBQbG90IHNob3dpbmcgdGhlIGNsdXN0ZXJpbmcgdW5jZXJ0YWludHkNCmZ2aXpfbWNsdXN0KG01LCAidW5jZXJ0YWludHkiLCBwYWxldHRlID0gImpjbyIpDQpgYGANCg0KIyMjIyMjIDYgcHJvZmlsZXMNCg0KYGBge3IgY2xhc3Muc291cmNlID0gJ2ZvbGQtaGlkZSd9DQpsaWJyYXJ5KG1jbHVzdCkNCg0KQklDIDwtIG1jbHVzdEJJQyhzbXNfdzEgJT4lDQogICAgICAgICAgICAgICAgICAgc2VsZWN0KC1pZCkpDQptNiA8LSBNY2x1c3Qoc21zX3cxICU+JQ0KICAgICAgICAgICAgICAgc2VsZWN0KC1pZCksIG1vZGVsTmFtZXMgPSAiVkVWIiwgRyA9IDYsIHggPSBCSUMpDQoNCiMgRXh0cmFjdCBtZWFuIHdlaWdodGVkIGZhY3RvciBzY29yZXMNCmxpYnJhcnkocmVzaGFwZTIpDQptZWFucyA8LSBkYXRhLmZyYW1lKG02JHBhcmFtZXRlcnMkbWVhbiwNCiAgICAgICAgICAgICAgICAgICAgc3RyaW5nc0FzRmFjdG9ycyA9IEYpICU+JQ0KICByb3duYW1lc190b19jb2x1bW4oKSAlPiUNCiAgcmVuYW1lKE1vdGl2YXRpb24gPSByb3duYW1lKSAlPiUNCiAgbWVsdChpZC52YXJzID0gIk1vdGl2YXRpb24iLCB2YXJpYWJsZS5uYW1lID0gIlByb2ZpbGUiLCB2YWx1ZS5uYW1lID0gIk1lYW4iKSAlPiUNCiAgbXV0YXRlKE1lYW4gPSByb3VuZChNZWFuLCAyKSwNCiAgICAgICAgIE1lYW4gPSBpZmVsc2UoTWVhbiA+IDEuNSwgMS41LCBNZWFuKSwgI3RyaW0gdmFsdWVzIGdyZWF0ZXIgZXhjZWVkaW5nICsgMS41DQogICAgICAgICBNZWFuID0gaWZlbHNlKE1lYW4gPCAtMSwgLTEsIE1lYW4pKSAgICNhbmQgLTENCg0KIyBQbG90IHNob3dpbmcgdGhlIHN0YW5kYXJkaXplZCBtZWFucw0KcCA8LSBtZWFucyAlPiUNCiAgZ2dwbG90KGFlcyhNb3RpdmF0aW9uLCBNZWFuLCBncm91cCA9IFByb2ZpbGUsIGNvbG9yID0gUHJvZmlsZSkpICsNCiAgZ2VvbV9wb2ludChzaXplID0gMykgKyANCiAgZ2VvbV9saW5lKHNpemUgPSAxLjUpICsgIHNjYWxlX3hfZGlzY3JldGUobGltaXRzID0gYygiYW1vdGl2YXRpb24iLCAiZXh0ZXJuYWwiLCAiaW50cm9qZWN0ZWQiLCAiaWRlbnRpZmllZCIsICJpbnRlZ3JhdGVkIiwgImludHJpbnNpYyIpKSArDQogIGxhYnMoeCA9IE5VTEwsIHkgPSAiU3RhbmRhcmRpemVkIG1lYW4gd2VpZ2h0ZWQgZmFjdG9yLXNjb3JlcyIpICsNCiAgc2NhbGVfY29sb3VyX21hbnVhbCh2YWx1ZXM9YygiI0U2OUYwMCIsICIjNTZCNEU5IiwgIiMwMDAwMDAiLCAiIzAwOUU3MyIsICIjRjBFNDQyIiwgIiMwMDcyQjIiKSkgKw0KICB0aGVtZV9idyhiYXNlX3NpemUgPSAxNCkgKw0KICBnZW9tX2hsaW5lKHlpbnRlcmNlcHQgPSAwLCBsaW5ldHlwZT0iZGFzaGVkIikgKw0KICB0aGVtZShheGlzLnRleHQueCA9IGVsZW1lbnRfdGV4dChhbmdsZSA9IDQ1LCBoanVzdCA9IDEpLCBsZWdlbmQucG9zaXRpb24gPSAidG9wIikNCg0KcCA8LSBwICsgc2NhbGVfeV9jb250aW51b3VzKGxpbWl0cz1jKC0xLCAxLjUpKSAjIGZpeCBzY2FsZQ0KDQpwcmludChwKQ0KDQpsaWJyYXJ5KGZhY3RvZXh0cmEpDQojIFBsb3Qgc2hvd2luZyB0aGUgY2x1c3RlcmluZw0KZnZpel9tY2x1c3QobTYsICJjbGFzc2lmaWNhdGlvbiIsIGdlb20gPSAicG9pbnQiLA0KICAgICAgICAgICAgcG9pbnRzaXplID0gMS41LCBwYWxldHRlID0gImpjbyIpDQoNCiMgUGxvdCBzaG93aW5nIHRoZSBjbHVzdGVyaW5nIHVuY2VydGFpbnR5DQpmdml6X21jbHVzdChtNiwgInVuY2VydGFpbnR5IiwgcGFsZXR0ZSA9ICJqY28iKQ0KYGBgDQoNCiMjIyMgV2F2ZSAyDQoNCiMjIyMjIHsudGFic2V0IC50YWJzZXQtZmFkZX0NCg0KIyMjIyMjIDIgcHJvZmlsZXMNCg0KYGBge3IgY2xhc3Muc291cmNlID0gJ2ZvbGQtaGlkZSd9DQpsaWJyYXJ5KG1jbHVzdCkNCg0KQklDIDwtIG1jbHVzdEJJQyhzbXNfdzIgJT4lDQogICAgICAgICAgICAgICAgICAgc2VsZWN0KC1pZCkpIA0KbTIgPC0gTWNsdXN0KHNtc193MiAlPiUNCiAgICAgICAgICAgICAgIHNlbGVjdCgtaWQpLCBtb2RlbE5hbWVzID0gIlZFViIsIEcgPSAyLCB4ID0gQklDKQ0KDQojIEV4dHJhY3QgbWVhbiB3ZWlnaHRlZCBmYWN0b3Igc2NvcmVzDQpsaWJyYXJ5KHJlc2hhcGUyKQ0KbWVhbnMgPC0gZGF0YS5mcmFtZShtMiRwYXJhbWV0ZXJzJG1lYW4sDQogICAgICAgICAgICAgICAgICAgIHN0cmluZ3NBc0ZhY3RvcnMgPSBGKSAlPiUNCiAgcm93bmFtZXNfdG9fY29sdW1uKCkgJT4lDQogIHJlbmFtZShNb3RpdmF0aW9uID0gcm93bmFtZSkgJT4lDQogIG1lbHQoaWQudmFycyA9ICJNb3RpdmF0aW9uIiwgdmFyaWFibGUubmFtZSA9ICJQcm9maWxlIiwgdmFsdWUubmFtZSA9ICJNZWFuIikgJT4lDQogIG11dGF0ZShNZWFuID0gcm91bmQoTWVhbiwgMiksDQogICAgICAgICBNZWFuID0gaWZlbHNlKE1lYW4gPiAxLjUsIDEuNSwgTWVhbiksICN0cmltIHZhbHVlcyBncmVhdGVyIGV4Y2VlZGluZyArIDEuNQ0KICAgICAgICAgTWVhbiA9IGlmZWxzZShNZWFuIDwgLTEsIC0xLCBNZWFuKSkgICAjYW5kIC0xDQoNCiMgUGxvdCBzaG93aW5nIHRoZSBzdGFuZGFyZGl6ZWQgbWVhbnMNCnAgPC0gbWVhbnMgJT4lDQogIGdncGxvdChhZXMoTW90aXZhdGlvbiwgTWVhbiwgZ3JvdXAgPSBQcm9maWxlLCBjb2xvciA9IFByb2ZpbGUpKSArDQogIGdlb21fcG9pbnQoc2l6ZSA9IDMpICsgDQogIGdlb21fbGluZShzaXplID0gMS41KSArICBzY2FsZV94X2Rpc2NyZXRlKGxpbWl0cyA9IGMoImFtb3RpdmF0aW9uIiwgImV4dGVybmFsIiwgImludHJvamVjdGVkIiwgImlkZW50aWZpZWQiLCAiaW50ZWdyYXRlZCIsICJpbnRyaW5zaWMiKSkgKw0KICBsYWJzKHggPSBOVUxMLCB5ID0gIlN0YW5kYXJkaXplZCBtZWFuIHdlaWdodGVkIGZhY3Rvci1zY29yZXMiKSArDQogIHNjYWxlX2NvbG91cl9tYW51YWwodmFsdWVzPWMoIiNFNjlGMDAiLCAiIzU2QjRFOSIsICIjMDAwMDAwIiwgIiMwMDlFNzMiLCAiI0YwRTQ0MiIsICIjMDA3MkIyIikpICsNCiAgdGhlbWVfYncoYmFzZV9zaXplID0gMTQpICsNCiAgZ2VvbV9obGluZSh5aW50ZXJjZXB0ID0gMCwgbGluZXR5cGU9ImRhc2hlZCIpICsNCiAgdGhlbWUoYXhpcy50ZXh0LnggPSBlbGVtZW50X3RleHQoYW5nbGUgPSA0NSwgaGp1c3QgPSAxKSwgbGVnZW5kLnBvc2l0aW9uID0gInRvcCIpDQoNCnAgPC0gcCArIHNjYWxlX3lfY29udGludW91cyhsaW1pdHM9YygtMSwgMS41KSkgIyBmaXggc2NhbGUNCg0KcHJpbnQocCkNCg0KbGlicmFyeShmYWN0b2V4dHJhKQ0KIyBQbG90IHNob3dpbmcgdGhlIGNsdXN0ZXJpbmcNCmZ2aXpfbWNsdXN0KG0yLCAiY2xhc3NpZmljYXRpb24iLCBnZW9tID0gInBvaW50IiwNCiAgICAgICAgICAgIHBvaW50c2l6ZSA9IDEuNSwgcGFsZXR0ZSA9ICJqY28iKQ0KDQojIFBsb3Qgc2hvd2luZyB0aGUgY2x1c3RlcmluZyB1bmNlcnRhaW50eQ0KZnZpel9tY2x1c3QobTIsICJ1bmNlcnRhaW50eSIsIHBhbGV0dGUgPSAiamNvIikNCmBgYA0KDQojIyMjIyMgMyBwcm9maWxlcw0KDQpgYGB7ciBjbGFzcy5zb3VyY2UgPSAnZm9sZC1oaWRlJ30NCmxpYnJhcnkobWNsdXN0KQ0KDQpCSUMgPC0gbWNsdXN0QklDKHNtc193MiAlPiUNCiAgICAgICAgICAgICAgICAgICBzZWxlY3QoLWlkKSkgDQptMyA8LSBNY2x1c3Qoc21zX3cyICU+JQ0KICAgICAgICAgICAgICAgc2VsZWN0KC1pZCksIG1vZGVsTmFtZXMgPSAiVkVWIiwgRyA9IDMsIHggPSBCSUMpDQoNCiMgRXh0cmFjdCBtZWFuIHdlaWdodGVkIGZhY3RvciBzY29yZXMNCmxpYnJhcnkocmVzaGFwZTIpDQptZWFucyA8LSBkYXRhLmZyYW1lKG0zJHBhcmFtZXRlcnMkbWVhbiwNCiAgICAgICAgICAgICAgICAgICAgc3RyaW5nc0FzRmFjdG9ycyA9IEYpICU+JQ0KICByb3duYW1lc190b19jb2x1bW4oKSAlPiUNCiAgcmVuYW1lKE1vdGl2YXRpb24gPSByb3duYW1lKSAlPiUNCiAgbWVsdChpZC52YXJzID0gIk1vdGl2YXRpb24iLCB2YXJpYWJsZS5uYW1lID0gIlByb2ZpbGUiLCB2YWx1ZS5uYW1lID0gIk1lYW4iKSAlPiUNCiAgbXV0YXRlKE1lYW4gPSByb3VuZChNZWFuLCAyKSwNCiAgICAgICAgIE1lYW4gPSBpZmVsc2UoTWVhbiA+IDEuNSwgMS41LCBNZWFuKSwgI3RyaW0gdmFsdWVzIGdyZWF0ZXIgZXhjZWVkaW5nICsgMS41DQogICAgICAgICBNZWFuID0gaWZlbHNlKE1lYW4gPCAtMSwgLTEsIE1lYW4pKSAgICNhbmQgLTENCg0KIyBQbG90IHNob3dpbmcgdGhlIHN0YW5kYXJkaXplZCBtZWFucw0KcCA8LSBtZWFucyAlPiUNCiAgZ2dwbG90KGFlcyhNb3RpdmF0aW9uLCBNZWFuLCBncm91cCA9IFByb2ZpbGUsIGNvbG9yID0gUHJvZmlsZSkpICsNCiAgZ2VvbV9wb2ludChzaXplID0gMykgKyANCiAgZ2VvbV9saW5lKHNpemUgPSAxLjUpICsgIHNjYWxlX3hfZGlzY3JldGUobGltaXRzID0gYygiYW1vdGl2YXRpb24iLCAiZXh0ZXJuYWwiLCAiaW50cm9qZWN0ZWQiLCAiaWRlbnRpZmllZCIsICJpbnRlZ3JhdGVkIiwgImludHJpbnNpYyIpKSArDQogIGxhYnMoeCA9IE5VTEwsIHkgPSAiU3RhbmRhcmRpemVkIG1lYW4gd2VpZ2h0ZWQgZmFjdG9yLXNjb3JlcyIpICsNCiAgc2NhbGVfY29sb3VyX21hbnVhbCh2YWx1ZXM9YygiI0U2OUYwMCIsICIjNTZCNEU5IiwgIiMwMDAwMDAiLCAiIzAwOUU3MyIsICIjRjBFNDQyIiwgIiMwMDcyQjIiKSkgKw0KICB0aGVtZV9idyhiYXNlX3NpemUgPSAxNCkgKw0KICBnZW9tX2hsaW5lKHlpbnRlcmNlcHQgPSAwLCBsaW5ldHlwZT0iZGFzaGVkIikgKw0KICB0aGVtZShheGlzLnRleHQueCA9IGVsZW1lbnRfdGV4dChhbmdsZSA9IDQ1LCBoanVzdCA9IDEpLCBsZWdlbmQucG9zaXRpb24gPSAidG9wIikNCg0KcCA8LSBwICsgc2NhbGVfeV9jb250aW51b3VzKGxpbWl0cz1jKC0xLCAxLjUpKSAjIGZpeCBzY2FsZQ0KDQpwcmludChwKQ0KDQpsaWJyYXJ5KGZhY3RvZXh0cmEpDQojIFBsb3Qgc2hvd2luZyB0aGUgY2x1c3RlcmluZw0KZnZpel9tY2x1c3QobTMsICJjbGFzc2lmaWNhdGlvbiIsIGdlb20gPSAicG9pbnQiLA0KICAgICAgICAgICAgcG9pbnRzaXplID0gMS41LCBwYWxldHRlID0gImpjbyIpDQoNCiMgUGxvdCBzaG93aW5nIHRoZSBjbHVzdGVyaW5nIHVuY2VydGFpbnR5DQpmdml6X21jbHVzdChtMywgInVuY2VydGFpbnR5IiwgcGFsZXR0ZSA9ICJqY28iKQ0KDQojIHNhdmUgc29sdXRpb24NCiNzYXZlKG0zLCBmaWxlID0gIjNwcm9maWxlX3cyLlJEYXRhIikNCmBgYA0KDQojIyMjIyMgNCBwcm9maWxlcw0KDQpgYGB7ciBjbGFzcy5zb3VyY2UgPSAnZm9sZC1oaWRlJ30NCmxpYnJhcnkobWNsdXN0KQ0KDQpCSUMgPC0gbWNsdXN0QklDKHNtc193MiAlPiUNCiAgICAgICAgICAgICAgICAgICBzZWxlY3QoLWlkKSkNCm00IDwtIE1jbHVzdChzbXNfdzIgJT4lDQogICAgICAgICAgICAgICBzZWxlY3QoLWlkKSwgbW9kZWxOYW1lcyA9ICJWRVYiLCBHID0gNCwgeCA9IEJJQykNCg0KIyBFeHRyYWN0IG1lYW4gd2VpZ2h0ZWQgZmFjdG9yIHNjb3Jlcw0KbGlicmFyeShyZXNoYXBlMikNCm1lYW5zIDwtIGRhdGEuZnJhbWUobTQkcGFyYW1ldGVycyRtZWFuLA0KICAgICAgICAgICAgICAgICAgICBzdHJpbmdzQXNGYWN0b3JzID0gRikgJT4lDQogIHJvd25hbWVzX3RvX2NvbHVtbigpICU+JQ0KICByZW5hbWUoTW90aXZhdGlvbiA9IHJvd25hbWUpICU+JQ0KICBtZWx0KGlkLnZhcnMgPSAiTW90aXZhdGlvbiIsIHZhcmlhYmxlLm5hbWUgPSAiUHJvZmlsZSIsIHZhbHVlLm5hbWUgPSAiTWVhbiIpICU+JQ0KICBtdXRhdGUoTWVhbiA9IHJvdW5kKE1lYW4sIDIpLA0KICAgICAgICAgTWVhbiA9IGlmZWxzZShNZWFuID4gMS41LCAxLjUsIE1lYW4pLCAjdHJpbSB2YWx1ZXMgZ3JlYXRlciBleGNlZWRpbmcgKyAxLjUNCiAgICAgICAgIE1lYW4gPSBpZmVsc2UoTWVhbiA8IC0xLCAtMSwgTWVhbikpICAgI2FuZCAtMQ0KDQojIFBsb3Qgc2hvd2luZyB0aGUgc3RhbmRhcmRpemVkIG1lYW5zDQpwIDwtIG1lYW5zICU+JQ0KICBnZ3Bsb3QoYWVzKE1vdGl2YXRpb24sIE1lYW4sIGdyb3VwID0gUHJvZmlsZSwgY29sb3IgPSBQcm9maWxlKSkgKw0KICBnZW9tX3BvaW50KHNpemUgPSAzKSArIA0KICBnZW9tX2xpbmUoc2l6ZSA9IDEuNSkgKyAgc2NhbGVfeF9kaXNjcmV0ZShsaW1pdHMgPSBjKCJhbW90aXZhdGlvbiIsICJleHRlcm5hbCIsICJpbnRyb2plY3RlZCIsICJpZGVudGlmaWVkIiwgImludGVncmF0ZWQiLCAiaW50cmluc2ljIikpICsNCiAgbGFicyh4ID0gTlVMTCwgeSA9ICJTdGFuZGFyZGl6ZWQgbWVhbiB3ZWlnaHRlZCBmYWN0b3Itc2NvcmVzIikgKw0KICBzY2FsZV9jb2xvdXJfbWFudWFsKHZhbHVlcz1jKCIjRTY5RjAwIiwgIiM1NkI0RTkiLCAiIzAwMDAwMCIsICIjMDA5RTczIiwgIiNGMEU0NDIiLCAiIzAwNzJCMiIpKSArDQogIHRoZW1lX2J3KGJhc2Vfc2l6ZSA9IDE0KSArDQogIGdlb21faGxpbmUoeWludGVyY2VwdCA9IDAsIGxpbmV0eXBlPSJkYXNoZWQiKSArDQogIHRoZW1lKGF4aXMudGV4dC54ID0gZWxlbWVudF90ZXh0KGFuZ2xlID0gNDUsIGhqdXN0ID0gMSksIGxlZ2VuZC5wb3NpdGlvbiA9ICJ0b3AiKQ0KDQpwIDwtIHAgKyBzY2FsZV95X2NvbnRpbnVvdXMobGltaXRzPWMoLTEsIDEuNSkpICMgZml4IHNjYWxlDQoNCnByaW50KHApDQoNCmxpYnJhcnkoZmFjdG9leHRyYSkNCiMgUGxvdCBzaG93aW5nIHRoZSBjbHVzdGVyaW5nDQpmdml6X21jbHVzdChtNCwgImNsYXNzaWZpY2F0aW9uIiwgZ2VvbSA9ICJwb2ludCIsDQogICAgICAgICAgICBwb2ludHNpemUgPSAxLjUsIHBhbGV0dGUgPSAiamNvIikNCg0KIyBQbG90IHNob3dpbmcgdGhlIGNsdXN0ZXJpbmcgdW5jZXJ0YWludHkNCmZ2aXpfbWNsdXN0KG00LCAidW5jZXJ0YWludHkiLCBwYWxldHRlID0gImpjbyIpDQpgYGANCg0KIyMjIyMjIDUgcHJvZmlsZXMNCg0KYGBge3IgY2xhc3Muc291cmNlID0gJ2ZvbGQtaGlkZSd9DQpsaWJyYXJ5KG1jbHVzdCkNCg0KQklDIDwtIG1jbHVzdEJJQyhzbXNfdzIgJT4lDQogICAgICAgICAgICAgICAgICAgc2VsZWN0KC1pZCkpDQptNSA8LSBNY2x1c3Qoc21zX3cyICU+JQ0KICAgICAgICAgICAgICAgc2VsZWN0KC1pZCksIG1vZGVsTmFtZXMgPSAiVkVWIiwgRyA9IDUsIHggPSBCSUMpDQoNCiMgRXh0cmFjdCBtZWFuIHdlaWdodGVkIGZhY3RvciBzY29yZXMNCmxpYnJhcnkocmVzaGFwZTIpDQptZWFucyA8LSBkYXRhLmZyYW1lKG01JHBhcmFtZXRlcnMkbWVhbiwNCiAgICAgICAgICAgICAgICAgICAgc3RyaW5nc0FzRmFjdG9ycyA9IEYpICU+JQ0KICByb3duYW1lc190b19jb2x1bW4oKSAlPiUNCiAgcmVuYW1lKE1vdGl2YXRpb24gPSByb3duYW1lKSAlPiUNCiAgbWVsdChpZC52YXJzID0gIk1vdGl2YXRpb24iLCB2YXJpYWJsZS5uYW1lID0gIlByb2ZpbGUiLCB2YWx1ZS5uYW1lID0gIk1lYW4iKSAlPiUNCiAgbXV0YXRlKE1lYW4gPSByb3VuZChNZWFuLCAyKSwNCiAgICAgICAgIE1lYW4gPSBpZmVsc2UoTWVhbiA+IDEuNSwgMS41LCBNZWFuKSwgI3RyaW0gdmFsdWVzIGdyZWF0ZXIgZXhjZWVkaW5nICsgMS41DQogICAgICAgICBNZWFuID0gaWZlbHNlKE1lYW4gPCAtMSwgLTEsIE1lYW4pKSAgICNhbmQgLTENCg0KIyBQbG90IHNob3dpbmcgdGhlIHN0YW5kYXJkaXplZCBtZWFucw0KcCA8LSBtZWFucyAlPiUNCiAgZ2dwbG90KGFlcyhNb3RpdmF0aW9uLCBNZWFuLCBncm91cCA9IFByb2ZpbGUsIGNvbG9yID0gUHJvZmlsZSkpICsNCiAgZ2VvbV9wb2ludChzaXplID0gMykgKyANCiAgZ2VvbV9saW5lKHNpemUgPSAxLjUpICsgIHNjYWxlX3hfZGlzY3JldGUobGltaXRzID0gYygiYW1vdGl2YXRpb24iLCAiZXh0ZXJuYWwiLCAiaW50cm9qZWN0ZWQiLCAiaWRlbnRpZmllZCIsICJpbnRlZ3JhdGVkIiwgImludHJpbnNpYyIpKSArDQogIGxhYnMoeCA9IE5VTEwsIHkgPSAiU3RhbmRhcmRpemVkIG1lYW4gd2VpZ2h0ZWQgZmFjdG9yLXNjb3JlcyIpICsNCiAgc2NhbGVfY29sb3VyX21hbnVhbCh2YWx1ZXM9YygiI0U2OUYwMCIsICIjNTZCNEU5IiwgIiMwMDAwMDAiLCAiIzAwOUU3MyIsICIjRjBFNDQyIiwgIiMwMDcyQjIiKSkgKw0KICB0aGVtZV9idyhiYXNlX3NpemUgPSAxNCkgKw0KICBnZW9tX2hsaW5lKHlpbnRlcmNlcHQgPSAwLCBsaW5ldHlwZT0iZGFzaGVkIikgKw0KICB0aGVtZShheGlzLnRleHQueCA9IGVsZW1lbnRfdGV4dChhbmdsZSA9IDQ1LCBoanVzdCA9IDEpLCBsZWdlbmQucG9zaXRpb24gPSAidG9wIikNCg0KcCA8LSBwICsgc2NhbGVfeV9jb250aW51b3VzKGxpbWl0cz1jKC0xLCAxLjUpKSAjIGZpeCBzY2FsZQ0KDQpwcmludChwKQ0KDQpsaWJyYXJ5KGZhY3RvZXh0cmEpDQojIFBsb3Qgc2hvd2luZyB0aGUgY2x1c3RlcmluZw0KZnZpel9tY2x1c3QobTUsICJjbGFzc2lmaWNhdGlvbiIsIGdlb20gPSAicG9pbnQiLA0KICAgICAgICAgICAgcG9pbnRzaXplID0gMS41LCBwYWxldHRlID0gImpjbyIpDQoNCiMgUGxvdCBzaG93aW5nIHRoZSBjbHVzdGVyaW5nIHVuY2VydGFpbnR5DQpmdml6X21jbHVzdChtNSwgInVuY2VydGFpbnR5IiwgcGFsZXR0ZSA9ICJqY28iKQ0KYGBgDQoNCiMjIyMjIyA2IHByb2ZpbGVzDQoNCmBgYHtyIGNsYXNzLnNvdXJjZSA9ICdmb2xkLWhpZGUnfQ0KbGlicmFyeShtY2x1c3QpDQoNCkJJQyA8LSBtY2x1c3RCSUMoc21zX3cyICU+JQ0KICAgICAgICAgICAgICAgICAgIHNlbGVjdCgtaWQpKQ0KbTYgPC0gTWNsdXN0KHNtc193MiAlPiUNCiAgICAgICAgICAgICAgIHNlbGVjdCgtaWQpLCBtb2RlbE5hbWVzID0gIlZFViIsIEcgPSA2LCB4ID0gQklDKQ0KDQojIEV4dHJhY3QgbWVhbiB3ZWlnaHRlZCBmYWN0b3Igc2NvcmVzDQpsaWJyYXJ5KHJlc2hhcGUyKQ0KbWVhbnMgPC0gZGF0YS5mcmFtZShtNiRwYXJhbWV0ZXJzJG1lYW4sDQogICAgICAgICAgICAgICAgICAgIHN0cmluZ3NBc0ZhY3RvcnMgPSBGKSAlPiUNCiAgcm93bmFtZXNfdG9fY29sdW1uKCkgJT4lDQogIHJlbmFtZShNb3RpdmF0aW9uID0gcm93bmFtZSkgJT4lDQogIG1lbHQoaWQudmFycyA9ICJNb3RpdmF0aW9uIiwgdmFyaWFibGUubmFtZSA9ICJQcm9maWxlIiwgdmFsdWUubmFtZSA9ICJNZWFuIikgJT4lDQogIG11dGF0ZShNZWFuID0gcm91bmQoTWVhbiwgMiksDQogICAgICAgICBNZWFuID0gaWZlbHNlKE1lYW4gPiAxLjUsIDEuNSwgTWVhbiksICN0cmltIHZhbHVlcyBncmVhdGVyIGV4Y2VlZGluZyArIDEuNQ0KICAgICAgICAgTWVhbiA9IGlmZWxzZShNZWFuIDwgLTEsIC0xLCBNZWFuKSkgICAjYW5kIC0xDQoNCiMgUGxvdCBzaG93aW5nIHRoZSBzdGFuZGFyZGl6ZWQgbWVhbnMNCnAgPC0gbWVhbnMgJT4lDQogIGdncGxvdChhZXMoTW90aXZhdGlvbiwgTWVhbiwgZ3JvdXAgPSBQcm9maWxlLCBjb2xvciA9IFByb2ZpbGUpKSArDQogIGdlb21fcG9pbnQoc2l6ZSA9IDMpICsgDQogIGdlb21fbGluZShzaXplID0gMS41KSArICBzY2FsZV94X2Rpc2NyZXRlKGxpbWl0cyA9IGMoImFtb3RpdmF0aW9uIiwgImV4dGVybmFsIiwgImludHJvamVjdGVkIiwgImlkZW50aWZpZWQiLCAiaW50ZWdyYXRlZCIsICJpbnRyaW5zaWMiKSkgKw0KICBsYWJzKHggPSBOVUxMLCB5ID0gIlN0YW5kYXJkaXplZCBtZWFuIHdlaWdodGVkIGZhY3Rvci1zY29yZXMiKSArDQogIHNjYWxlX2NvbG91cl9tYW51YWwodmFsdWVzPWMoIiNFNjlGMDAiLCAiIzU2QjRFOSIsICIjMDAwMDAwIiwgIiMwMDlFNzMiLCAiI0YwRTQ0MiIsICIjMDA3MkIyIikpICsNCiAgdGhlbWVfYncoYmFzZV9zaXplID0gMTQpICsNCiAgZ2VvbV9obGluZSh5aW50ZXJjZXB0ID0gMCwgbGluZXR5cGU9ImRhc2hlZCIpICsNCiAgdGhlbWUoYXhpcy50ZXh0LnggPSBlbGVtZW50X3RleHQoYW5nbGUgPSA0NSwgaGp1c3QgPSAxKSwgbGVnZW5kLnBvc2l0aW9uID0gInRvcCIpDQoNCnAgPC0gcCArIHNjYWxlX3lfY29udGludW91cyhsaW1pdHM9YygtMSwgMS41KSkgIyBmaXggc2NhbGUNCg0KcHJpbnQocCkNCg0KbGlicmFyeShmYWN0b2V4dHJhKQ0KIyBQbG90IHNob3dpbmcgdGhlIGNsdXN0ZXJpbmcNCmZ2aXpfbWNsdXN0KG02LCAiY2xhc3NpZmljYXRpb24iLCBnZW9tID0gInBvaW50IiwNCiAgICAgICAgICAgIHBvaW50c2l6ZSA9IDEuNSwgcGFsZXR0ZSA9ICJqY28iKQ0KDQojIFBsb3Qgc2hvd2luZyB0aGUgY2x1c3RlcmluZyB1bmNlcnRhaW50eQ0KZnZpel9tY2x1c3QobTYsICJ1bmNlcnRhaW50eSIsIHBhbGV0dGUgPSAiamNvIikNCmBgYA0KDQojIyMjIFdhdmUgMw0KDQojIyMjIyB7LnRhYnNldCAudGFic2V0LWZhZGV9DQoNCiMjIyMjIyAyIHByb2ZpbGVzDQoNCmBgYHtyIGNsYXNzLnNvdXJjZSA9ICdmb2xkLWhpZGUnfQ0KbGlicmFyeShtY2x1c3QpDQoNCkJJQyA8LSBtY2x1c3RCSUMoc21zX3czICU+JQ0KICAgICAgICAgICAgICAgICAgIHNlbGVjdCgtaWQpKSANCm0yIDwtIE1jbHVzdChzbXNfdzMgJT4lDQogICAgICAgICAgICAgICBzZWxlY3QoLWlkKSwgbW9kZWxOYW1lcyA9ICJWRVYiLCBHID0gMiwgeCA9IEJJQykNCg0KIyBFeHRyYWN0IG1lYW4gd2VpZ2h0ZWQgZmFjdG9yIHNjb3Jlcw0KbGlicmFyeShyZXNoYXBlMikNCm1lYW5zIDwtIGRhdGEuZnJhbWUobTIkcGFyYW1ldGVycyRtZWFuLA0KICAgICAgICAgICAgICAgICAgICBzdHJpbmdzQXNGYWN0b3JzID0gRikgJT4lDQogIHJvd25hbWVzX3RvX2NvbHVtbigpICU+JQ0KICByZW5hbWUoTW90aXZhdGlvbiA9IHJvd25hbWUpICU+JQ0KICBtZWx0KGlkLnZhcnMgPSAiTW90aXZhdGlvbiIsIHZhcmlhYmxlLm5hbWUgPSAiUHJvZmlsZSIsIHZhbHVlLm5hbWUgPSAiTWVhbiIpICU+JQ0KICBtdXRhdGUoTWVhbiA9IHJvdW5kKE1lYW4sIDIpLA0KICAgICAgICAgTWVhbiA9IGlmZWxzZShNZWFuID4gMS41LCAxLjUsIE1lYW4pLCAjdHJpbSB2YWx1ZXMgZ3JlYXRlciBleGNlZWRpbmcgKyAxLjUNCiAgICAgICAgIE1lYW4gPSBpZmVsc2UoTWVhbiA8IC0xLCAtMSwgTWVhbikpICAgI2FuZCAtMQ0KDQojIFBsb3Qgc2hvd2luZyB0aGUgc3RhbmRhcmRpemVkIG1lYW5zDQpwIDwtIG1lYW5zICU+JQ0KICBnZ3Bsb3QoYWVzKE1vdGl2YXRpb24sIE1lYW4sIGdyb3VwID0gUHJvZmlsZSwgY29sb3IgPSBQcm9maWxlKSkgKw0KICBnZW9tX3BvaW50KHNpemUgPSAzKSArIA0KICBnZW9tX2xpbmUoc2l6ZSA9IDEuNSkgKyAgc2NhbGVfeF9kaXNjcmV0ZShsaW1pdHMgPSBjKCJhbW90aXZhdGlvbiIsICJleHRlcm5hbCIsICJpbnRyb2plY3RlZCIsICJpZGVudGlmaWVkIiwgImludGVncmF0ZWQiLCAiaW50cmluc2ljIikpICsNCiAgbGFicyh4ID0gTlVMTCwgeSA9ICJTdGFuZGFyZGl6ZWQgbWVhbiB3ZWlnaHRlZCBmYWN0b3Itc2NvcmVzIikgKw0KICBzY2FsZV9jb2xvdXJfbWFudWFsKHZhbHVlcz1jKCIjRTY5RjAwIiwgIiM1NkI0RTkiLCAiIzAwMDAwMCIsICIjMDA5RTczIiwgIiNGMEU0NDIiLCAiIzAwNzJCMiIpKSArDQogIHRoZW1lX2J3KGJhc2Vfc2l6ZSA9IDE0KSArDQogIGdlb21faGxpbmUoeWludGVyY2VwdCA9IDAsIGxpbmV0eXBlPSJkYXNoZWQiKSArDQogIHRoZW1lKGF4aXMudGV4dC54ID0gZWxlbWVudF90ZXh0KGFuZ2xlID0gNDUsIGhqdXN0ID0gMSksIGxlZ2VuZC5wb3NpdGlvbiA9ICJ0b3AiKQ0KDQpwIDwtIHAgKyBzY2FsZV95X2NvbnRpbnVvdXMobGltaXRzPWMoLTEsIDEuNSkpICMgZml4IHNjYWxlDQoNCnByaW50KHApDQoNCmxpYnJhcnkoZmFjdG9leHRyYSkNCiMgUGxvdCBzaG93aW5nIHRoZSBjbHVzdGVyaW5nDQpmdml6X21jbHVzdChtMiwgImNsYXNzaWZpY2F0aW9uIiwgZ2VvbSA9ICJwb2ludCIsDQogICAgICAgICAgICBwb2ludHNpemUgPSAxLjUsIHBhbGV0dGUgPSAiamNvIikNCg0KIyBQbG90IHNob3dpbmcgdGhlIGNsdXN0ZXJpbmcgdW5jZXJ0YWludHkNCmZ2aXpfbWNsdXN0KG0yLCAidW5jZXJ0YWludHkiLCBwYWxldHRlID0gImpjbyIpDQpgYGANCg0KIyMjIyMjIDMgcHJvZmlsZXMNCg0KYGBge3IgY2xhc3Muc291cmNlID0gJ2ZvbGQtaGlkZSd9DQpsaWJyYXJ5KG1jbHVzdCkNCg0KQklDIDwtIG1jbHVzdEJJQyhzbXNfdzMgJT4lDQogICAgICAgICAgICAgICAgICAgc2VsZWN0KC1pZCkpDQptMyA8LSBNY2x1c3Qoc21zX3czICU+JQ0KICAgICAgICAgICAgICAgc2VsZWN0KC1pZCksIG1vZGVsTmFtZXMgPSAiVkVWIiwgRyA9IDMsIHggPSBCSUMpDQoNCiMgRXh0cmFjdCBtZWFuIHdlaWdodGVkIGZhY3RvciBzY29yZXMNCmxpYnJhcnkocmVzaGFwZTIpDQptZWFucyA8LSBkYXRhLmZyYW1lKG0zJHBhcmFtZXRlcnMkbWVhbiwNCiAgICAgICAgICAgICAgICAgICAgc3RyaW5nc0FzRmFjdG9ycyA9IEYpICU+JQ0KICByb3duYW1lc190b19jb2x1bW4oKSAlPiUNCiAgcmVuYW1lKE1vdGl2YXRpb24gPSByb3duYW1lKSAlPiUNCiAgbWVsdChpZC52YXJzID0gIk1vdGl2YXRpb24iLCB2YXJpYWJsZS5uYW1lID0gIlByb2ZpbGUiLCB2YWx1ZS5uYW1lID0gIk1lYW4iKSAlPiUNCiAgbXV0YXRlKE1lYW4gPSByb3VuZChNZWFuLCAyKSwNCiAgICAgICAgIE1lYW4gPSBpZmVsc2UoTWVhbiA+IDEuNSwgMS41LCBNZWFuKSwgI3RyaW0gdmFsdWVzIGdyZWF0ZXIgZXhjZWVkaW5nICsgMS41DQogICAgICAgICBNZWFuID0gaWZlbHNlKE1lYW4gPCAtMSwgLTEsIE1lYW4pKSAgICNhbmQgLTENCg0KIyBQbG90IHNob3dpbmcgdGhlIHN0YW5kYXJkaXplZCBtZWFucw0KcCA8LSBtZWFucyAlPiUNCiAgZ2dwbG90KGFlcyhNb3RpdmF0aW9uLCBNZWFuLCBncm91cCA9IFByb2ZpbGUsIGNvbG9yID0gUHJvZmlsZSkpICsNCiAgZ2VvbV9wb2ludChzaXplID0gMykgKyANCiAgZ2VvbV9saW5lKHNpemUgPSAxLjUpICsgIHNjYWxlX3hfZGlzY3JldGUobGltaXRzID0gYygiYW1vdGl2YXRpb24iLCAiZXh0ZXJuYWwiLCAiaW50cm9qZWN0ZWQiLCAiaWRlbnRpZmllZCIsICJpbnRlZ3JhdGVkIiwgImludHJpbnNpYyIpKSArDQogIGxhYnMoeCA9IE5VTEwsIHkgPSAiU3RhbmRhcmRpemVkIG1lYW4gd2VpZ2h0ZWQgZmFjdG9yLXNjb3JlcyIpICsNCiAgc2NhbGVfY29sb3VyX21hbnVhbCh2YWx1ZXM9YygiI0U2OUYwMCIsICIjNTZCNEU5IiwgIiMwMDAwMDAiLCAiIzAwOUU3MyIsICIjRjBFNDQyIiwgIiMwMDcyQjIiKSkgKw0KICB0aGVtZV9idyhiYXNlX3NpemUgPSAxNCkgKw0KICBnZW9tX2hsaW5lKHlpbnRlcmNlcHQgPSAwLCBsaW5ldHlwZT0iZGFzaGVkIikgKw0KICB0aGVtZShheGlzLnRleHQueCA9IGVsZW1lbnRfdGV4dChhbmdsZSA9IDQ1LCBoanVzdCA9IDEpLCBsZWdlbmQucG9zaXRpb24gPSAidG9wIikNCg0KcCA8LSBwICsgc2NhbGVfeV9jb250aW51b3VzKGxpbWl0cz1jKC0xLCAxLjUpKSAjIGZpeCBzY2FsZQ0KDQpwcmludChwKQ0KDQpsaWJyYXJ5KGZhY3RvZXh0cmEpDQojIFBsb3Qgc2hvd2luZyB0aGUgY2x1c3RlcmluZw0KZnZpel9tY2x1c3QobTMsICJjbGFzc2lmaWNhdGlvbiIsIGdlb20gPSAicG9pbnQiLA0KICAgICAgICAgICAgcG9pbnRzaXplID0gMS41LCBwYWxldHRlID0gImpjbyIpDQoNCiMgUGxvdCBzaG93aW5nIHRoZSBjbHVzdGVyaW5nIHVuY2VydGFpbnR5DQpmdml6X21jbHVzdChtMywgInVuY2VydGFpbnR5IiwgcGFsZXR0ZSA9ICJqY28iKQ0KDQojIHNhdmUgc29sdXRpb24NCiNzYXZlKG0zLCBmaWxlID0gIjNwcm9maWxlX3czLlJEYXRhIikNCmBgYA0KDQojIyMjIyMgNCBwcm9maWxlcw0KDQpgYGB7ciBjbGFzcy5zb3VyY2UgPSAnZm9sZC1oaWRlJ30NCmxpYnJhcnkobWNsdXN0KQ0KDQpCSUMgPC0gbWNsdXN0QklDKHNtc193MyAlPiUNCiAgICAgICAgICAgICAgICAgICBzZWxlY3QoLWlkKSkgDQptNCA8LSBNY2x1c3Qoc21zX3czICU+JQ0KICAgICAgICAgICAgICAgc2VsZWN0KC1pZCksIG1vZGVsTmFtZXMgPSAiVkVWIiwgRyA9IDQsIHggPSBCSUMpDQoNCiMgRXh0cmFjdCBtZWFuIHdlaWdodGVkIGZhY3RvciBzY29yZXMNCmxpYnJhcnkocmVzaGFwZTIpDQptZWFucyA8LSBkYXRhLmZyYW1lKG00JHBhcmFtZXRlcnMkbWVhbiwNCiAgICAgICAgICAgICAgICAgICAgc3RyaW5nc0FzRmFjdG9ycyA9IEYpICU+JQ0KICByb3duYW1lc190b19jb2x1bW4oKSAlPiUNCiAgcmVuYW1lKE1vdGl2YXRpb24gPSByb3duYW1lKSAlPiUNCiAgbWVsdChpZC52YXJzID0gIk1vdGl2YXRpb24iLCB2YXJpYWJsZS5uYW1lID0gIlByb2ZpbGUiLCB2YWx1ZS5uYW1lID0gIk1lYW4iKSAlPiUNCiAgbXV0YXRlKE1lYW4gPSByb3VuZChNZWFuLCAyKSwNCiAgICAgICAgIE1lYW4gPSBpZmVsc2UoTWVhbiA+IDEuNSwgMS41LCBNZWFuKSwgI3RyaW0gdmFsdWVzIGdyZWF0ZXIgZXhjZWVkaW5nICsgMS41DQogICAgICAgICBNZWFuID0gaWZlbHNlKE1lYW4gPCAtMSwgLTEsIE1lYW4pKSAgICNhbmQgLTENCg0KIyBQbG90IHNob3dpbmcgdGhlIHN0YW5kYXJkaXplZCBtZWFucw0KcCA8LSBtZWFucyAlPiUNCiAgZ2dwbG90KGFlcyhNb3RpdmF0aW9uLCBNZWFuLCBncm91cCA9IFByb2ZpbGUsIGNvbG9yID0gUHJvZmlsZSkpICsNCiAgZ2VvbV9wb2ludChzaXplID0gMykgKyANCiAgZ2VvbV9saW5lKHNpemUgPSAxLjUpICsgIHNjYWxlX3hfZGlzY3JldGUobGltaXRzID0gYygiYW1vdGl2YXRpb24iLCAiZXh0ZXJuYWwiLCAiaW50cm9qZWN0ZWQiLCAiaWRlbnRpZmllZCIsICJpbnRlZ3JhdGVkIiwgImludHJpbnNpYyIpKSArDQogIGxhYnMoeCA9IE5VTEwsIHkgPSAiU3RhbmRhcmRpemVkIG1lYW4gd2VpZ2h0ZWQgZmFjdG9yLXNjb3JlcyIpICsNCiAgc2NhbGVfY29sb3VyX21hbnVhbCh2YWx1ZXM9YygiI0U2OUYwMCIsICIjNTZCNEU5IiwgIiMwMDAwMDAiLCAiIzAwOUU3MyIsICIjRjBFNDQyIiwgIiMwMDcyQjIiKSkgKw0KICB0aGVtZV9idyhiYXNlX3NpemUgPSAxNCkgKw0KICBnZW9tX2hsaW5lKHlpbnRlcmNlcHQgPSAwLCBsaW5ldHlwZT0iZGFzaGVkIikgKw0KICB0aGVtZShheGlzLnRleHQueCA9IGVsZW1lbnRfdGV4dChhbmdsZSA9IDQ1LCBoanVzdCA9IDEpLCBsZWdlbmQucG9zaXRpb24gPSAidG9wIikNCg0KcCA8LSBwICsgc2NhbGVfeV9jb250aW51b3VzKGxpbWl0cz1jKC0xLCAxLjUpKSAjIGZpeCBzY2FsZQ0KDQpwcmludChwKQ0KDQpsaWJyYXJ5KGZhY3RvZXh0cmEpDQojIFBsb3Qgc2hvd2luZyB0aGUgY2x1c3RlcmluZw0KZnZpel9tY2x1c3QobTQsICJjbGFzc2lmaWNhdGlvbiIsIGdlb20gPSAicG9pbnQiLA0KICAgICAgICAgICAgcG9pbnRzaXplID0gMS41LCBwYWxldHRlID0gImpjbyIpDQoNCiMgUGxvdCBzaG93aW5nIHRoZSBjbHVzdGVyaW5nIHVuY2VydGFpbnR5DQpmdml6X21jbHVzdChtNCwgInVuY2VydGFpbnR5IiwgcGFsZXR0ZSA9ICJqY28iKQ0KYGBgDQoNCiMjIyMjIyA1IHByb2ZpbGVzDQoNCmBgYHtyIGNsYXNzLnNvdXJjZSA9ICdmb2xkLWhpZGUnfQ0KbGlicmFyeShtY2x1c3QpDQoNCkJJQyA8LSBtY2x1c3RCSUMoc21zX3czICU+JQ0KICAgICAgICAgICAgICAgICAgIHNlbGVjdCgtaWQpKQ0KbTUgPC0gTWNsdXN0KHNtc193MyAlPiUNCiAgICAgICAgICAgICAgIHNlbGVjdCgtaWQpLCBtb2RlbE5hbWVzID0gIlZFViIsIEcgPSA1LCB4ID0gQklDKQ0KDQojIEV4dHJhY3QgbWVhbiB3ZWlnaHRlZCBmYWN0b3Igc2NvcmVzDQpsaWJyYXJ5KHJlc2hhcGUyKQ0KbWVhbnMgPC0gZGF0YS5mcmFtZShtNSRwYXJhbWV0ZXJzJG1lYW4sDQogICAgICAgICAgICAgICAgICAgIHN0cmluZ3NBc0ZhY3RvcnMgPSBGKSAlPiUNCiAgcm93bmFtZXNfdG9fY29sdW1uKCkgJT4lDQogIHJlbmFtZShNb3RpdmF0aW9uID0gcm93bmFtZSkgJT4lDQogIG1lbHQoaWQudmFycyA9ICJNb3RpdmF0aW9uIiwgdmFyaWFibGUubmFtZSA9ICJQcm9maWxlIiwgdmFsdWUubmFtZSA9ICJNZWFuIikgJT4lDQogIG11dGF0ZShNZWFuID0gcm91bmQoTWVhbiwgMiksDQogICAgICAgICBNZWFuID0gaWZlbHNlKE1lYW4gPiAxLjUsIDEuNSwgTWVhbiksICN0cmltIHZhbHVlcyBncmVhdGVyIGV4Y2VlZGluZyArIDEuNQ0KICAgICAgICAgTWVhbiA9IGlmZWxzZShNZWFuIDwgLTEsIC0xLCBNZWFuKSkgICAjYW5kIC0xDQoNCiMgUGxvdCBzaG93aW5nIHRoZSBzdGFuZGFyZGl6ZWQgbWVhbnMNCnAgPC0gbWVhbnMgJT4lDQogIGdncGxvdChhZXMoTW90aXZhdGlvbiwgTWVhbiwgZ3JvdXAgPSBQcm9maWxlLCBjb2xvciA9IFByb2ZpbGUpKSArDQogIGdlb21fcG9pbnQoc2l6ZSA9IDMpICsgDQogIGdlb21fbGluZShzaXplID0gMS41KSArICBzY2FsZV94X2Rpc2NyZXRlKGxpbWl0cyA9IGMoImFtb3RpdmF0aW9uIiwgImV4dGVybmFsIiwgImludHJvamVjdGVkIiwgImlkZW50aWZpZWQiLCAiaW50ZWdyYXRlZCIsICJpbnRyaW5zaWMiKSkgKw0KICBsYWJzKHggPSBOVUxMLCB5ID0gIlN0YW5kYXJkaXplZCBtZWFuIHdlaWdodGVkIGZhY3Rvci1zY29yZXMiKSArDQogIHNjYWxlX2NvbG91cl9tYW51YWwodmFsdWVzPWMoIiNFNjlGMDAiLCAiIzU2QjRFOSIsICIjMDAwMDAwIiwgIiMwMDlFNzMiLCAiI0YwRTQ0MiIsICIjMDA3MkIyIikpICsNCiAgdGhlbWVfYncoYmFzZV9zaXplID0gMTQpICsNCiAgZ2VvbV9obGluZSh5aW50ZXJjZXB0ID0gMCwgbGluZXR5cGU9ImRhc2hlZCIpICsNCiAgdGhlbWUoYXhpcy50ZXh0LnggPSBlbGVtZW50X3RleHQoYW5nbGUgPSA0NSwgaGp1c3QgPSAxKSwgbGVnZW5kLnBvc2l0aW9uID0gInRvcCIpDQoNCnAgPC0gcCArIHNjYWxlX3lfY29udGludW91cyhsaW1pdHM9YygtMSwgMS41KSkgIyBmaXggc2NhbGUNCg0KcHJpbnQocCkNCg0KbGlicmFyeShmYWN0b2V4dHJhKQ0KIyBQbG90IHNob3dpbmcgdGhlIGNsdXN0ZXJpbmcNCmZ2aXpfbWNsdXN0KG01LCAiY2xhc3NpZmljYXRpb24iLCBnZW9tID0gInBvaW50IiwNCiAgICAgICAgICAgIHBvaW50c2l6ZSA9IDEuNSwgcGFsZXR0ZSA9ICJqY28iKQ0KDQojIFBsb3Qgc2hvd2luZyB0aGUgY2x1c3RlcmluZyB1bmNlcnRhaW50eQ0KZnZpel9tY2x1c3QobTUsICJ1bmNlcnRhaW50eSIsIHBhbGV0dGUgPSAiamNvIikNCmBgYA0KDQojIyMjIyMgNiBwcm9maWxlcw0KDQpgYGB7ciBjbGFzcy5zb3VyY2UgPSAnZm9sZC1oaWRlJ30NCmxpYnJhcnkobWNsdXN0KQ0KDQpCSUMgPC0gbWNsdXN0QklDKHNtc193MyAlPiUNCiAgICAgICAgICAgICAgICAgICBzZWxlY3QoLWlkKSkNCm02IDwtIE1jbHVzdChzbXNfdzMgJT4lDQogICAgICAgICAgICAgICBzZWxlY3QoLWlkKSwgbW9kZWxOYW1lcyA9ICJWRVYiLCBHID0gNiwgeCA9IEJJQykNCg0KIyBFeHRyYWN0IG1lYW4gd2VpZ2h0ZWQgZmFjdG9yIHNjb3Jlcw0KbGlicmFyeShyZXNoYXBlMikNCm1lYW5zIDwtIGRhdGEuZnJhbWUobTYkcGFyYW1ldGVycyRtZWFuLA0KICAgICAgICAgICAgICAgICAgICBzdHJpbmdzQXNGYWN0b3JzID0gRikgJT4lDQogIHJvd25hbWVzX3RvX2NvbHVtbigpICU+JQ0KICByZW5hbWUoTW90aXZhdGlvbiA9IHJvd25hbWUpICU+JQ0KICBtZWx0KGlkLnZhcnMgPSAiTW90aXZhdGlvbiIsIHZhcmlhYmxlLm5hbWUgPSAiUHJvZmlsZSIsIHZhbHVlLm5hbWUgPSAiTWVhbiIpICU+JQ0KICBtdXRhdGUoTWVhbiA9IHJvdW5kKE1lYW4sIDIpLA0KICAgICAgICAgTWVhbiA9IGlmZWxzZShNZWFuID4gMS41LCAxLjUsIE1lYW4pLCAjdHJpbSB2YWx1ZXMgZ3JlYXRlciBleGNlZWRpbmcgKyAxLjUNCiAgICAgICAgIE1lYW4gPSBpZmVsc2UoTWVhbiA8IC0xLCAtMSwgTWVhbikpICAgI2FuZCAtMQ0KDQojIFBsb3Qgc2hvd2luZyB0aGUgc3RhbmRhcmRpemVkIG1lYW5zDQpwIDwtIG1lYW5zICU+JQ0KICBnZ3Bsb3QoYWVzKE1vdGl2YXRpb24sIE1lYW4sIGdyb3VwID0gUHJvZmlsZSwgY29sb3IgPSBQcm9maWxlKSkgKw0KICBnZW9tX3BvaW50KHNpemUgPSAzKSArIA0KICBnZW9tX2xpbmUoc2l6ZSA9IDEuNSkgKyAgc2NhbGVfeF9kaXNjcmV0ZShsaW1pdHMgPSBjKCJhbW90aXZhdGlvbiIsICJleHRlcm5hbCIsICJpbnRyb2plY3RlZCIsICJpZGVudGlmaWVkIiwgImludGVncmF0ZWQiLCAiaW50cmluc2ljIikpICsNCiAgbGFicyh4ID0gTlVMTCwgeSA9ICJTdGFuZGFyZGl6ZWQgbWVhbiB3ZWlnaHRlZCBmYWN0b3Itc2NvcmVzIikgKw0KICBzY2FsZV9jb2xvdXJfbWFudWFsKHZhbHVlcz1jKCIjRTY5RjAwIiwgIiM1NkI0RTkiLCAiIzAwMDAwMCIsICIjMDA5RTczIiwgIiNGMEU0NDIiLCAiIzAwNzJCMiIpKSArDQogIHRoZW1lX2J3KGJhc2Vfc2l6ZSA9IDE0KSArDQogIGdlb21faGxpbmUoeWludGVyY2VwdCA9IDAsIGxpbmV0eXBlPSJkYXNoZWQiKSArDQogIHRoZW1lKGF4aXMudGV4dC54ID0gZWxlbWVudF90ZXh0KGFuZ2xlID0gNDUsIGhqdXN0ID0gMSksIGxlZ2VuZC5wb3NpdGlvbiA9ICJ0b3AiKQ0KDQpwIDwtIHAgKyBzY2FsZV95X2NvbnRpbnVvdXMobGltaXRzPWMoLTEsIDEuNSkpICMgZml4IHNjYWxlDQoNCnByaW50KHApDQoNCmxpYnJhcnkoZmFjdG9leHRyYSkNCiMgUGxvdCBzaG93aW5nIHRoZSBjbHVzdGVyaW5nDQpmdml6X21jbHVzdChtNiwgImNsYXNzaWZpY2F0aW9uIiwgZ2VvbSA9ICJwb2ludCIsDQogICAgICAgICAgICBwb2ludHNpemUgPSAxLjUsIHBhbGV0dGUgPSAiamNvIikNCg0KIyBQbG90IHNob3dpbmcgdGhlIGNsdXN0ZXJpbmcgdW5jZXJ0YWludHkNCmZ2aXpfbWNsdXN0KG02LCAidW5jZXJ0YWludHkiLCBwYWxldHRlID0gImpjbyIpDQpgYGANCg0KDQojIyMgSW50ZXJwcmV0YXRpb24NCg0KQmFzZWQgb24gc3RhdGlzdGljYWwgY3JpdGVyaWEgKGkuYy4gQklDKSwgY29tcGxleCBtb2RlbHMgd2VyZSBtb3JlIGFwcHJvcHJpYXRlIChub3RlLXRvLXNlbGY6IGFsc28gY2hlY2sgU1NBX0JJQywgd2hpY2ggYWRqdXN0cyBmb3Igc2FtcGxlIHNpemUsIG9yIElDTCwgd2hpY2ggcGVuYWxpemVzIG9uIGVudHJvcHkpLiBIb3dldmVyLCBtb3JlIGNvbXBsZXggbW9kZWxzIGRpZCBub3QgbmVjZXNzYXJpbHkgbWVhbiBtb3JlIG1lYW5pbmdmdWwgbW9kZWxzLCBndWlkZWQgYnkgU0RULiBJbiBhbGwgd2F2ZXMgd2UgZm91bmQgdGhhdCB0aGUgMy1jbGFzcyBzb2x1dGlvbiBwcm92aWRlZCBtZWFuaW5nZnVsbCBwcm9maWxlcy4gV2UgaGF2ZSByZS1vcmRlbmVkIHRoZSBwcm9maWxlcyB0byBtYXRjaCB0aGUgbW90aXZhdGlvbmFsIGNvbnRpbnV1bSBwcm9wb3NlZCBmcm9tIFNEVDoNCg0KMS4gKipBbW90aXZhdGVkKio6IHByaW1hcmlseSBhbW90aXZhdGlvbiwgYW5kIGFib3V0IGF2ZXJhZ2UgKG9yIHNvbWV3aGF0IGFib3ZlIGF2ZXJhZ2UpIG9uIGFsbCBvdGhlciBmb3JtcyBvZiBiZWhhdmlvcmFsIHJlZ3VsYXRpb24uDQoyLiAqKkxvdyBpbiBtb3RpdmF0aW9uKio6IGxvdyBsZXZlbHMgKGkuYy4sIH4gLTAuNSBTRCkgb2YgYWxsIHR5cGVzIG9mIGJlaGF2aW9yYWwgcmVndWxhdGlvbi4NCjMuICoqSGlnaCBpbiBtb3RpdmF0aW9uKio6IGhpZ2ggaW4gYXV0b25vbW91cyBmb3JtcyBvZiBtb3RpdmF0aW9uIChpLmUuIGludHJpbnNpYywgaW50ZWdyYXRlZCwgaWRlbnRpZmllZCksIGFuZCBhbHNvIGluIGNvbnRyb2xsZWQgZm9ybXMgKGkuZS4gZXh0ZXJuYWwsIGludHJvamVjdGVkKSwgYnV0IGxvdyBpbiBhbW90aXZhdGlvbi4gDQoNClRoZSBmb3VydGggcHJvZmlsZSBwcm92aWRlZCBhbiBleHRyYSAocmVhZDogaW50ZXJwcmV0YWJsZSkgcHJvZmlsZSBpbiBXYXZlIDEgKGkuZS4sIGhpZ2ggaW4gaW50cm9qZWN0ZWQpLCBhbmQgV2F2ZSAzIChpLmUuLCBtb2RlcmF0ZSBvbiBhbGwsIGxvdyBpbiBhbW90aXZhdGlvbiksIGJ1dCBub3QgaW4gV2F2ZSAyICh3aGVyZSBwcm9maWxlcyBzZWVtZWQgdG8gZGlmZmVyIG9ubHkgcXVhbnRpdGF0aXZlbHkpLiBUaGUgYWRkaXRpb24gb2YgdGhpcyBmb3VydGggcHJvZmlsZSBtYWtlcyBsb25naXR1ZGluYWwgY29tcGFyaXNvbiB2ZXJ5IGRpZmZpY3VsdC4gVGhlcmVmb3JlLCB3ZSBjaG9zZSB0aGUgMy1jbGFzcyBzb2x1dGlvbi4gIA0KDQo8YnI+DQoNCiMjIyBNZW1iZXJzaGlwIHByb2JhYmlsaXRpZXMgey50YWJzZXQgLnRhYnNldC1mYWRlfQ0KDQpXZSBhbHNvIGNoZWNrZWQgdGhlIHByb2ZpbGUgc2l6ZXMgYW5kIHRoZSAoYXZlcmFnZSBwb3N0ZXJpb3IpIHByb2ZpbGUgbWVtYmVyc2hpcCBwcm9iYWJpbGl0aWVzIHRvIGFzc2VzcyBpZiB0aGUgMy1wcm9maWxlIHNvbHV0aW9uIGlzIHByb2JsZW1hdGljLiAoTm90ZSB0aGF0IHdlIHNhdmVkIHRoZSAzLXByb2ZpbGUgc29sdXRpb24gaW4gZWFjaCB3YXZlLikgVGhlIHRhYmxlIGJlbG93IHN1cHBvcnRzIHRoZSB0aHJlZS1jbGFzcyBzb2x1dGlvbiwgd2l0aCBoaWdoIHByb2JhYmlsaXRpZXMgdGhhdCBhdGhsZXRlcyBiZWxvbmcgdG8gdGhlaXIgYXNzaWduZWQgcHJvZmlsZXMgKGFsYmVpdCBzbGlnaHQgb3ZlcmxhcCkgLSBhdmVyYWdlIHBvc3RlcmlvciBwcm9iYWJpbGl0aWVzIGluIGFsbCB3YXZlcyBhYm92ZSAuODkuIE1vcmVvdmVyLCB0aGUgcmVsYXRpdmUgcHJvcG9ydGlvbiBvZiB0aGUgY2xhc3NlcyBkaWQgbm90IGNoYW5nZSBzdWJzdGFudGlhbGx5IGFjcm9zcyB0aW1lLg0KDQojIyMjIFdhdmUgMQ0KDQpgYGB7ciBjbGFzcy5zb3VyY2UgPSAnZm9sZC1oaWRlJ30NCmxvYWQoZmlsZSA9ICIzcHJvZmlsZV93MS5SRGF0YSIpICNsb2FkIHRoZSBtb2RlbA0KcHJvYiA8LSBhcy5kYXRhLmZyYW1lKG0zJHopICN0dXJuIHByb2JhYmlsaXRpZXMgaW50byBkZg0KcHJvYiRjbGFzcyA8LSBtMyRjbGFzc2lmaWNhdGlvbiAjZ2V0IGFzc2lnbmVkIHByb2ZpbGVzDQoNCmMxIDwtIHByb2IgJT4lICNjYWxjdWxhdGUgYXZlcmFnZSBwb3N0ZXJpb3IgcHJvYmFiaWxpdGllcw0KICBmaWx0ZXIoY2xhc3MgPT0gMSkNCmMyIDwtIHByb2IgJT4lDQogIGZpbHRlcihjbGFzcyA9PSAyKQ0KYzMgPC0gcHJvYiAlPiUNCiAgZmlsdGVyKGNsYXNzID09IDMpDQoNCmRmIDwtIGFzLmRhdGEuZnJhbWUocmJpbmQoY29sTWVhbnMoYzEpLCBjb2xNZWFucyhjMiksIGNvbE1lYW5zKGMzKSkpICNtYWtlIGRmIGZvciBwb3N0ZXJpb3IgcHJvYmFiaWxpdHkgdGFibGUNCmNvbG5hbWVzKGRmKSA8LSBjKCJMb3ciLCAiSGlnaCIsICJBbW90aXZhdGlvbiIsICJjbGFzcyIpDQpkZiA8LSBkZlssIGMoImNsYXNzIiwgIkxvdyIsICJIaWdoIiwgIkFtb3RpdmF0aW9uIiApXSAjcmVvcmRlcg0KDQpwIDwtIGMoIkxvdyIsICJIaWdoIiwgIkFtb3RpdmF0aW9uIikNCm4gPC0gYXMuY2hhcmFjdGVyKGMobGVuZ3RoKG0zJG5bbTMkY2xhc3NpZmljYXRpb249PTFdKSwgbGVuZ3RoKG0zJG5bbTMkY2xhc3NpZmljYXRpb249PTJdKSwgbGVuZ3RoKG0zJG5bbTMkY2xhc3NpZmljYXRpb249PTNdKSkpICNnZXQgcHJvZmlsZSBzaXplcw0KbjIgPC0gYXMuY2hhcmFjdGVyKHJvdW5kKGFzLm51bWVyaWMobikgLyBsZW5ndGgobTMkY2xhc3NpZmljYXRpb24pICogMTAwKSkNCg0KZGYkY2xhc3MgPC0gaWZlbHNlKGRmJGNsYXNzID09IDEsIHBhc3RlKHBbMV0sICIgKE49IiwgblsxXSwgIiwgIiwgbjJbMV0sICIlIiwgIikiLCBzZXAgPSAiIiksIGlmZWxzZShkZiRjbGFzcyA9PSAyLCBwYXN0ZShwWzJdLCAiIChOPSIsIG5bMl0sICIsICIsIG4yWzJdLCAiJSIsICIpIiwgc2VwID0gIiIpLCBwYXN0ZShwWzNdLCAiIChOPSIsIG5bM10sICIsICIsIG4yWzNdLCAiJSIsICIpIiwgc2VwID0gIiIpKSkNCg0Ka25pdHI6OmthYmxlKGRmLCBkaWdpdHM9MiwgImh0bWwiLCBjYXB0aW9uPSJNZW1iZXJzaGlwIHByb2JhYmlsaXRpZXMgaW4gV2F2ZSAxIikgJT4lICNtYWtlIHRhYmxlDQogIGthYmxlRXh0cmE6OmthYmxlX3N0eWxpbmcoYm9vdHN0cmFwX29wdGlvbnMgPSBjKCJzdHJpcGVkIiwgImhvdmVyIikpDQpgYGANCg0KIyMjIyBXYXZlIDINCg0KYGBge3IgY2xhc3Muc291cmNlID0gJ2ZvbGQtaGlkZSd9DQpsb2FkKGZpbGUgPSAiM3Byb2ZpbGVfdzIuUkRhdGEiKSAjbG9hZCB0aGUgbW9kZWwNCnByb2IgPC0gYXMuZGF0YS5mcmFtZShtMyR6KSAjdHVybiBwcm9iYWJpbGl0aWVzIGludG8gZGYNCnByb2IkY2xhc3MgPC0gbTMkY2xhc3NpZmljYXRpb24gI2dldCBhc3NpZ25lZCBwcm9maWxlcw0KDQpjMSA8LSBwcm9iICU+JSAjY2FsY3VsYXRlIGF2ZXJhZ2UgcG9zdGVyaW9yIHByb2JhYmlsaXRpZXMNCiAgZmlsdGVyKGNsYXNzID09IDEpDQpjMiA8LSBwcm9iICU+JQ0KICBmaWx0ZXIoY2xhc3MgPT0gMikNCmMzIDwtIHByb2IgJT4lDQogIGZpbHRlcihjbGFzcyA9PSAzKQ0KDQpkZiA8LSBhcy5kYXRhLmZyYW1lKHJiaW5kKGNvbE1lYW5zKGMxKSwgY29sTWVhbnMoYzIpLCBjb2xNZWFucyhjMykpKSAjbWFrZSBkZiBmb3IgcG9zdGVyaW9yIHByb2JhYmlsaXR5IHRhYmxlDQpjb2xuYW1lcyhkZikgPC0gYygiTG93IiwgIkhpZ2giLCAiQW1vdGl2YXRpb24iLCAiY2xhc3MiKQ0KZGYgPC0gZGZbLCBjKCJjbGFzcyIsICJMb3ciLCAiSGlnaCIsICJBbW90aXZhdGlvbiIgKV0gI3Jlb3JkZXINCg0KcCA8LSBjKCJMb3ciLCAiSGlnaCIsICJBbW90aXZhdGlvbiIpDQpuIDwtIGFzLmNoYXJhY3RlcihjKGxlbmd0aChtMyRuW20zJGNsYXNzaWZpY2F0aW9uPT0xXSksIGxlbmd0aChtMyRuW20zJGNsYXNzaWZpY2F0aW9uPT0yXSksIGxlbmd0aChtMyRuW20zJGNsYXNzaWZpY2F0aW9uPT0zXSkpKSAjZ2V0IHByb2ZpbGUgc2l6ZXMNCm4yIDwtIGFzLmNoYXJhY3Rlcihyb3VuZChhcy5udW1lcmljKG4pIC8gbGVuZ3RoKG0zJGNsYXNzaWZpY2F0aW9uKSAqIDEwMCkpDQoNCmRmJGNsYXNzIDwtIGlmZWxzZShkZiRjbGFzcyA9PSAxLCBwYXN0ZShwWzFdLCAiIChOPSIsIG5bMV0sICIsICIsIG4yWzFdLCAiJSIsICIpIiwgc2VwID0gIiIpLCBpZmVsc2UoZGYkY2xhc3MgPT0gMiwgcGFzdGUocFsyXSwgIiAoTj0iLCBuWzJdLCAiLCAiLCBuMlsyXSwgIiUiLCAiKSIsIHNlcCA9ICIiKSwgcGFzdGUocFszXSwgIiAoTj0iLCBuWzNdLCAiLCAiLCBuMlszXSwgIiUiLCAiKSIsIHNlcCA9ICIiKSkpDQoNCmtuaXRyOjprYWJsZShkZiwgZGlnaXRzPTIsICJodG1sIiwgY2FwdGlvbj0iTWVtYmVyc2hpcCBwcm9iYWJpbGl0aWVzIGluIFdhdmUgMiIpICU+JSAjbWFrZSB0YWJsZQ0KICBrYWJsZUV4dHJhOjprYWJsZV9zdHlsaW5nKGJvb3RzdHJhcF9vcHRpb25zID0gYygic3RyaXBlZCIsICJob3ZlciIpKQ0KYGBgDQoNCiMjIyMgV2F2ZSAzDQoNCmBgYHtyIGNsYXNzLnNvdXJjZSA9ICdmb2xkLWhpZGUnfQ0KbG9hZChmaWxlID0gIjNwcm9maWxlX3czLlJEYXRhIikgI2xvYWQgdGhlIG1vZGVsDQpwcm9iIDwtIGFzLmRhdGEuZnJhbWUobTMkeikgI3R1cm4gcHJvYmFiaWxpdGllcyBpbnRvIGRmDQpwcm9iJGNsYXNzIDwtIG0zJGNsYXNzaWZpY2F0aW9uICNnZXQgYXNzaWduZWQgcHJvZmlsZXMNCg0KYzEgPC0gcHJvYiAlPiUgI2NhbGN1bGF0ZSBhdmVyYWdlIHBvc3RlcmlvciBwcm9iYWJpbGl0aWVzDQogIGZpbHRlcihjbGFzcyA9PSAxKQ0KYzIgPC0gcHJvYiAlPiUNCiAgZmlsdGVyKGNsYXNzID09IDIpDQpjMyA8LSBwcm9iICU+JQ0KICBmaWx0ZXIoY2xhc3MgPT0gMykNCg0KZGYgPC0gYXMuZGF0YS5mcmFtZShyYmluZChjb2xNZWFucyhjMSksIGNvbE1lYW5zKGMyKSwgY29sTWVhbnMoYzMpKSkgI21ha2UgZGYgZm9yIHBvc3RlcmlvciBwcm9iYWJpbGl0eSB0YWJsZQ0KY29sbmFtZXMoZGYpIDwtIGMoIkxvdyIsICJBbW90aXZhdGlvbiIsICJIaWdoIiwgImNsYXNzIikNCmRmIDwtIGRmWywgYygiY2xhc3MiLCAiTG93IiwgIkFtb3RpdmF0aW9uIiwgIkhpZ2giICldICNyZW9yZGVyDQoNCnAgPC0gYygiTG93IiwgIkFtb3RpdmF0aW9uIiwgIkhpZ2giKQ0KbiA8LSBhcy5jaGFyYWN0ZXIoYyhsZW5ndGgobTMkblttMyRjbGFzc2lmaWNhdGlvbj09MV0pLCBsZW5ndGgobTMkblttMyRjbGFzc2lmaWNhdGlvbj09Ml0pLCBsZW5ndGgobTMkblttMyRjbGFzc2lmaWNhdGlvbj09M10pKSkgI2dldCBwcm9maWxlIHNpemVzDQpuMiA8LSBhcy5jaGFyYWN0ZXIocm91bmQoYXMubnVtZXJpYyhuKSAvIGxlbmd0aChtMyRjbGFzc2lmaWNhdGlvbikgKiAxMDApKQ0KDQpkZiRjbGFzcyA8LSBpZmVsc2UoZGYkY2xhc3MgPT0gMSwgcGFzdGUocFsxXSwgIiAoTj0iLCBuWzFdLCAiLCAiLCBuMlsxXSwgIiUiLCAiKSIsIHNlcCA9ICIiKSwgaWZlbHNlKGRmJGNsYXNzID09IDIsIHBhc3RlKHBbMl0sICIgKE49IiwgblsyXSwgIiwgIiwgbjJbMl0sICIlIiwgIikiLCBzZXAgPSAiIiksIHBhc3RlKHBbM10sICIgKE49IiwgblszXSwgIiwgIiwgbjJbM10sICIlIiwgIikiLCBzZXAgPSAiIikpKQ0KDQprbml0cjo6a2FibGUoZGYsIGRpZ2l0cz0yLCAiaHRtbCIsIGNhcHRpb249Ik1lbWJlcnNoaXAgcHJvYmFiaWxpdGllcyBpbiBXYXZlIDMiKSAlPiUgI21ha2UgdGFibGUNCiAga2FibGVFeHRyYTo6a2FibGVfc3R5bGluZyhib290c3RyYXBfb3B0aW9ucyA9IGMoInN0cmlwZWQiLCAiaG92ZXIiKSkNCmBgYA0KDQo8YnI+DQoNCiMjIFN0ZXAgMiANCg0KIyMjIE9sZCAzLXN0ZXAgYXBwcm9hY2gNCg0KQXMgYSBzZWNvbmQgc3RlcCwgd2UgYXNzaWduIHRvIGVhY2ggc3ViamVjdCB0aGVpciBwcm9maWxlIG1lbWJlcnNoaXAuIFRocm91Z2ggInRoZSBvbGQgMy1zdGVwIGFwcHJvYWNoIiBlYWNoIHN1YmplY3QncyBjbGFzcyBtZW1iZXJzaGlwIGlzICpkZXRlcm1pbmVkKiBieSB0aGVpciBtb3N0IGxpa2VseSBjbGFzcyBtZW1iZXJzaGlwLiBIb3dldmVyLCB0aGlzIGFwcHJvYWNoIG1heSBiZSBwcm9ibGVtYXRpYywgYXMgaXQgZG9lcyBub3QgYWNjb3VudCBmb3IgY2xhc3NpZmljYXRpb24gZXJyb3IsIGFuZCB0aHVzIG1heSBnaXZlIGJpYXNlZCBlc3RpbWF0ZXMgYW5kIHN0YW5kYXJkIGVycm9ycyB3aXRoIHRoZSByZWxhdGlvbnNoaXBzIHdpdGggb3RoZXIgdmFyaWFibGVzLCBhbmQgdGhlIHRyYW5zaXRpb24gcHJvYmFiaWxpdGllcyAoc2VlIFtuZXcgYXBwcm9hY2hdKCNuZXcpKS4NCg0KYGBge3J9DQpuYW1lcyhzbXNfbG9uZ19ubSkNCmBgYA0KDQojIyMgTmV3IDMtc3RlcCBhcHByb2FjaCB7I25ld30NCldlIGNyZWF0ZWQgYSBub21pbmFsICJtb3N0IGxpa2VseSBjbGFzcyIgdmFyaWFibGUgKk4qLCBhbmQgYSBsYXRlbnQgY2xhc3MgdmFyaWFibGUgKnoqLCB3aGljaCByZWZsZWN0cyB0aGUgcHJvYmFiaWxpdHkgdG8gYmVsb25nIHRvIE4uIA0KDQoNCg0KDQotLS0tDQoNCiMgTFBUQQ0KDQpHaXZlbiB0aGF0IHRoZSBtb3RpdmF0aW9uYWwgcHJvZmlsZXMgb2JzZXJ2ZWQgb24gdGhlIExQQXMgYXBwZWFyZWQgZmFpcmx5IGNvbnNpc3RlbnQgYWNyb3NzIHRoZSB3YXZlcywgdGhlIG5leHQgc3RlcCBpcyB0byB1c2UgTFBUQSB0byBkZXNjcmliZSByZXNwb25kZW50cycgY2hhbmdlIG9mIG1vdGl2YXRpb25hbCBwcm9maWxlcyBhY3Jvc3MgdGltZS4gVGhpcyBhbGxvd3MgdXMgdG8gZXhhbWluZSB0aGUgaXNzdWUgb2YgY29uc2lzdGVuY3kgb3IgY2hhbmdlIGZyb20gYW4gaW50cmFpbmRpdmlkdWFsIHBlcnNwZWN0aXZlLg0KDQoNCg0K</div>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open')
  });
});
</script>

<!-- code folding -->
<script>
$(document).ready(function () {
  window.initializeSourceEmbed("lpta.Rmd");
  window.initializeCodeFolding("show" === "show");
});
</script>

<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
